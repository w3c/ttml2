<?xml version="1.0" encoding="UTF-8"?>
<!-- $Id$ -->
<!DOCTYPE spec PUBLIC "-//W3C//DTD Specification V2.10//EN" "xmlspec-ttml2.dtd" [
<!ENTITY % entities SYSTEM "entities.dtd">
%entities;
<!ENTITY status SYSTEM "status.xml">
<!ENTITY title "&title;">
<!ENTITY prevloc "https://www.w3.org/TR/2020/CR-ttml2-20200128/">
<!ENTITY latestedloc "https://w3c.github.io/ttml2/index.html">
<!ENTITY implreport "https://www.w3.org/wiki/TimedText/TTML2SecondEditionImplementationReport">
<!ENTITY ghrepo "w3c/ttml2">
<!ENTITY ghbranch "main">
<!ENTITY versionOfTT "2">
<!ENTITY tbd "<phrase role=&apos;tbd&apos;>To Be Defined</phrase>">
<!ENTITY sp "&#x0020;">
<!ENTITY sect "&#x00a7;">
<!ENTITY times "&#x00d7;">
<!ENTITY aring "&#x00e5;">
<!ENTITY ccedil "&#x00e7;">
<!ENTITY Ccedil "&#x00c7;">
<!ENTITY mult "&#x00d7;">
<!ENTITY auml "&#x00e4;">
<!ENTITY ouml "&#x00f6;">
<!ENTITY uuml "&#x00fc;">
<!ENTITY nbsp "&#x00a0;">
<!ENTITY theta "&#x03b8;">
<!ENTITY ndash "&#x2013;">
<!ENTITY mdash "&#x2014;">
<!ENTITY prime "&#x2032;">
<!ENTITY hArr "&#x21d4;">
<!ENTITY trade "&#x2122;">
<!ENTITY hellip "&#x2026;">
<!ENTITY isin "&#x2208;">
<!ENTITY minus "&#x2212;">
<!ENTITY le "&#x2264;">
<!ENTITY ge "&#x2265;">
<!ENTITY plusmn "&#x00b1;">
<!ENTITY thinsp "&#x2009;">
<!ENTITY infin "&#x221e;">
<!ENTITY real "&#x211c;">
<!ENTITY prop "&#x221d;">
<!ENTITY not "&#x00ac;">
<!ENTITY deg "&#x00b0;">
<!ENTITY lor "&#x2228;">
<!ENTITY xor "&#x2295;">
<!ENTITY ttml-ex1 SYSTEM "./examples/ex1.xml.esc">
<!ENTITY ttml-ex1-x-0 SYSTEM "./examples/ex1-x-0.xml.esc">
<!ENTITY ttml-ex1-p-0 SYSTEM "./examples/ex1-p-0.xml.esc">
<!ENTITY ttml-ex1-x-1 SYSTEM "./examples/ex1-x-1.xml.esc">
<!ENTITY ttml-ex1-x-2 SYSTEM "./examples/ex1-x-2.xml.esc">
<!ENTITY ttml-ex2-pop-on SYSTEM "./examples/ex2-pop-on.xml.esc">
<!ENTITY ttml-ex2-roll-up SYSTEM "./examples/ex2-roll-up.xml.esc">
<!ENTITY ttml-ex2-paint-on SYSTEM "./examples/ex2-paint-on.xml.esc">
<!ENTITY ttml-ex4-overflow SYSTEM "./examples/ex4-overflow.xml.esc">
<!ENTITY profile-ttml2-presentation SYSTEM "./profiles/ttml2-presentation.xml.esc">
<!ENTITY profile-ttml2-transformation SYSTEM "./profiles/ttml2-transformation.xml.esc">
<!ENTITY profile-ttml2-full SYSTEM "./profiles/ttml2-full.xml.esc">
]>
<?xml-stylesheet type="text/xsl" href="xmlspec-ttml2.xsl"?>
<spec w3c-doctype="&doctype;" role="&document.role;" canonical-url="&w3c-designation;">
<header>
<title>&title;</title>
<w3c-designation>&w3c-designation;</w3c-designation>
<w3c-doctype>&document.status;</w3c-doctype>
<pubdate>
<day>&draft.day;</day>
<month>&draft.month;</month>
<year>&draft.year;</year>
</pubdate>
<publoc>
<loc href="&w3c-designation;">&w3c-designation;</loc>
</publoc>
<!--
<latestedloc>
<loc href="&latestedloc;">&latestedloc;</loc>
</latestedloc>
-->
<implreploc>
<loc href="&implreport;">&implreport;</loc>
</implreploc>
<ghrepoloc>
<ghloc repo="&ghrepo;" branch="&ghbranch;" />
</ghrepoloc>
<latestloc>
<loc href="&latest;">&latest;</loc>
</latestloc>
<!--
<latestrec>
<loc href="&latestrec;">&latestrec;</loc>
</latestrec>
-->
<prevlocs>
<loc href="&prevloc;">&prevloc;</loc>
</prevlocs>
<authlist id="editors" role="editor">
<author w3c-uid="34030">
<name>Glenn Adams</name>
<affiliation>Invited Expert</affiliation>
</author>
<author w3c-uid="36324">
<name>Cyril Concolato</name>
<affiliation>Netflix</affiliation>
</author>
</authlist>
<authlist id="contributors" role="contributor">
<author w3c-uid="34030">
<name>Glenn Adams</name>
<affiliation>Invited Expert</affiliation>
</author>
<author w3c-uid="36324">
<name>Cyril Concolato</name>
<affiliation>Netflix</affiliation>
</author>
<author>
<name>Mike Dolan</name>
<affiliation>Invited Expert</affiliation>
</author>
<author>
<name>Sean Hayes</name>
<affiliation>Microsoft</affiliation>
</author>
<author>
<name>Frans de Jong</name>
<affiliation>European Broadcasting Union</affiliation>
</author>
<author>
<name>Dae Kim</name>
<affiliation>Netflix</affiliation>
</author>
<author>
<name>Pierre-Anthony Lemieux</name>
<affiliation>MovieLabs</affiliation>
</author>
<author>
<name>Nigel Megitt</name>
<affiliation>British Broadcasting Corporation</affiliation>
</author>
<author>
<name>Dave Singer</name>
<affiliation>Apple Computer</affiliation>
</author>
<author>
<name>Jerry Smith</name>
<affiliation>Microsoft</affiliation>
</author>
<author>
<name>Andreas Tai</name>
<affiliation>Institut f&uuml;r Rundfunktechnik GmbH</affiliation>
</author>
</authlist>
<errataloc href="https://www.w3.org/2018/11/ttml2-errata.html"/>
<abstract id="abstract">
<p>This document specifies the Second Edition of the Timed Text Markup Language (TTML),
Version 2, also known as TTML2 (2e), in terms of a vocabulary and semantics
thereof.</p>
<p>The Timed Text Markup Language is a content type that represents
timed text media for the purpose of interchange among authoring
systems. Timed text is textual information that is intrinsically or
extrinsically associated with timing information.</p>
<p>It is intended to be used for the purpose of transcoding or
exchanging timed text information among legacy distribution content
formats presently in use for subtitling and captioning functions.</p>
<p>In addition to being used for interchange among legacy distribution content
formats, TTML Content may be used directly as a distribution format,
for example, providing a standard content format to reference from a <el>&lt;track&gt;</el>
element in an <bibref ref="html"/> document, or a <el>&lt;text&gt;</el> or 
<el>&lt;textstream&gt;</el> media element in a <bibref
ref="smil3"/> document.</p>
</abstract>
&status;
<langusage><language id="en-us">English</language></langusage>
<revisiondesc><p>Commit: $Date$</p></revisiondesc>
</header>
<body>
<div1 id="intro">
<head>Introduction</head>
<p><emph>Unless specified otherwise, this section and its sub-sections are non-normative.</emph></p>
<p>The Timed Text Markup Language (TTML), Version 2, also referred to as TTML2,
provides a standardized representation of a particular subset of
textual information with which stylistic, layout, and timing semantics are associated by
an author or an authoring system for the purpose of interchange and processing.</p>
<p>TTML is expressly designed to meet only a limited set of requirements
established by <bibref ref="ttaf1-req"/>, and summarized in <specref
ref="requirements"/>. In particular, only those requirements which service the
need of performing interchange with existing, legacy distribution systems are
satisfied.</p>
<p>In addition to being used for interchange among legacy distribution content
formats, TTML Content may be used directly as a distribution format, providing, for
example, a standard content format to reference from a <el>&lt;track&gt;</el>
element in an <bibref ref="html"/> document, or a <el>&lt;text&gt;</el> or 
<el>&lt;textstream&gt;</el> media element in a <bibref
ref="smil3"/> document. Certain properties of TTML support
streamability of content, as described in <specref ref="streaming"/>.</p>
<note>
<p>While TTML is not expressly designed for direct (embedded) integration into an
HTML or a SMIL document instance, such integration is not precluded.</p>
</note>
<note>
<p>In some contexts of use, it may be appropriate to employ
animated content to depict sign language representations of the same content
as expressed by a Timed Text <loc href="#terms-document-instance">document instance</loc>. This use case is not
explicitly addressed by TTML mechanisms, but may be addressed by some
external multimedia integration technology, such as SMIL.</p>
</note>
<note role="historical">
<p>In previous drafts of this specification, TTML was referred to as DFXP (Distribution
Format Exchange Profile). This latter term is retained for historical reasons in
certain contexts, such as profile names and designators.</p>
</note>
<div2 id="model">
<head>System Model</head>
<p>Use of TTML is intended to function in a wider context of Timed Text
Authoring, Transcoding, Distribution and Presentation mechanisms that are based upon the system
model depicted in <specref ref="model-graphic"/>, wherein the Timed Text Markup Language
serves as a bidirectional interchange format among a heterogeneous collection of
authoring systems, and as a unidirectional interchange format to a
heterogeneous collection of distribution formats after undergoing transcoding
or compilation to the target distribution formats as required, and where one
particular distribution format is a TTML Content Document.</p>
<p>Two classes of processor are described. Authoring systems and validation processors
are examples of Transformation Processors; transcoding systems and rendering processors
are examples of Presentation Processors. A TTML Profile Document can be associated with
a TTML Content Document or a processor, to allow each to express those features that are
available, prohibited or required. Collectively this allows the constraints of the
chain from authoring to presentation to be expressed in a formal language.</p>
<p>Processors can implement the defined mapping to TTML Intermediate Documents.
The system model depicts one such rendering processor that further maps those documents
into HTML and CSS fragments that could be inserted into an <bibref ref="html"/> document for 
display by a user agent.</p>
<table id="model-graphic" role="example-images">
<caption>Figure 1 &ndash; System Model</caption>
<tbody>
<tr>
<td><graphic id="graphic-model" source="images/model.svg" alt="System Model"/></td>
</tr>
</tbody>
</table>
<p></p>
</div2> <!-- model -->
<div2 id="examples">
<head>Document Examples</head>
<p>The following sections describe simple examples of a TTML <loc href="#terms-document-instance">document instance</loc>:</p>
<ulist>
<item><p><specref ref="single-region-example"/></p></item>
<item><p><specref ref="multiple-region-example"/></p></item>
</ulist>
<div3 id="single-region-example">
<head>Single Region Example</head>
<p>A TTML <loc href="#terms-document-instance">document instance</loc> consists of a <el>tt</el> document element that contains
a header and a body, where the header specifies document level metadata, styling
definitions and layout definitions, and the body specifies text content intermixed
with references to style and layout information and inline styling and timing information.</p>
<table id="ttml-example-document-structure" role="example">
<caption>Example Fragment &ndash; TTML Document Structure</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;tt xml:lang="" xmlns="http://www.w3.org/ns/ttml"&gt;
  &lt;head&gt;
    &lt;metadata/&gt;
    &lt;styling/&gt;
    &lt;layout/&gt;
  &lt;/head&gt;
  &lt;body/&gt;
&lt;/tt&gt;
</eg>
</td></tr>
</tbody>
</table>
<p>Document level metadata may specify a document title, description,
and copyright information. In addition, arbitrary metadata drawn from
other namespaces may be specified.</p>
<table id="ttml-example-metadata" role="example">
<caption>Example Fragment &ndash; TTML Metadata</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;metadata xmlns:ttm="http://www.w3.org/ns/ttml#metadata"&gt;
  &lt;ttm:title&gt;Timed Text TTML Example&lt;/ttm:title&gt;
  &lt;ttm:copyright&gt;The Authors (c) 2006&lt;/ttm:copyright&gt;
&lt;/metadata&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>Styling information may be specified in the form of style specification
definitions that are referenced by layout and content information,
specified inline with content information, or both.</p>
<p>In <specref ref="ttml-example-styling"/>, four style sets of specifications
are defined, with one set serving as a collection of default styles.</p>
<table id="ttml-example-styling" role="example">
<caption>Example Fragment &ndash; TTML Styling</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;styling xmlns:tts="http://www.w3.org/ns/ttml#styling"&gt;
  &lt;!-- s1 specifies default color, font, and text alignment --&gt;
  &lt;style xml:id="s1"
    tts:color="white"
    tts:fontFamily="proportionalSansSerif"
    tts:fontSize="22px"
    tts:textAlign="center"
  /&gt;
  &lt;!-- alternative using yellow text but otherwise the same as style s1 --&gt;
  &lt;style xml:id="s2" style="s1" tts:color="yellow"/&gt;
  &lt;!-- a style based on s1 but justified to the right --&gt;
  &lt;style xml:id="s1Right" style="s1" tts:textAlign="end" /&gt;     
  &lt;!-- a style based on s2 but justified to the left --&gt;
  &lt;style xml:id="s2Left" style="s2" tts:textAlign="start" /&gt;
&lt;/styling&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>Layout information defines one or more regions into which content
is intended to be presented &mdash; here we define a single region. A region definition may reference one or
more sets of style specifications in order to permit content flowed in the
region to inherit from these styles.
In <specref ref="ttml-example-layout"/>, the region definition makes
reference to style specification <code>s1</code> augmented by specific inline
styles which, together, allow content flowed into the region to inherit
from the region&apos;s styles (in the case
that a style is not already explicitly specified on content or inherited
via the content hierarchy.)</p>
<table id="ttml-example-layout" role="example">
<caption>Example Fragment &ndash; TTML Layout</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;layout xmlns:tts="http://www.w3.org/ns/ttml#styling"&gt;
  &lt;region xml:id="subtitleArea"
    style="s1"
    tts:extent="560px 62px"
    tts:padding="5px 3px"
    tts:backgroundColor="black"
    tts:displayAlign="after"
  /&gt;
&lt;/layout&gt;  
</eg>
</td>
</tr>
</tbody>
</table>
<p>The content of a <loc href="#terms-document-instance">document instance</loc> is expressed
in its body, which is organized in terms of block and inline text elements.
The hierarchical organization of content elements serves a primary role in
determining both spatial and temporal relationships. For example, in
<specref ref="ttml-example-body"/>, each paragraph (<el>p</el> element)
is flowed into its target region in the specified lexical order; furthermore,
the active time interval of each paragraph is timed in accordance to its
parent or sibling according to the applicable time containment semantics &mdash;
in this case, the division parent is interpreted (by default) as a parallel time
container.</p>
<table id="ttml-example-body" role="example">
<caption>Example Fragment &ndash; TTML Body</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;body region="subtitleArea"&gt;
  &lt;div&gt;
    &lt;p xml:id="subtitle1" begin="0.76s" end="3.45s"&gt;
      It seems a paradox, does it not,
    &lt;/p&gt;
    &lt;p xml:id="subtitle2" begin="5.0s" end="10.0s"&gt;
      that the image formed on&lt;br/&gt;
      the Retina should be inverted?
    &lt;/p&gt;
    &lt;p xml:id="subtitle3" begin="10.0s" end="16.0s" style="s2"&gt;
      It is puzzling, why is it&lt;br/&gt;
      we do not see things upside-down?
    &lt;/p&gt;
    &lt;p xml:id="subtitle4" begin="17.2s" end="23.0s"&gt;
      You have never heard the Theory,&lt;br/&gt;
      then, that the Brain also is inverted?
    &lt;/p&gt;
    &lt;p xml:id="subtitle5" begin="23.0s" end="27.0s" style="s2"&gt;
      No indeed! What a beautiful fact!
    &lt;/p&gt;
    &lt;p xml:id="subtitle6a" begin="28.0s" end="34.6s" style="s2Left"&gt;
      But how is it proved?
    &lt;/p&gt;
    &lt;p xml:id="subtitle6b" begin="28.0s" end="34.6s" style="s1Right"&gt;
      Thus: what we call
    &lt;/p&gt;
    &lt;p xml:id="subtitle7" begin="34.6s" end="45.0s" style="s1Right"&gt;
      the vertex of the Brain&lt;br/&gt;
      is really its base
    &lt;/p&gt;
    &lt;p xml:id="subtitle8" begin="45.0s" end="52.0s" style="s1Right"&gt;
      and what we call its base&lt;br/&gt;
      is really its vertex,
    &lt;/p&gt;
    &lt;p xml:id="subtitle9a" begin="53.5s" end="58.7s"&gt;
      it is simply a question of nomenclature.
    &lt;/p&gt;
    &lt;p xml:id="subtitle9b" begin="53.5s" end="58.7s" style="s2"&gt;
      How truly delightful!
    &lt;/p&gt;
  &lt;/div&gt;    
&lt;/body&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>The first subtitle <specref ref="ttml-example-subtitle-1"/> is
presented during the time interval 0.76 to 3.45 seconds.
This
subtitle inherits its font family, font size,
foreground color, and text alignment from the region into which it is
presented. Since no region is explicitly specified on the paragraph,
the nearest ancestor that specifies a region determines the
targeted region. Note also that content is presented
at the bottom (after edge) of the containing region due to the <code>tts:displayAlign="after"</code>
being specified on the region definition.</p>
<note role="explanation">
<p>The notation "[<emph>X</emph>,<emph>Y</emph>]" denotes a closed
interval from <emph>X</emph> to <emph>Y</emph>, including
<emph>X</emph> and <emph>Y</emph>;
"[<emph>X</emph>,<emph>Y</emph>)" denotes a right half-open
interval from <emph>X</emph> to <emph>Y</emph>, including
<emph>X</emph> but not including <emph>Y</emph>;
"(<emph>X</emph>,<emph>Y</emph>]" denotes a left half-open
interval from <emph>X</emph> to <emph>Y</emph>, not including
<emph>X</emph> but including <emph>Y</emph>;
"(<emph>X</emph>,<emph>Y</emph>)" denotes an open
interval from <emph>X</emph> to <emph>Y</emph>, not including
<emph>X</emph> or <emph>Y</emph>.
</p>
</note>
<note role="explanation">
<p>In this example, the <el>p</el> element is used as a presentational
element rather than as a semantic element, i.e., as a linguistic paragraph.
It is up to an author to determine which TTML elements are used to convey
the intended meaning. For instance, this example could be written to use
timing on <el>span</el> elements in order to preserve the integrity of
semantic paragraphs.</p>
</note>
<note role="elaboration">
<p>In this example, the <att>region</att> attribute is
specified on the <el>body</el> element.
The presentational effect would be the same if it were specified on the <el>div</el>
element instead, or indeed on each individual <el>p</el> element. In typical usage
the <att>region</att> would be specified at an appropriate part of the document
hierarchy to allow for ease of expression while limiting verbosity.</p>
<p>Note also that one effect of placing <att>region</att> on <el>body</el>
is to prevent any descendant element from being presented in a <emph>different</emph>
region. This is because any such descendant would be pruned from presentation,
as a consequence of the 
<loc href="#procedure-construct-intermediate-document"><phrase role="strong">[construct intermediate document]</phrase></loc>
procedure.</p>
</note>
<table id="ttml-example-subtitle-1" role="example-images">
<caption>Subtitle 1 &ndash; Time Interval [0.76, 3.45)</caption>
<tbody>
<tr>
<td><graphic source="images/subtitle1.png" alt="Subtitle 1"/></td>
</tr>
</tbody>
</table>
<p>The second subtitle continues with the default style, except that it contains
two lines of text with an intervening author-specified line break. Note the effects of
the use of <code>tts:textAlign="center"</code> to specify the paragraph&apos;s alignment
in the inline progression direction.</p>
<table id="ttml-example-subtitle-2" role="example-images">
<caption>Subtitle 2 &ndash; Time Interval [5.0, 10.0)</caption>
<tbody>
<tr>
<td><graphic source="images/subtitle2.png" alt="Subtitle 2"/></td>
</tr>
</tbody>
</table>
<p>The third subtitle continues, using a variant style which overrides the default style&apos;s
foreground color with a different color.</p>
<table id="ttml-example-subtitle-3" role="example-images">
<caption>Subtitle 3 &ndash; Time Interval [10.0, 16.0)</caption>
<tbody>
<tr>
<td><graphic source="images/subtitle3.png" alt="Subtitle 3"/></td>
</tr>
</tbody>
</table>
<p>The fourth subtitle reverts to the default style.</p>
<table id="ttml-example-subtitle-4" role="example-images">
<caption>Subtitle 4 &ndash; Time Interval [17.2, 23.0)</caption>
<tbody>
<tr>
<td><graphic source="images/subtitle4.png" alt="Subtitle 4"/></td>
</tr>
</tbody>
</table>
<p>The fifth subtitle continues, again using a variant style which
overrides the default style&apos;s foreground color with a different color.</p>
<table id="ttml-example-subtitle-5" role="example-images">
<caption>Subtitle 5 &ndash; Time Interval [23.0, 27.0)</caption>
<tbody>
<tr>
<td><graphic source="images/subtitle5.png" alt="Subtitle 5"/></td>
</tr>
</tbody>
</table>
<p>During the next active time interval, two distinct subtitles are simultaneously active, with
the paragraphs expressing each subtitle using different styles that override color and paragraph
text alignment of the default style. Note that the flow order is determined by the lexical
order of elements as they appear in the content hierarchy.</p>
<table id="ttml-example-subtitle-6" role="example-images">
<caption>Subtitles 6a and 6b &ndash; Time Interval [28.0, 34.6)</caption>
<tbody>
<tr>
<td><graphic source="images/subtitle6.png" alt="Subtitles 6a and 6b"/></td>
</tr>
</tbody>
</table>
<p>The next subtitle is specified in a similar manner using
a style override to give the paragraph right (end) justification in the
inline progression direction.</p>
<table id="ttml-example-subtitle-7" role="example-images">
<caption>Subtitle 7 &ndash; Time Interval [34.6, 45.0)</caption>
<tbody>
<tr>
<td><graphic source="images/subtitle7.png" alt="Subtitles 7a and 7b"/></td>
</tr>
</tbody>
</table>
<p>The eighth subtitle uses the same style override as the previous
subtitle in order to maintain the right (end) justification of the
paragraph.</p>
<table id="ttml-example-subtitle-8" role="example-images">
<caption>Subtitle 8 &ndash; Time Interval [47.3, 49.0)</caption>
<tbody>
<tr>
<td><graphic source="images/subtitle8.png" alt="Subtitle 8"/></td>
</tr>
</tbody>
</table>
<p>During the final (ninth) active time interval, two distinct
subtitles are again simultaneously active, but with a different
style applied to the second paragraph to override the default color.
Note that the flow order is determined by the lexical order of
elements as they appear in the content hierarchy.</p>
<table id="ttml-example-subtitle-9" role="example-images">
<caption>Subtitles 9a and 9b &ndash; Time Interval [53.5, 58.7)</caption>
<tbody>
<tr>
<td><graphic source="images/subtitle9.png" alt="Subtitles 9a and 9b"/></td>
</tr>
</tbody>
</table>
</div3> <!-- single-region-example -->
<div3 id="multiple-region-example">
<head>Multiple Region Example</head>
<p>The above example demonstrates the temporal and lexical flow of content
into a single region.
This concept can be extended to multiple regions,
with different parts of the content flowed into each region
at independent times.
For example, in <specref ref="ttml-example-complex-layout"/>, there are two
subtitle paragraphs, each positioned in a different region. The second one
becomes visible before the first one is removed from view,
and remains visible afterwards, so that there
are progressively one, two, and then one subtitle(s) visible.</p>
<table id="ttml-example-complex-layout" role="example">
<caption>Example Document &ndash; TTML Layout in Multiple Regions</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;tt xml:lang="en" xmlns="http://www.w3.org/ns/ttml"
    xmlns:tts="http://www.w3.org/ns/ttml#styling"&gt;
  &lt;head&gt;
    &lt;styling xmlns:tts="http://www.w3.org/ns/ttml#styling"&gt;
      &lt;style xml:id="pStyle"
        tts:backgroundColor="cyan"
        tts:textAlign="center"
        tts:fontSize="6.7rh"/&gt;
      &lt;style xml:id="spanStyle"
        tts:color="white"
        tts:backgroundColor="black"
        tts:fontFamily="proportionalSansSerif"/&gt;
    &lt;/styling&gt;
    &lt;layout xmlns:tts="http://www.w3.org/ns/ttml#styling"&gt;
      &lt;region xml:id="topCenterArea"
        tts:position="center top 10% "
        tts:extent="80% 20%"
        tts:displayAlign="before"
        tts:backgroundColor="purple"
        tts:showBackground="whenActive"/&gt;
      &lt;region xml:id="bottomLeftArea"
        tts:position="left 10% bottom 10% "
        tts:extent="60% 20%"
        tts:displayAlign="after"
        tts:backgroundColor="green"
        tts:showBackground="whenActive"/&gt;
    &lt;/layout&gt;  
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div&gt;
      &lt;p xml:id="subtitle1" begin="00:00:00.500" end="00:00:01.500"
         region="topCenterArea" style="pStyle"&gt;
        &lt;span style="spanStyle"&gt;I shall ask our Physiological Lecturer why&lt;br/&gt;
        he never gave us that exquisite Theory!&lt;/span&gt;
      &lt;/p&gt;
      &lt;p xml:id="subtitle2" begin="00:00:01" end="00:00:02"
         region="bottomLeftArea" style="pStyle"&gt;
        &lt;span style="spanStyle"&gt;I&apos;d give something to be present&lt;br/&gt;
        when the question is asked!&lt;/span&gt;
      &lt;/p&gt;
    &lt;/div&gt;    
  &lt;/body&gt;
&lt;/tt&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>This example contains two subtitles that overlap in time.
It produces three distinct intervals between 0.5s and 2s.
In the document, times are expressed in the hh:mm:ss format.
Each region and paragraph is specified to have a larger size than its contents,
and is shown with a contrasting background color
so that its position and the position of its descendants are more clearly visible.
The top region is purple, the bottom one green.
Each p is cyan and each span is black with white text.
</p>
<table id="ttml-example-complex-layout-1" role="example-images">
<caption>Subtitle 1 &ndash; Time Interval [0.5, 1.0)</caption>
<tbody>
<tr>
<td><graphic source="images/example-complex-layout_0.5.png" alt="Complex Layout Subtitle 1" css="width: 790px;"/></td>
</tr>
</tbody>
</table>
<p>In the first interval, 0.5 to 1.0 seconds, two lines are presented,
aligned to the before edge of the top center region.
The unoccupied part of the region is therefore visible as purple color <emph>beneath</emph> the text.
Likewise, the unoccupied part of the p element is visible as cyan color
around the black background showing the space occupied by the span element.</p>
<table id="ttml-example-complex-layout-2" role="example-images">
<caption>Subtitles 1 and 2 &ndash; Time Interval [1.0, 1.5)</caption>
<tbody>
<tr>
<td><graphic source="images/example-complex-layout_1.png" alt="Complex Layout Subtitle 2" css="width: 790px;"/></td>
</tr>
</tbody>
</table>
<p>In the second interval, 1.0 to 1.5 seconds, the first subtitle remains visible,
and a second subtitle consisting of two lines is presented in the bottom left region.
The new text is aligned to the after edge of its region,
so the unoccupied part of the region is visible as green color <emph>above</emph> the text.</p>
<table id="ttml-example-complex-layout-3" role="example-images">
<caption>Subtitle 2 &ndash; Time Interval [1.0, 1.5)</caption>
<tbody>
<tr>
<td><graphic source="images/example-complex-layout_1.5.png" alt="Complex Layout Subtitle 3" css="width: 790px;"/></td>
</tr>
</tbody>
</table>
<p>In the third interval, 1.5 to 2.0 seconds, the first subtitle is no longer
presented.</p>
<p>The examples shown above demonstrate the primary types of information that may
be authored using TTML: metadata, styling, layout, timing, and content. In typical cases,
styling and layout information are separately specified in a <loc href="#terms-document-instance">document instance</loc>. Content information
is expressed in a hierarchical fashion that embodies the organization of both spatial (flow) and
timing information. Content makes direct or indirect references to styling and layout information
and may specify inline overrides to styling.</p>
</div3> <!-- multiple-region-example -->
</div2> <!-- example -->
</div1> <!-- intro -->
<div1 id="definitions">
<head>Definitions</head>
<div2 id="acronyms">
<head>Acronyms</head>
<glist role="acronyms">
<gitem>
<label>BPD</label>
<def>
<p>Block Progression Dimension</p>
</def>
</gitem>
<gitem>
<label>DAR</label>
<def>
<p>Display Aspect Ratio</p>
</def>
</gitem>
<gitem>
<label>DFXP</label>
<def>
<p>Distribution Format Exchange Profile</p>
</def>
</gitem>
<gitem>
<label>IPD</label>
<def>
<p>Inline Progression Dimension</p>
</def>
</gitem>
<gitem>
<label>ISD</label>
<def>
<p>Intermediate Synchronic Document</p>
</def>
</gitem>
<gitem>
<label>PAR</label>
<def>
<p>Pixel Aspect Ratio</p>
</def>
</gitem>
<gitem>
<label>SAR</label>
<def>
<p>Storage Aspect Ratio</p>
</def>
</gitem>
<gitem>
<label>TT</label>
<def>
<p>Timed Text</p>
</def>
</gitem>
<gitem>
<label>TTML</label>
<def>
<p>Timed Text Markup Language</p>
</def>
</gitem>
<gitem>
<label>TTAF</label>
<def>
<p>Timed Text Authoring Format</p>
</def>
</gitem>
<gitem>
<label>TTWG</label>
<def>
<p>Timed Text Working Group</p>
</def>
</gitem>
</glist>
</div2> <!-- acronyms -->
<div2 id="terms">
<head>Terminology</head>
<glist>
<gitem id="terms-absolute-dimension">
<label>[absolute dimension]</label>
<def>
<p>A scalar value that denotes a length on either the
<loc href="#terms-horizontal-axis">horizontal axis</loc> or the
<loc href="#terms-vertical-axis">vertical axis</loc>.</p>
</def>
</gitem>
<gitem id="terms-abstract-document-instance">
<label>[abstract document instance]</label>
<def>
<p>An instance of an abstract data set as represented by a
<loc href="#terms-reduced-xml-infoset">reduced xml infoset</loc>.</p>
</def>
</gitem>
<gitem id="terms-abstract-document-type">
<label>[abstract document type]</label>
<def>
<p>A set of constraints that defines a class of <emph>XML Information
Sets</emph> <bibref ref="infoset"/>.</p>
</def>
</gitem>
<gitem id="terms-animatable-style">
<label>[animatable style]</label>
<def>
<p>A <loc href="#terms-styling-attribute">styling attribute</loc> or its interned representation
as a <loc href="#semantics-style-property">style property</loc>
the definition of which specifies it to be animatable by <termref def="defs-discrete">discrete</termref>
or <termref def="defs-continuous">continuous</termref> animation.
A <loc href="#terms-styling-attribute">styling attribute</loc> the definition of which (1) specifies its animatability as <emph>none</emph> or
(2) does not specify its animatability is referred to as a <termdef id="defs-non-animatable-style" term=""><term>non-animatable style</term></termdef>.</p>
</def>
</gitem>
<gitem id="terms-anonymous-profile">
<label>[anonymous profile]</label>
<def>
<p>See <loc href="#terms-undesignated-profile">undesignated profile</loc>.</p>
</def>
</gitem>
<gitem id="terms-anonymous-span">
<label>[anonymous span]</label>
<def>
<p>A <loc href="#content-vocabulary-span"><el>span</el></loc> element that is not present in a
<loc href="#terms">document instance</loc>, but is synthesized and inserted into the corresponding
<loc href="#terms-abstract-document-instance">abstract document instance</loc> by the
<phrase role="strong"><loc href="#procedure-construct-anonymous-spans">[construct anonymous spans]</loc></phrase> procedure
during the <specref ref="semantics-region-layout-step-1"/> or <specref ref="semantics-region-layout-step-2"/> steps.</p>
</def>
</gitem>
<gitem id="terms-area">
<label>[area]</label>
<def>
<p>A collection of addressable <termref def="defs-logical-pixel">logical pixels</termref> that represent the visual content of a bounded, rectangular region of a plane
on some output medium, as defined by <bibref ref="xslfo11"/>, <emph>Rectangular Areas</emph>, &sect;4.2.
Also referred to as a <emph>box</emph>, particularly in the context of <bibref ref="css2"/> and <bibref ref="html"/>.</p>
</def>
</gitem>
<gitem id="terms-attribute-information-item">
<label>[attribute information item]</label>
<def>
<p>Each specified or defaulted attribute  of an XML document corresponds with an attribute information
item as defined by <bibref ref="infoset"/>, &sect;2.3.</p>
</def>
</gitem>
<gitem id="terms-audio-defining-context">
<label>[audio defining context]</label>
<def>
<p>The context in which an <loc href="#embedded-content-vocabulary-audio"><el>audio</el></loc> element is specified to serve as
a sharable definition to be referenced by another <loc href="#embedded-content-vocabulary-audio"><el>audio</el></loc> element
in an <loc href="#terms-audio-presentation-context">audio presentation context</loc>.</p>
</def>
</gitem>
<gitem id="terms-audio-generating-element">
<label>[audio generating element]</label>
<def>
<p>An <loc href="#embedded-content-vocabulary-audio"><el>audio</el></loc> element in an
<loc href="#terms-audio-presentation-context">audio presentation context</loc> or a
<loc href="#content-vocabulary-span"><el>span</el></loc> element whose character content is
used to generate a <loc href="#terms-speech-data-resource">speech data resource</loc>.</p>
</def>
</gitem>
<gitem id="terms-audio-presentation-context">
<label>[audio presentation context]</label>
<def>
<p>The context in which an <loc href="#embedded-content-vocabulary-audio"><el>audio</el></loc> element is specified for the
purpose of being presented (rendered). Such an <loc href="#embedded-content-vocabulary-audio"><el>audio</el></loc> element
may specify the audio data inline by using a <loc href="#embedded-content-vocabulary-data"><el>data</el></loc> element within
a <loc href="#embedded-content-vocabulary-source"><el>source</el></loc> element child, or it may reference another
<loc href="#embedded-content-vocabulary-audio"><el>audio</el></loc> element specified in a 
<loc href="#terms-audio-defining-context">audio defining context</loc>, or it may do both.</p>
</def>
</gitem>
<gitem id="terms-audio-resource">
<label>[audio resource]</label>
<def>
<p>A <loc href="#terms-data-resource">data resource</loc> that contains coded or unencoded audio samples.</p>
</def>
</gitem>
<gitem id="terms-audio-stream">
<label>[audio stream]</label>
<def>
<p>A sequence of audio samples.</p>
</def>
</gitem>
<gitem id="terms-background-painting-rectangle">
<label>[background painting rectangle]</label>
<def>
<p>A rectangle in the <loc href="#terms-document-coordinate-space">document coordinate space</loc>
with respect to which a background presentation artifact, e.g., color or image, is (possibly) clipped and painted; more
specifically, one of three rectangles: the border rectangle, the padding rectangle, or the content rectangle
of an area generated by an element associated with a background. The computed value of the style property specified by the
<loc href="#style-attribute-backgroundClip">tts:backgroundClip</loc> attribute determines which rectangle applies.</p>
</def>
</gitem>
<gitem id="terms-background-positioning-rectangle">
<label>[background positioning rectangle]</label>
<def>
<p>A rectangle in the <loc href="#terms-document-coordinate-space">document coordinate space</loc>
with respect to which a background presentation artifact, e.g., color or image, is positioned or sized; more
specifically, one of three rectangles: the border rectangle, the padding rectangle, or the content rectangle
of an area generated by an element associated with a background. The computed value of the style property specified by the
<loc href="#style-attribute-backgroundOrigin">tts:backgroundOrigin</loc> attribute determines which rectangle applies.</p>
</def>
</gitem>
<gitem id="terms-baseline-profile">
<label>[baseline profile]</label>
<def>
<p>A <loc href="#terms-profile">profile</loc> referenced by the <att>use</att> attribute of a <el>ttp:profile</el> element,
which serves as a baseline (initial) set of specifications with which to populate the referencing profile.</p>
</def>
</gitem>
<gitem id="terms-block-area">
<label>[block area]</label>
<def>
<p>A fundamental type of <loc href="#terms-area">area</loc> defined by <bibref ref="xslfo11"/>, <emph>Block-areas</emph>, &sect;4.4, which children
consist of either all <loc href="#terms-block-area">block areas</loc> (if the block area is not a <loc href="#terms-line-area">line area</loc>)
or all <loc href="#terms-inline-area">inline areas</loc> (if the block area is a <loc href="#terms-line-area">line area</loc>).</p>
</def>
</gitem>
<gitem id="terms-block-display">
<label>[block display]</label>
<def>
<p>Block display is a set of layout semantics that may be applied to a <loc href="#terms-content-element">content element</loc> in
certain contexts, wherein child areas are composed sequentially in the block progression direction.</p>
<note role="example">
<p>In <bibref ref="css2"/>,
block display is indicated when a CSS <code>display</code> property with the value <code>block</code> is applied to a
<loc href="#terms-content-element">content element</loc> during presentation processing. In <bibref ref="xslfo11"/>, a block display
occurs when composing a <code>fo:block</code> element.</p>
</note>
</def>
</gitem>
<gitem id="terms-block-progression-dimension">
<label>[block progression dimension]</label>
<def>
<p>A <loc href="#terms-relative-dimension">relative dimension</loc> on the block progression axis,
i.e., in the positive <loc href="#terms-block-progression-direction">block progression direction</loc>,
abbreviated as <emph>bpd</emph> or <emph>BPD</emph>.</p>
</def>
</gitem>
<gitem id="terms-block-progression-direction">
<label>[block progression direction]</label>
<def>
  <p>The direction taken by the progression of block areas in some formatting context. In the context of horizontal writing modes,
  the block progression direction is typically top-to-bottom; whereas, in the context of vertical writing modes,
  it is typically right-to-left or left-to-right.</p>
</def>
</gitem>
<gitem id="terms-built-in-data-resource">
<label>[built-in data resource]</label>
<def>
<p>A <loc href="#terms-data-resource">data resource</loc> the content of which is supplied by the
<loc href="#terms-content-processor">content processor</loc> and not the
<loc href="#terms-timed-text-content-document-instance">timed text content document instance</loc>, referenced by means
of a <loc href="#embedded-content-vocabulary-source"><el>source</el></loc> element or a <loc href="#embedded-content-attribute-src"><att>src</att></loc>
attribute of a <loc href="#embedded-content-vocabulary-source"><el>source</el></loc> element or <loc href="#terms-embedded-content-element">embedded
content element</loc>.</p>
</def>
</gitem>
<gitem id="terms-character-information-item">
<label>[character information item]</label>
<def>
<p>Each data character appearing in an XML document corresponds with a character information
item as defined by <bibref ref="infoset"/>, &sect;2.6.
A sequence of one or more contiguous character information items that share the same parent
<loc href="#terms-element-information-item">element information item</loc> is
referred to as a <termdef id="defs-text-node" term=""><term>text node</term></termdef>.</p>
<note role="seealso">
<p>See <specref ref="reduced-infoset-character"/> for additional information.</p>
</note>
</def>
</gitem>
<gitem id="terms-chunked-data-embedding">
<label>[chunked data embedding]</label>
<def>
<p>A <loc href="#embedded-content-vocabulary-data"><el>data</el></loc> element that directly embeds a representation of the actual bytes
of an <loc href="#terms-embedded-data-resource">embedded data resource</loc> by making use of a
child <loc href="#embedded-content-vocabulary-chunk"><el>chunk</el></loc> element.</p>
</def>
</gitem>
<gitem id="terms-combined-profile">
<label>[combined profile]</label>
<def>
<p>A <loc href="#terms-profile">profile</loc> for which the <loc href="#semantics-profile-state-combined-profile-specification-set-constituents">constituents</loc> <loc href="#terms-component">component</loc> of the <loc href="#semantics-profile-state-profile-combined-specification-set">combined specification set</loc> of the
associated <loc href="#semantics-profile-state-profile-instance">profile instance</loc> contains more than one non-null designator.</p>
</def>
</gitem>
<gitem id="terms-component">
<label>[component]</label>
<def>
<p>(1) a unit of functionality; (2) a part of a syntactic expression; (3) a field (or variable) of a state object.</p>
</def>
</gitem>
<gitem id="terms-computed-cell-size">
<label>[computed cell size]</label>
<def>
<p>The size (extent) of a cell computed by dividing the width of the <loc href="#terms-root-container-region">root container region</loc>
by the cell column count, i.e., the number of cells in the <loc href="#terms-horizontal-axis">horizontal axis</loc>, and by dividing
the height of the <loc href="#terms-root-container-region">root container region</loc> by the cell row count, i.e., the number of cells in the vertical
axis, where the cell column and row counts are determined by the <att>ttp:cellResolution</att> parameter attribute.</p>
<note role="clarification">
<p>The width and height of the <loc href="#terms-root-container-region">root container region</loc> correspond to the
width and height of the spatial extent of the <loc href="#terms-root-container-region">root container region</loc> as specified
by <specref ref="root-container-region-semantics-resolution"/>; consequently, the computed cell size is expressed in <termref def="defs-logical-pixel">logical pixels</termref>.</p>
</note>     
</def>
</gitem>
<gitem id="terms-computed-style-set">
<label>[computed style set]</label>
<def>
<p>A <loc href="#terms-style-set">style set</loc> containing computed style values as determined
by <specref ref="semantics-style-resolution-processing-css"/>.</p>
</def>
</gitem>
<gitem id="terms-conditionalized-element">
<label>[conditionalized element]</label>
<def>
<p>Any element of a type defined in or for use by this specification that permits the specification of a
<loc href="#content-attribute-condition"><att>condition</att></loc> attribute the evaluation of which
determines whether the defined semantics of the element apply or are ignored. In the absence of such
attribute, the semantics of the element always apply.
</p>
</def>
</gitem>
<gitem id="terms-conditionally-excluded">
<label>[conditionally excluded (or included)]</label>
<def>
<p>If the condition expression of a <loc href="#terms-conditionalized-element">conditionalized element</loc> evaluates
to <code>false</code>, then the element and its descendant elements are said to be <emph>conditionally excluded</emph>.
If an element is not <emph>conditionally excluded</emph>, then it is said to be <emph>conditionally included</emph>.</p>
<note role="elaboration">
<p>An element that is conditionally included but does not permit the use of or does not specify a
<loc href="#content-attribute-condition"><att>condition</att></loc> attribute may be referred to as
an <emph>unconditionally included</emph> element.</p>
</note>
<p>When an element is conditionally excluded, then, unless specified otherwise, all of its semantics are ignored, about
which see <loc href="#content-attribute-condition"><att>condition</att></loc> for the detailed semantics of conditional exclusion.</p>
<note role="elaboration">
<p>In the case of certain elements, for example the <loc href="#styling-vocabulary-style"><el>style</el></loc> element,
conditional exclusion causes some but not all of the element&apos;s semantics to be ignored,
in which case such behavior is described explicitly.</p>
</note>
</def>
</gitem>
<gitem id="terms-content-element">
<label>[content element]</label>
<def>
<p>Any of the element types defined by the <loc href="#element-vocab-type-content">Content Module</loc>, as well as
any of the element types defined by the <loc href="#element-vocab-type-audio">Audio Module</loc>
and the <loc href="#element-vocab-type-image">Image Module</loc> when they occur in an
<loc href="#terms-audio-presentation-context">audio presentation context</loc> or
<loc href="#terms-image-presentation-context">image presentation context</loc>, respectively.</p>
<note role="clarification">
  <p>The <loc href="#document-structure-vocabulary-tt"><el>tt</el></loc>
  and <loc href="#document-structure-vocabulary-head"><el>head</el></loc> element types,
  which are defined in <specref ref="content-element-vocabulary"/>,
  are intentionally not included in scope of the above definition, but are included in the definitions of the
  <loc href="#element-vocab-type-document">Document</loc> and <loc href="#element-vocab-type-head">Head</loc> Modules in
  <specref ref="element-vocab-table"/>.</p>
</note>
<p>In addition to the element types cited above, element types designated as content element types by an
<loc href="#terms-extension-module">extension module</loc>.</p>
</def>
</gitem>
<gitem id="terms-content-image">
<label>[content image]</label>
<def>
<p>An <loc href="#terms-image-resource">image resource</loc> that contains semantically significant content, e.g., a raster image
representing the rendering of a caption.</p>
</def>
</gitem>
<gitem id="terms-content-processor">
<label>[content processor]</label>
<def>
<p>A processing system capable of importing (receiving) Timed Text Markup Language
content for the purpose of transforming, presenting, or otherwise processing the content.</p>
</def>
</gitem>
<gitem id="terms-content-profile">
<label>[content profile]</label>
<def>
<p>A <loc href="#terms-profile">profile</loc> such that (1) the value of the <loc href="#semantics-profile-state-profile-type">type</loc> <loc href="#terms-component">component</loc> of the associated
<loc href="#semantics-profile-state-profile-instance">profile instance</loc> is <code>content</code> and
(2) the collection of <loc href="#terms-feature">features</loc> and <loc href="#terms-extension">extensions</loc> of which
must not, must, or may be employed by Timed Text Markup Language content.</p>
</def>
</gitem>
<gitem id="terms-content-region">
<label>[content region]</label>
<def>
  <p>A logical, rectangular region into which content is rendered when performing presentation processing.
  Abbreviated simply as <emph>region</emph> when the context is unambiguous, each content region is
  defined by an explicitly specified or an implied <loc href="#layout-vocabulary-region"><el>region</el></loc> element
  which defines the extent of the content region in relation to a <loc href="#terms-root-container-region">root container region</loc>
  as well as other stylistic and temporal characteristics.</p>
</def>
</gitem>
<gitem id="terms-core-module">
<label>[core module]</label>
<def>
<p>A <loc href="#terms-module">module</loc> defined within the body of this specification, specifically, the modules defined by
<specref ref="element-vocab-table"/> and <specref ref="attribute-vocab-table"/>.</p>
</def>
</gitem>
<gitem id="terms-data-binding-context">
<label>[data binding context]</label>
<def>
<p>The context in which a <loc href="#embedded-content-vocabulary-data"><el>data</el></loc> element is specified for the
purpose of semantic binding (association). Such a <loc href="#embedded-content-vocabulary-data"><el>data</el></loc> element
may specify the data inline by using a <loc href="#embedded-content-vocabulary-data"><el>data</el></loc> element within
a <loc href="#embedded-content-vocabulary-source"><el>source</el></loc> element child, or it may reference another
<loc href="#embedded-content-vocabulary-data"><el>data</el></loc> element specified in a 
<loc href="#terms-data-defining-context">data defining context</loc>, or it may do both. No presentation (rendering)
semantics are implied by the mere presence of a <loc href="#embedded-content-vocabulary-data"><el>data</el></loc> element in this (or any) context.</p>
</def>
</gitem>
<gitem id="terms-data-binding-context-for-metadata">
<label>[data binding context for metadata]</label>
<def>
<p>A <loc href="#embedded-content-vocabulary-data"><el>data</el></loc> element the parent of which is a
<loc href="#metadata-vocabulary-metadata"><el>metadata</el></loc> element.</p>
</def>
</gitem>
<gitem id="terms-data-binding-context-for-source">
<label>[data binding context for source]</label>
<def>
<p>A <loc href="#embedded-content-vocabulary-data"><el>data</el></loc> element the parent of which is a
<loc href="#embedded-content-vocabulary-source"><el>source</el></loc> element.</p>
</def>
</gitem>
<gitem id="terms-data-defining-context">
<label>[data defining context]</label>
<def>
<p>The context in which a <loc href="#embedded-content-vocabulary-data"><el>data</el></loc> element is specified to serve as
a sharable definition to be referenced by another <loc href="#embedded-content-vocabulary-data"><el>data</el></loc> element
in a <loc href="#terms-data-binding-context">data binding context</loc>, namely, a
<loc href="#embedded-content-vocabulary-data"><el>data</el></loc> element the parent of which is a
<loc href="#embedded-content-vocabulary-resources"><el>resources</el></loc> element.</p>
</def>
</gitem>
<gitem id="terms-data-element">
<label>[data element]</label>
<def>
<p>Any of the element types defined by the <loc href="#element-vocab-type-data">Data Module</loc>.</p>
</def>
</gitem>
<gitem id="terms-data-resource">
<label>[data resource]</label>
<def>
<p>An arbitrary data resource represented or referenced using a <loc href="#terms-data-element">data element</loc>. For example,
a data resource may be used to embed or refer to an audio clip, a font, an image, or arbitrary application data in a
<loc href="#terms-timed-text-content-document-instance">timed text content document instance</loc>.</p>
</def>
</gitem>
<gitem id="terms-default-processor-profile">
<label>[default processor profile]</label>
<def>
<p>A default <loc href="#terms-processor-profile">processor profile</loc> used to compute an
<loc href="#terms-effective-processor-profile">effective processor profile</loc> in the absence of a declared or inferred
<loc href="#terms-processor-profile">processor profile</loc>, where this default processor profile is determined by
the <loc href="#semantics-procedure-construct-default-processor-profile"><phrase role="strong">construct default processor profile</phrase></loc>
procedure.</p>
</def>
</gitem>
<!--
<gitem id="terms-default-profile">
<label>[default profile]</label>
<def>
<p>&tbd;</p>
</def>
</gitem>
-->
<gitem id="terms-default-region">
<label>[default region]</label>
<def>
<p>A default <loc href="#terms-out-of-line-region">out-of-line region</loc> that is implied in the absence of
an explicitly specified out-of-line <loc href="#layout-vocabulary-region"><el>region</el></loc> element, i.e.,
when no <loc href="#layout-vocabulary-region"><el>region</el></loc> element is specified as a child of
a <loc href="#layout-vocabulary-layout"><el>layout</el></loc> element.</p>
</def>
</gitem>
<gitem id="terms-designated-profile">
<label>[designated profile]</label>
<def>
<p>A <loc href="#terms-profile">profile</loc> that is associated with a <loc href="#content-value-profile-designator">&lt;profile-designator&gt;</loc> by
means of a <att>designator</att> attribute or prose text in a specification of profile.</p>
</def>
</gitem>
<gitem id="terms-display-aspect-ratio">
<label>[display aspect ratio]</label>
<def>
<p>See definition of <loc href="#root-container-region-semantics-dar">DAR</loc>.</p>
</def>
</gitem>
<gitem id="terms-document-coordinate-space">
<label>[document coordinate space]</label>
<def>
<p>A logical coordinate space which determines the aspect ratio and resolution of the
<loc href="#terms-root-container-region">root container region</loc> used to format and present a
<loc href="#terms-document-instance">document instance</loc>, more about which see
<specref ref="root-container-region-semantics"/>.</p>
</def>
</gitem>
<gitem id="terms-document-instance">
<label>[document instance]</label>
<def>
<p>A <loc href="#terms-timed-text-document-instance">timed text document instance</loc>.</p>
</def>
</gitem>
<gitem id="terms-document-interchange-context">
<label>[document interchange context]</label>
<def>
<p>The implied context or environment external to a <loc href="#terms-content-processor">content processor</loc> in
which document interchange occurs, and in which out-of-band protocols or specifications
may define certain behavioral defaults, such as an implied profile.</p>
</def>
</gitem>
<gitem id="terms-document-processing-context">
<label>[document processing context]</label>
<def>
<p>The implied context or environment internal to a <loc href="#terms-content-processor">content processor</loc> in
which document processing occurs, and in which out-of-band protocols or specifications
may define certain behavioral defaults, such as the establishment or creation of a
<loc href="#terms-synthetic-document-syncbase">synthetic document syncbase</loc>.</p>
</def>
</gitem>
<gitem id="terms-document-temporal-coordinate-space">
<label>[document temporal coordinate space]</label>
<def>
<p>The temporal coordinate system relative to which computed time expressions are interpreted in a 
<loc href="#terms-document-instance">document instance</loc>, more about which see
<specref ref="parameter-attribute-timeBase"/>.</p>
</def>
</gitem><gitem id="terms-effective-content-profile">
<label>[effective content profile]</label>
<def>
<p>The <loc href="#terms-content-profile">content profile</loc> computed from the set of all <loc href="#terms-content-profile">content profiles</loc>
explicitly or implicitly referenced by or assigned to a TTML <loc href="#terms-document-instance">document instance</loc> after applying any
explicit or implicit profile and profile specification combination methods, about which see the
<loc href="#semantics-procedure-construct-effective-content-profile"><phrase role="strong">construct effective content profile</phrase></loc> procedure.
When performing validation on a given <loc href="#terms-document-instance">document instance</loc>,
then this validation is performed by making use of a document&apos;s <loc href="#terms-effective-content-profile">effective content profile</loc>.</p>
</def>
</gitem>
<gitem id="terms-effective-processor-profile">
<label>[effective processor profile]</label>
<def>
<p>The <loc href="#terms-processor-profile">processor profile</loc> computed from the set of all <loc href="#terms-processor-profile">processor profiles</loc>
explicitly or implicitly referenced by or assigned to a TTML <loc href="#terms-document-instance">document instance</loc> after applying any
explicit or implicit profile and profile specification combination methods, about which see the
<loc href="#semantics-procedure-construct-effective-processor-profile"><phrase role="strong">construct effective processor profile</phrase></loc> procedure.
When determining if a <loc href="#terms-content-processor">content processor</loc>
can or cannot process a given <loc href="#terms-document-instance">document instance</loc>, then this determination is performed
by making use of a document&apos;s <loc href="#terms-effective-processor-profile">effective processor profile</loc>.</p>
</def>
</gitem>
<gitem id="terms-effective-validation-profile">
<label>[effective validation profile]</label>
<def>
<p>A profile used to select a schema (or set of schemas) to be used during <loc href="#terms-validation-processing">validation processing</loc>,
as determined by the <loc href="#semantics-procedure-construct-effective-validation-profile"><phrase role="strong">construct effective
validation profile</phrase></loc> procedure.</p>
</def>
</gitem>
<gitem id="terms-effective-validation-schemas">
<label>[effective validation schemas]</label>
<def>
<p>A set of schemas used during <loc href="#terms-validation-processing">validation processing</loc>,
as determined by the <loc href="#semantics-procedure-construct-effective-validation-schemas"><phrase role="strong">construct effective
validation schemas</phrase></loc> procedure.</p>
<note role="elaboration">
<p>Since no schema language captures all constraints on TTML content as defined by this specification, it is expected that additional
built-in, programmatic (code-based) schemas will be employed by a <loc href="#terms-validating-content-processor">validating content processor</loc>.</p>
</note>
</def>
</gitem>
<gitem id="terms-element-information-item">
<label>[element information item]</label>
<def>
<p>Each element appearing in an XML document corresponds with an element information
item as defined by <bibref ref="infoset"/>, &sect;2.2.
Also referred to as a <termdef id="defs-element-node" term=""><term>element node</term></termdef>.</p>
<note role="seealso">
<p>See <specref ref="reduced-infoset-element"/> for additional information.</p>
</note>
</def>
</gitem>
<gitem id="terms-embedded-content-element">
<label>[embedded content element]</label>
<def>
<p>Any of the element types defined by the <loc href="#element-vocab-type-audio">Audio Module</loc>,
<loc href="#element-vocab-type-data">Data Module</loc>,
<loc href="#element-vocab-type-font">Font Module</loc>, or
<loc href="#element-vocab-type-image">Image Module</loc>.</p>
</def>
</gitem>
<gitem id="terms-embedded-content-resource">
<label>[embedded content resource]</label>
<def>
<p>An <loc href="#terms-audio-resource">audio resource</loc>, <loc href="#terms-data-resource">data resource</loc>, <loc href="#terms-font-resource">font resource</loc>,
or <loc href="#terms-image-resource">image resource</loc>.</p>
</def>
</gitem>
<gitem id="terms-embedded-data-resource">
<label>[embedded data resource]</label>
<def>
<p>A <loc href="#terms-data-resource">data resource</loc> embedded in a
<loc href="#terms-timed-text-content-document-instance">timed text content document instance</loc>, represented by means of
a <loc href="#embedded-content-vocabulary-data"><el>data</el></loc> element, whether or not that
<loc href="#embedded-content-vocabulary-data"><el>data</el></loc> element represents the actual bytes of the
<loc href="#terms-data-resource">data resource</loc> or refers to an <loc href="#terms-external-data-resource">external data resource</loc>.</p>
</def>
</gitem>
<gitem id="terms-empty-data-resource">
<label>[empty data resource]</label>
<def>
<p>A <loc href="#terms-data-resource">data resource</loc> that contains no renderable content, and further,
if an attempt is made to resolve this resource to a series of content samples, no samples are produced.</p>
</def>
</gitem>
<gitem id="terms-enclosing-document-instance">
<label>[enclosing document instance]</label>
<def>
<p>The <loc href="#terms-document-instance">document instance</loc> that encloses or otherwise contains
an enclosed feature or <loc href="#terms-component">component</loc>.</p>
</def>
</gitem>
<gitem id="terms-exchange-profile">
<label>[exchange profile]</label>
<def>
<p>A profile of content that serves a set of needs for content interchange.</p>
</def>
</gitem>
<gitem id="terms-extension">
<label>[extension]</label>
<def>
<p>A syntactic or semantic expression or capability that is defined and
labeled (using a extension designation) in another (public or private)
specification.</p>
</def>
</gitem>
<gitem id="terms-extension-module">
<label>[extension module]</label>
<def>
<p>A <loc href="#terms-module">module</loc> that is not a <loc href="#terms-core-module">core module</loc>.</p>
</def>
</gitem>
<gitem id="terms-extension-specification">
<label>[extension specification]</label>
<def>
<p>A specification of a constraint or requirement that relates to an
<loc href="#terms-extension">extension</loc>, typically expressed by
a <loc href="#profile-vocabulary-extension"><el>ttp:extension</el></loc> element.</p>
</def>
</gitem>
<gitem id="terms-external-data-resource">
<label>[external data resource]</label>
<def>
<p>A <loc href="#terms-data-resource">data resource</loc> the representation of which is external to (not contained within) a
<loc href="#terms-timed-text-content-document-instance">timed text content document instance</loc>, referenced by means
of a <loc href="#embedded-content-attribute-src"><att>src</att></loc>
attribute of a <loc href="#embedded-content-vocabulary-source"><el>source</el></loc> element or <loc href="#terms-embedded-content-element">embedded
content element</loc>.</p>
</def>
</gitem>
<gitem id="terms-external-source">
<label>[external source]</label>
<def>
<p>Either (1) a <loc href="#embedded-content-vocabulary-source"><el>source</el></loc> element or a <loc href="#embedded-content-attribute-src"><att>src</att></loc> attribute
that refers to an <loc href="#terms-external-data-resource">external data resource</loc> or (2) the referenced
<loc href="#terms-external-data-resource">external data resource</loc>.</p>
</def>
</gitem>
<gitem id="terms-feature">
<label>[feature]</label>
<def>
<p>A syntactic or semantic expression or capability that is defined and
labeled (using a feature designation) in this specification (or a past or
future revision of this specification).</p>
</def>
</gitem>
<gitem id="terms-feature-specification">
<label>[feature specification]</label>
<def>
<p>A specification of a constraint or requirement that relates to a
<loc href="#terms-feature">feature</loc>, typically expressed by
a <loc href="#profile-vocabulary-feature"><el>ttp:feature</el></loc> element.</p>
</def>
</gitem>
<gitem id="terms-forced-subtitle">
<label>[forced subtitle]</label>
<def>
<p>A subtitle (or caption) that is intended to always be displayed even if subtitles (captions) are not enabled. Forced subtitles (captions)
are used to prevent open captioning of, i.e., burning in, subtitles (captions) related to foreign or alien language or translation of text
that appears in media, such as in a sign.</p>
</def>
</gitem>
<gitem id="terms-font-defining-context">
<label>[font defining context]</label>
<def>
<p>The context in which a <loc href="#embedded-content-vocabulary-font"><el>font</el></loc> element is specified to serve as
a sharable definition to be referenced indirectly by a <loc href="#terms-font-selection-process">font selection process</loc>.</p>
</def>
</gitem>
<gitem id="terms-font-selection-process">
<label>[font selection process]</label>
<def>
<p>An internal process used by a <loc href="#terms-presentation-processor">presentation processor</loc> which purpose is to select
a set of author defined fonts and platform fonts for use during layout and presentation processing, where input parameters to this
process include the computed values of font related properties, the capabilities of individual fonts, and the text content being presented.</p>
</def>
</gitem>
<gitem id="terms-font-resource">
<label>[font resource]</label>
<def>
<p>A <loc href="#terms-data-resource">data resource</loc> that contains font information, such as character to glyph mapping data, glyph outlines or images,
glyph metrics, and other data used in the character to glyph mapping and rendering process.</p>
</def>
</gitem>
<gitem id="terms-height">
<label>[height]</label>
<def>
<p>An <loc href="#terms-absolute-dimension">absolute dimension</loc> on the <loc href="#terms-vertical-axis">vertical axis</loc>.</p>
<note role="exception">
<p>In some exceptional cases, the term <emph>height</emph> may refer to the  <loc href="#terms-horizontal-axis">horizontal axis</loc>,
more about which see <specref ref="style-attribute-lineHeight"/>.</p>
</note>
</def>
</gitem>
<gitem id="terms-fragment-identifier">
<label>[fragment identifier]</label>
<def>
<p>A syntactic subset of a <loc href="#content-value-uri">&lt;uri&gt;</loc> value that adheres to the
fragment identifer syntax defined by <bibref ref="uri"/>, &sect;3.5.</p>
</def>
</gitem>
<gitem id="terms-glyph-area">
<label>[glyph area]</label>
<def>
<p>A type of <loc href="#terms-inline-area">inline area</loc> defined by <bibref ref="xslfo11"/>, <emph>Glyph-areas</emph>, &sect;4.6.2.
In this specification, a glyph area is associated with one or more content characters and one or more glyphs from a particular font, where it is these
glyphs that are rendered when presenting the glyph area. A spacing glyph area is a glyph area that is associated with
at least one spacing glyph, i.e., a glyph that has non-zero advance (width or height). A non-spacing glyph area is
a glyph area that is not a spacing glyph area, i.e., consists wholly of non-spacing glyphs.</p>
</def>
</gitem>
<gitem id="terms-glyph-area-descendant">
<label>[glyph area descendant]</label>
<def>
<p>A <loc href="#terms-glyph-area">glyph area</loc> that is a descendant area of some other area implied by the context of use.
For example, a descendant area of an inline area <code>I</code> that is a <loc href="#terms-glyph-area">glyph area</loc> is a
<emph>glyph area descendant</emph> of <code>I</code>.</p>
</def>
</gitem>
<gitem id="terms-image-defining-context">
<label>[image defining context]</label>
<def>
<p>The context in which an <loc href="#embedded-content-vocabulary-image"><el>image</el></loc> element is specified to serve as
a sharable definition to be referenced by another <loc href="#embedded-content-vocabulary-image"><el>image</el></loc> element
in an <loc href="#terms-image-presentation-context">image presentation context</loc>.</p>
</def>
</gitem>
<gitem id="terms-image-presentation-context">
<label>[image presentation context]</label>
<def>
<p>The context in which an <loc href="#embedded-content-vocabulary-image"><el>image</el></loc> element is specified for the
purpose of being presented (rendered). Such an <loc href="#embedded-content-vocabulary-image"><el>image</el></loc> element
may specify the image data inline by using a <loc href="#embedded-content-vocabulary-data"><el>data</el></loc> element within
a <loc href="#embedded-content-vocabulary-source"><el>source</el></loc> element child, or it may reference another
<loc href="#embedded-content-vocabulary-image"><el>image</el></loc> element specified in a 
<loc href="#terms-image-defining-context">image defining context</loc>, or it may do both.</p>
</def>
</gitem>
<gitem id="terms-image-resource">
<label>[image resource]</label>
<def>
<p>A <loc href="#terms-data-resource">data resource</loc> that contains a raster image.</p>
</def>
</gitem>
<gitem id="terms-inferred-processor-profile">
<label>[inferred processor profile]</label>
<def>
<p>A <loc href="#terms-processor-profile">processor profile</loc> determined by the
<loc href="#semantics-procedure-construct-inferred-processor-profile">construct inferred processor profile</loc> procedure which may
serve as the <loc href="#terms-effective-processor-profile">effective processor profile</loc> used to perform
<loc href="#terms-validation-processing">validation processing</loc>.</p>
</def>
</gitem>
<gitem id="terms-inline-animation">
<label>[inline animation]</label>
<def>
<p>An element in the <loc href="#element-vocab-group-animation"><code>Animation.class</code></loc> element group
that is defined inline as an immediate child of
a <loc href="#terms-content-element">content element</loc> or <loc href="#layout-vocabulary-region"><el>region</el></loc> element associated with the animation.
There is a one-to-one relation between
an inline animation element and its parent <loc href="#terms-content-element">content element</loc> or <loc href="#layout-vocabulary-region"><el>region</el></loc> element.</p>
</def>
</gitem>
<gitem id="terms-inline-area">
<label>[inline area]</label>
<def>
<p>A type of <loc href="#terms-area">area</loc> defined by <bibref ref="xslfo11"/>, <emph>Inline-areas</emph>, &sect;4.6, which children
consist of all <loc href="#terms-inline-area">inline areas</loc>, for example, <loc href="#terms-glyph-area">glyph areas</loc>.</p>
</def>
</gitem>
<gitem id="terms-inline-block-display">
<label>[inline block display]</label>
<def>
<p>Inline block display is a set of layout semantics that may be applied to a <loc href="#terms-content-element">content element</loc> in
certain contexts, wherein a generated block area is treated as an atomic area to be composed in an inline layout context, i.e., the block
area is treated as if it were itself an inline area when considered externally, but as a block area which considered internally.</p>
</def>
</gitem>
<gitem id="terms-inline-display">
<label>[inline display]</label>
<def>
<p>Inline display is a set of layout semantics that may be applied to a <loc href="#terms-content-element">content element</loc> in
certain contexts, wherein child areas are composed sequentially in the inline progression direction.</p>
<note role="example">
<p>In <bibref ref="css2"/>,
inline display is indicated when a CSS <code>display</code> property with the value <code>inline</code> is applied to a
<loc href="#terms-content-element">content element</loc> during presentation processing. In <bibref ref="xslfo11"/>, an inline display
occurs when composing a <code>fo:inline</code> element.</p>
</note>
</def>
</gitem>
<gitem id="terms-inline-progression-dimension">
<label>[inline progression dimension]</label>
<def>
<p>A <loc href="#terms-relative-dimension">relative dimension</loc> on the inline progression axis,
i.e., in the positive <loc href="#terms-inline-progression-direction">inline progression direction</loc>,
abbreviated as <emph>ipd</emph> or <emph>IPD</emph>.</p>
</def>
</gitem>
<gitem id="terms-inline-progression-direction">
<label>[inline progression direction]</label>
<def>
  <p>The direction taken by the progression of inline areas in some formatting context. In the context of horizontal writing modes,
  the inline progression direction is typically left-to-right or right-to-left; whereas, in the context of vertical writing modes,
  it is typically top-to-bottom.</p>
</def>
</gitem>
<gitem id="terms-inline-region">
<label>[inline region]</label>
<def>
<p>A <loc href="#terms-region">region</loc> that is defined in an inline manner with respect to some
<loc href="#terms-content-element">content element</loc>  to be selected into (targeted to) the region.
An inline region is specified by a <loc href="#layout-vocabulary-region"><el>region</el></loc> element child of
certain <loc href="#terms-content-element">content elements</loc>.
There is a one-to-one relation between an inline <loc href="#layout-vocabulary-region"><el>region</el></loc> element and its
parent <loc href="#terms-content-element">content element</loc>. An inline region is assigned its parent element&apos;s time interval as its active
time interval. No <att>region</att> attribute makes reference to an inline region.</p>
</def>
</gitem>
<gitem id="terms-intermediate-synchronic-document">
<label>[intermediate synchronic document]</label>
<def>
<p>A <loc href="#terms-timed-text-intermediate-document">timed text intermediate document</loc> or a
<loc href="#terms-timed-text-intermediate-document-instance">timed text intermediate document instance</loc>, according to the context of use,
where the root (document) element is an <el>isd:isd</el> element, and which represents a
non-overlapping temporal interval that intersects with the content, styling, layout, and timing of a source
<loc href="#terms-timed-text-content-document">timed text content document</loc>.</p>
</def>
</gitem>
<gitem id="terms-intermediate-synchronic-document-sequence">
<label>[intermediate synchronic document sequence]</label>
<def>
<p>A <loc href="#terms-timed-text-intermediate-document">timed text intermediate document</loc> or a
<loc href="#terms-timed-text-intermediate-document-instance">timed text intermediate document instance</loc>, according to the context of use,
where the root (document) element is an <el>isd:sequence</el> element, and which represents a
sequence of <loc href="#terms-intermediate-synchronic-document">intermediate synchronic document</loc> instances
that effectively represent the content, styling, layout, and timing of a source <loc href="#terms-timed-text-content-document">timed text content document</loc>.</p>
</def>
</gitem>
<gitem id="terms-intermediate-document-syntax">
<label>[intermediate document syntax]</label>
<def>
<p>A formalism for use in the concrete representation of an <loc href="#terms-intermediate-synchronic-document-sequence">intermediate synchronic document sequence</loc> or
an <loc href="#terms-intermediate-synchronic-document">intermediate synchronic document</loc>.</p>
</def>
</gitem>
<gitem id="terms-internal-data-resource">
<label>[internal data resource]</label>
<def>
<p>A <loc href="#terms-data-resource">data resource</loc> the representation of which is internal to (contained within) a
<loc href="#terms-timed-text-content-document-instance">timed text content document instance</loc>, referenced by means
of a <loc href="#embedded-content-attribute-src"><att>src</att></loc>
attribute of a <loc href="#embedded-content-vocabulary-source"><el>source</el></loc> element or <loc href="#terms-embedded-content-element">embedded
content element</loc>.</p>
</def>
</gitem>
<gitem id="terms-intrinsic-block-content-extent">
<label>[intrinsic block content extent]</label>
<def>
<p>The extent, i.e., width and height, of a sequence of block level content determined by formatting the content to an unbounded block
container area, and determining the width and height of the resulting, formatted block container.</p>
</def>
</gitem>
<gitem id="terms-intrinsic-image-extent">
<label>[intrinsic image extent]</label>
<def>
<p>The extent, i.e., width and height of an image determined from information internal to the image itself, e.g.,
the width and height of the image&apos;s pixel array.</p>
</def>
</gitem>
<gitem id="terms-intrinsic-inline-content-extent">
<label>[intrinsic inline content extent]</label>
<def>
<p>The extent, i.e., width and height, of a sequence of inline level content determined by formatting the content to an unbounded inline
container area, and determining the width and height of the resulting, formatted inline container.</p>
</def>
</gitem>
<gitem id="terms-higher-level-protocol">
<label>[higher level protocol]</label>
<def>
<p>A protocol or process of the <loc href="#terms-document-processing-context">document processing context</loc>
that is outside the scope of this specification.</p>
</def>
</gitem>
<gitem id="terms-horizontal-axis">
<label>[horizontal axis]</label>
<def>
<p>An axis parallel to the plane of the horizon.</p>
</def>
</gitem>
<gitem id="terms-line-area">
<label>[line area]</label>
<def>
<p>A type of <loc href="#terms-block-area">block area</loc> defined by <bibref ref="xslfo11"/>, <emph>Line-areas</emph>, &sect;4.5, which children
consist of one or more <loc href="#terms-inline-area">inline areas</loc>.</p>
</def>
</gitem>
<gitem id="terms-metadata-element">
<label>[metadata element]</label>
<def>
<p>Any of the element types defined by the <loc href="#element-vocab-type-metadata">Metadata Module</loc>.</p>
</def>
</gitem>
<gitem id="terms-module">
<label>[module]</label>
<def>
<p>A collection of <loc href="#terms-feature">feature</loc> and (or) <loc href="#terms-extension">extension</loc> definitions, defined as
either a <loc href="#terms-core-module">core module</loc> or an <loc href="#terms-extension-module">extension module</loc>.</p>
<note role="clarification">
<p>A module is distinct from (and orthogonal to) a <loc href="#terms-profile">profile</loc> in the sense that the former
defines functionality (regardless of application of use) while the latter selects functionality (for support by a processor
or use by a document). Note also that a single specification may define functionality (either explicitly or implicitly) associated
with a module and also define a profile. For example, this specification defines a collection of <loc href="#terms-core-module">core modules</loc>
and also defines three <loc href="#terms-profile">profiles</loc>, about which see <specref ref="core-vocabulary-overview"/> and
<specref ref="standard-profiles"/>, respectively.</p>
</note>
</def>
</gitem>
<gitem id="terms-nested-profile">
<label>[nested profile]</label>
<def>
<p>A constituent <loc href="#terms-profile">profile</loc> of a <loc href="#terms-nesting-profile">nesting profile</loc>, i.e., one of the
descendant <el>ttp:profile</el> element(s) of a higher level (ancestor) <el>ttp:profile</el> element. A given <el>ttp:profile</el> may serve
as both a <loc href="#terms-nested-profile">nested profile</loc> and a <loc href="#terms-nesting-profile">nesting profile</loc>.</p>
<note role="elaboration">
<p>A nested profile may appear in a <loc href="#terms-timed-text-content-document-instance">timed text content document instance</loc> or
a <loc href="#terms-timed-text-profile-document-instance">timed text profile document instance</loc>.</p>
</note>
</def>
</gitem>
<gitem id="terms-nesting-profile">
<label>[nesting profile]</label>
<def>
<p>A <loc href="#terms-profile">profile</loc> defined by making reference to one or more child <el>ttp:profile</el> element(s), wherein a
profile combination method determines how profile specifications from the multiple child <el>ttp:profile</el> element(s) are combined.
The <loc href="#semantics-profile-state-profile-constituents">constituents</loc> <loc href="#terms-component">component</loc> of the <loc href="#semantics-profile-state-profile-instance">profile instance</loc> associated with a
nesting profile is not <code>null</code>.</p>
</def>
</gitem>
<gitem id="terms-nested-embedded-source">
<label>[nested embedded source]</label>
<def>
<p>A <loc href="#embedded-content-vocabulary-source"><el>source</el></loc> element that specifies a child 
<loc href="#embedded-content-vocabulary-data"><el>data</el></loc> element which embeds the actual bytes of the
<loc href="#terms-embedded-data-resource">embedded data resource</loc>, whether by 
<loc href="#terms-simple-data-embedding">simple data embedding</loc> or <loc href="#terms-chunked-data-embedding">chunked data embedding</loc>.</p>
</def>
</gitem>
<gitem id="terms-non-combined-profile">
<label>[non-combined profile]</label>
<def>
<p>A <loc href="#terms-profile">profile</loc> for which the <loc href="#semantics-profile-state-combined-profile-specification-set-constituents">constituents</loc> <loc href="#terms-component">component</loc> of the <loc href="#semantics-profile-state-profile-combined-specification-set">combined specification set</loc> of the
associated <loc href="#semantics-profile-state-profile-instance">profile instance</loc> contains no more than one non-null designator.</p>
</def>
</gitem>
<gitem id="terms-non-content-image">
<label>[non-content image]</label>
<def>
<p>An <loc href="#terms-image-resource">image resource</loc> that does not contain semantically significant content, e.g., a raster image
representing a background design, which, if not presented, would not affect the presentation of semantically significant content.</p>
</def>
</gitem>
<gitem id="terms-non-nested-embedded-source">
<label>[non-nested embedded source]</label>
<def>
<p>A <loc href="#embedded-content-vocabulary-source"><el>source</el></loc> element that specifies a child 
<loc href="#embedded-content-vocabulary-data"><el>data</el></loc> element which does not embed a representation of the actual bytes of the
<loc href="#terms-embedded-data-resource">embedded data resource</loc>.</p>
</def>
</gitem>
<gitem id="terms-non-nesting-profile">
<label>[non-nesting profile]</label>
<def>
<p>A <loc href="#terms-profile">profile</loc> defined without making reference to one or more child <el>ttp:profile</el> element(s), that is,
by not including a child <code>ttp:profile</code> element.
The <loc href="#semantics-profile-state-profile-constituents">constituents</loc> <loc href="#terms-component">component</loc> of the <loc href="#semantics-profile-state-profile-instance">profile instance</loc> associated with a
non-nesting profile is <code>null</code>.</p>
</def>
</gitem>
<gitem id="terms-out-of-line-animation">
<label>[out-of-line animation]</label>
<def>
<p>An element in the <loc href="#element-vocab-group-animation"><code>Animation.class</code></loc> element group that is defined out-of-line from
the <loc href="#terms-content-element">content element</loc> or <loc href="#layout-vocabulary-region"><el>region</el></loc> element associated with the animation.
An out-of-line animation appears as a child of an <loc href="#animation-vocabulary-animation"><el>animation</el></loc> element in the header
(<loc href="#document-structure-vocabulary-head"><el>head</el></loc> element)
of a <loc href="#terms-document-instance">document instance</loc>. There is a one-to-many relation between
a referenced out-of-line animation element and referencing <loc href="#terms-content-element">content elements</loc> and
<loc href="#layout-vocabulary-region"><el>region</el></loc> elements.</p>
</def>
</gitem>
<gitem id="terms-out-of-line-region">
<label>[out-of-line region]</label>
<def>
<p>A <loc href="#layout-vocabulary-region"><el>region</el></loc> element that is defined out-of-line from
a <loc href="#terms-content-element">content element</loc> associated with (to be selected into) the region.
An out-of-line region appears as a child of a <loc href="#layout-vocabulary-layout"><el>layout</el></loc> element in the header
(<loc href="#document-structure-vocabulary-head"><el>head</el></loc> element)
of a <loc href="#terms-document-instance">document instance</loc>. There is a one-to-many relation between
a referenced out-of-line region element and referencing <loc href="#terms-content-element">content elements</loc>.
A <loc href="#terms-default-region">default out-of-line region</loc> is implied if no
<loc href="#terms-out-of-line-region">out-of-line region</loc> is specified explicitly.</p>
</def>
</gitem>
<gitem id="terms-override-content-profile">
<label>[override content profile]</label>
<def>
<p>A <loc href="#terms-content-profile">content profile</loc> that is determined to override all other
possible determinations of a <loc href="#terms-content-profile">content profile</loc>.</p>
<p></p>
</def>
</gitem>
<gitem id="terms-override-processor-profile">
<label>[override processor profile]</label>
<def>
<p>A <loc href="#terms-processor-profile">processor profile</loc> that is determined to override all other
possible determinations of a <loc href="#terms-processor-profile">processor profile</loc>.</p>
<note role="example">
<p>For example, the optional <code>profile</code> or <code>codecs</code> parameters defined by
<bibref ref="ttpr"/>, &sect;2, <emph>Media Type Registration</emph>, may be used by a <loc href="#terms-content-processor">content processor</loc>
as a <loc href="#terms-higher-level-protocol">higher level protocol</loc> in order to determine an override profile.</p>
</note>
<p></p>
</def>
</gitem>
<gitem id="terms-pixel-aspect-ratio">
<label>[pixel aspect ratio]</label>
<def>
<p>See definition of <loc href="#root-container-region-semantics-par">PAR</loc>.</p>
</def>
</gitem>
<gitem id="terms-presentation-context">
<label>[presentation context]</label>
<def>
<p>See <loc href="#terms-presentation-processing-context">presentation processing context</loc>.</p>
</def>
</gitem>
<gitem id="terms-presentation-processing-context">
<label>[presentation processing context]</label>
<def>
  <p>A hypothetical display device on which the <loc href="#terms-root-container-region">root container region</loc> and a
  <loc href="#terms-related-media-object-region">related media object region</loc> are presented.</p>
</def>
</gitem>
<gitem id="terms-presentation-context-coordinate-space">
<label>[presentation context coordinate space]</label>
<def>
<p>The coordinate space associated with the <loc href="#terms-presentation-context">presentation context</loc>.</p>
<note role="clarification">
<p>For a given implementation of a <loc href="#terms-presentation-processor">presentation processor</loc>, it is possible that
<termref def="defs-display-pixel">display pixels</termref> associated with <termref def="defs-logical-pixel">logical pixels</termref> in the
<loc href="#terms-document-coordinate-space">document coordinate space</loc> correspond exactly with
<termdef id="defs-presentation-pixel" term=""><term>presentation pixels</term></termdef> in
the <loc href="#terms-presentation-context-coordinate-space">presentation context coordinate space</loc>;
however, such an exact correspondence need not apply, and, in particular, the (implementation defined) mapping between these coordinate spaces
may be subject to a transformation of pixel aspect ratios, resolutions, color spaces, color sample depths,
and other implementation specific properties.</p>
</note>
</def>
</gitem>
<gitem id="terms-presentation-related-element">
<label>[presentation related element]</label>
<def>
  <p>Any element which (1) contains or expresses presentable content or (2) affects the presentation of content. Examples of the
  former include all <loc href="#terms-content-element">content elements</loc> and certain
  <loc href="#terms-embedded-content-element">embedded content elements</loc>, notably
  <loc href="#embedded-content-vocabulary-audio"><el>audio</el></loc> as well as <loc href="#embedded-content-vocabulary-image"><el>image</el></loc>.
  Examples of the latter include inline <loc href="#animation-vocabulary-animate"><el>animate</el></loc> and
  <loc href="#animation-vocabulary-set"><el>set</el></loc>. Note well that
  <loc href="#terms-metadata-element">metadata elements</loc> are excluded from this definition.</p>
</def>
</gitem>
<gitem id="terms-presentation-processor">
<label>[presentation processor]</label>
<def>
<p>A <loc href="#terms-content-processor">content processor</loc> which purpose is to layout, format, and render,
i.e., to present, <loc href="#terms-timed-text-markup-language">Timed Text Markup Language</loc> content by applying the presentation semantics
defined in this specification.</p>
</def>
</gitem>
<gitem id="terms-processor">
<label>[processor]</label>
<def>
<p>See <loc href="#terms-content-processor">content processor</loc>.</p>
</def>
</gitem>
<gitem id="terms-processor-profile">
<label>[processor profile]</label>
<def>
<p>A <loc href="#terms-profile">profile</loc> such that (1) the value of the <loc href="#semantics-profile-state-profile-type">type</loc> <loc href="#terms-component">component</loc> of the associated
<loc href="#semantics-profile-state-profile-instance">profile instance</loc> is <code>processor</code> and
(2) the collection of <loc href="#terms-feature">features</loc> and <loc href="#terms-extension">extensions</loc> of which
must or may be implemented (supported) by a content processor.</p>
</def>
</gitem>
<gitem id="terms-profile">
<label>[profile]</label>
<def>
<p>A collection of <loc href="#terms-feature-specification">feature</loc> and <loc href="#terms-extension-specification">extension</loc> specifications, which, when
interned (instantiated), is represented by a <loc href="#semantics-profile-state-profile-instance">profile instance</loc> state object.
A profile is typed as a <loc href="#terms-content-profile">content profile</loc> or a <loc href="#terms-processor-profile">processor profile</loc>.</p>
</def>
</gitem>
<gitem id="terms-profile-definition-document">
<label>[profile definition document]</label>
<def>
<p>A <loc href="#terms-timed-text-profile-document">timed text profile document</loc> or a
<loc href="#terms-timed-text-profile-document-instance">timed text profile document instance</loc>, according to the context of use.</p>
</def>
</gitem>
<gitem id="terms-profile-fragment-identifier">
<label>[profile fragment identifier]</label>
<def>
<p>A <loc href="#terms-fragment-identifier">fragment identifier</loc> used to label or reference an internally defined <loc href="#terms-profile">profile</loc>, where
internal refers to being internal to a <loc href="#terms-document-instance">document instance</loc>.</p>
</def>
</gitem>
<gitem id="terms-profile-processing">
<label>[profile processing]</label>
<def>
<p>The process of performing the <loc href="#semantics-procedure-abort-if-unsupported-processor-profile"><phrase role="strong">[abort if
unsupported processor profile]</phrase></loc> procedure, which, as a side effect, determines the
<loc href="#terms-effective-content-profile">effective content profile</loc> (if required) and
the <loc href="#terms-effective-processor-profile">effective processor profile</loc> of a <loc href="#terms-document-instance">document instance</loc>.</p>
</def>
</gitem>
<gitem id="terms-profile-specification">
<label>[profile specification]</label>
<def>
<p>A <loc href="#terms-feature-specification">feature specification</loc> or an <loc href="#terms-extension-specification">extension specification</loc>
or the internal state representation thereof.</p>
</def>
</gitem>
<gitem id="terms-reduced-xml-infoset">
<label>[reduced xml infoset]</label>
<def>
<p>An XML Information Set <bibref ref="infoset"/> that satisfies the
constraints specify by <specref ref="reduced-infoset"/>.</p>
</def>
</gitem>
<gitem id="terms-reference-data-embedding">
<label>[reference data embedding]</label>
<def>
<p>An <loc href="#terms-embedded-content-element">embedded content element</loc> that indirectly references the content
of an <loc href="#terms-embedded-content-resource">embedded content resource</loc> by making use of a
<att>src</att> attribute.</p>
</def>
</gitem>
<gitem id="terms-region">
<label>[region]</label>
<def>
<p>The <loc href="#terms-root-container-region">root container region</loc> or a
<loc href="#terms-content-region">content region</loc>, which, if  used without qualification,
refers to the latter.</p>
<note role="clarification">
  <p>While there is only one, unique root container region associated with document presentation,
  this specification does not place a restriction on the number of content regions used over time
  or at a given time. Some <loc href="#terms-content-profile">content profiles</loc>, however, do
  specify such restrictions.</p>
</note>
</def>
</gitem>
<gitem id="terms-related-media-object">
<label>[related media object]</label>
<def>
<p>A (possibly null) media object associated with or otherwise related
to a <loc href="#terms-document-instance">document instance</loc>. For example, an aggregate audio/video media
object for which a <loc href="#terms-document-instance">document instance</loc> provides caption or subtitle
information, and with which that <loc href="#terms-document-instance">document instance</loc> is associated.</p>
</def>
</gitem>
<gitem id="terms-related-media-object-region">
<label>[related media object region]</label>
<def>
  <p>A region of the <loc href="#terms-presentation-processing-context">presentation processing context</loc> where a non-null, visual
  <loc href="#terms-related-media-object">related media object</loc> is presented.</p>
</def>
</gitem>
<gitem id="terms-relative-dimension">
<label>[relative dimension]</label>
<def>
<p>A scalar value that denotes a length on either the inline or block progression axis in accordance with
the applicable writing mode.</p>
</def>
</gitem>
<gitem id="terms-root-container-region">
<label>[root container region]</label>
<def>
<p>A unique, logical, rectangular region that establishes a coordinate system into which
<loc href="#terms-content-region">content regions</loc> are placed and optionally clipped,
about which see also <specref ref="root-container-region-semantics"/>.</p>
<note role="elaboration">
<p>The <loc href="#terms-root-container-region">root container region</loc> has no border or padding; consequently, its border, padding, and
content rectangles are coterminous.</p>
</note>
</def>
</gitem>
<gitem id="terms-root-temporal-extent">
<label>[root temporal extent]</label>
<def>
<p>The temporal extent (interval) defined by the temporal beginning and ending of a <loc href="#terms-document-instance">document instance</loc>,
i.e., the time interval over which a <loc href="#terms-document-instance">document instance</loc> is active,
in relationship with some external application or presentation context.</p>
</def>
</gitem>
<gitem id="terms-ruby-container-span">
<label>[ruby container span]</label>
<def>
<p>A <loc href="#content-vocabulary-span"><el>span</el></loc> element for which the computed value of
<loc href="#style-attribute-ruby"><att>tts:ruby</att></loc> is <attval>container</attval>, <attval>baseContainer</attval>,
or <attval>textContainer</attval>.</p>
</def>
</gitem>
<gitem id="terms-significant-text-node">
<label>[significant text node]</label>
<def>
<p>A significant text node is a <termref def="defs-text-node">text node</termref> that contains at least one
<emph>significant</emph> <termref def="defs-data-character">data character</termref>,
where the determination of whether a <termref def="defs-data-character">data character</termref> is significant or not is determined by the
declared content model and the defined semantics of the element type of the <termref def="defs-text-node">text node&apos;s</termref>
parent <termref def="defs-element-node">element node</termref>, more about which see <bibref ref="xml10"/>, &sect;3.2.
In particular, if the content model of the parent&apos;s element type is
<loc href="https://www.w3.org/TR/2008/REC-xml-20081126/#sec-element-content">element content</loc>,
then no <termref def="defs-data-character">data character</termref> is significant; however, if the content model of the parent&apos;s element type is
<loc href="https://www.w3.org/TR/2008/REC-xml-20081126/#sec-mixed-content">mixed content</loc>,
then the semantics of the parent&apos;s element type and its applied style properties (as defined in this specification) determines whether
a <termref def="defs-data-character">data character</termref> is significant (not ignored) or not (ignored) in some context of use.</p>
<note role="clarification">
<p>A <termdef id="defs-data-character" term=""><term>data character</term></termdef> is any character that is
considered to be <loc href="https://www.w3.org/TR/2008/REC-xml-20081126/#dt-chardata">character data</loc> as defined
by <bibref ref="xml10"/>, &sect;2.4, or its equivalent in the case of concrete encodings not based upon <specref ref="concrete-encoding"/>.</p>
</note>
</def>
</gitem>
<gitem id="terms-simple-data-embedding">
<label>[simple data embedding]</label>
<def>
<p>A <loc href="#embedded-content-vocabulary-data"><el>data</el></loc> element that directly embeds a representation of the actual bytes
of an <loc href="#terms-embedded-data-resource">embedded data resource</loc> without making use of a
child <loc href="#embedded-content-vocabulary-chunk"><el>chunk</el></loc> element.</p>
</def>
</gitem>
<gitem id="terms-smpte-time-code">
<label>[smpte time code]</label>
<def>
<p>A time code whose format and semantics are established by <bibref ref="smpte12"/>,
which may be embedded into or otherwise associated with media content, such
as a broadcast audio/video stream.</p>
</def>
</gitem>
<gitem id="terms-sourced-data-embedding">
<label>[sourced data embedding]</label>
<def>
<p>An <loc href="#terms-embedded-content-element">embedded content element</loc> that indirectly references the content
of an <loc href="#terms-embedded-content-resource">embedded content resource</loc> by making use of a
child <loc href="#embedded-content-vocabulary-source"><el>source</el></loc> element.</p>
</def>
</gitem>
<gitem id="terms-specified-style-set">
<label>[specified style set]</label>
<def>
<p>A <loc href="#terms-style-set">style set</loc> containing specified style values as determined
by <specref ref="semantics-style-resolution-processing-sss"/>.</p>
</def>
</gitem>
<gitem id="terms-speech-data-resource">
<label>[speech data resource]</label>
<def>
<p>A <loc href="#terms-data-resource">data resource</loc> that consists of the samples generated by the output of the
<loc href="#terms-speech-synthesis-processor">speech synthesis processor</loc>.</p>
</def>
</gitem>
<gitem id="terms-speech-synthesis-processor">
<label>[speech synthesis processor]</label>
<def>
<p>An optional <loc href="#terms-component">component</loc> of a <loc href="#terms-content-processor">content processor</loc>,
the function of which is to synthesize an audio speech rendering of textual content.</p>
</def>
</gitem>
<gitem id="terms-storage-aspect-ratio">
<label>[storage aspect ratio]</label>
<def>
<p>See definition of <loc href="#root-container-region-semantics-sar">SAR</loc>.</p>
</def>
</gitem>
<gitem id="terms-style-set">
<label>[style set]</label>
<def>
<p>A style property set as defined
by <loc href="#semantics-style-property-set">style property set</loc>.</p>
</def>
</gitem>
<gitem id="terms-styled-element">
<label>[styled element]</label>
<def>
<p>An element which is or may be associated with a <loc href="#terms-computed-style-set">computed style set</loc>.</p>
</def>
</gitem>
<gitem id="terms-styling-attribute">
<label>[styling attribute]</label>
<def>
<p>A global attribute defined in either (1) one of the <termref def="defs-tt-style-namespaces">TT Style Namespaces</termref>; or
(2) an <termref def="defs-other-namespaces">Other Namespace</termref> such that the defining <loc href="#terms-module">module</loc>
declares the attribute to be a styling attribute.</p>
<note role="elaboration">
<p>For the purpose of defining the semantics of <specref ref="semantics-style-resolution-processing"/>, a styling attribute (whether specified
or defaulted) is intended to be interned (instantiated) as a <loc href="#semantics-style-property">style property</loc>.</p>
</note>
</def>
</gitem>
<gitem id="terms-synthetic-document-syncbase">
<label>[synthetic document syncbase]</label>
<def>
<p>A document level <xspecref href="https://www.w3.org/TR/2008/REC-SMIL3-20081201/smil30.html#smil-timing-q158">syncbase</xspecref>
<bibref ref="smil3"/>, &sect;5.7.1, synthesized or otherwise established by
the <loc href="#terms-document-processing-context">document processing context</loc> in accordance with the
<loc href="#terms-related-media-object">related media object</loc> or other processing criteria.</p>
</def>
</gitem>
<gitem id="terms-synthetic-smpte-document-syncbase">
<label>[synthetic smpte document syncbase]</label>
<def>
<p>A <loc href="#terms-synthetic-document-syncbase">synthetic document syncbase</loc> constructed from <loc href="#terms-smpte-time-code">smpte time code</loc>
values embedded in or associated with the <loc href="#terms-related-media-object">related media object</loc> or
otherwise determined by the <loc href="#terms-document-processing-context">document processing context</loc>.</p>
</def>
</gitem>
<gitem id="terms-temporally-active">
<label>[temporally active]</label>
<def>
<p>A syntactic or semantic feature, e.g., an element or the presentation of an element, is
<emph>temporally active</emph> when the current time of the selected time base intersects with the
active time interval of the feature.</p>
</def>
</gitem>
<gitem id="terms-temporally-active-region">
<label>[temporally active region]</label>
<def>
<p>A <loc href="#terms-region">region</loc> that is <loc href="#terms-temporally-active">temporally active</loc>.</p>
</def>
</gitem>
<gitem id="terms-text-orientation">
<label>[text orientation]</label>
<def>
<p>A characterization of the orientation of a <loc href="#terms-glyph-area">glyph area</loc> in terms of degrees of rotation, where
0&deg; designates an <code>upright</code> orientation and
90&deg;, i.e, 90 degrees clockwise, designates a <code>sideways</code> orientation,
about which see also <specref ref="style-attribute-textOrientation"/>.</p>
</def>
</gitem>
<gitem id="terms-timed-element">
<label>[timed element]</label>
<def>
<p>Any element of a type that permits the specification of a <loc href="#timing-attribute-begin"><att>begin</att></loc> attribute.</p>
</def>
</gitem>
<gitem id="terms-timed-text">
<label>[timed text]</label>
<def>
<p>Textual information that is intrinsically or extrinsically
associated with timing information.</p>
</def>
</gitem>
<gitem id="terms-timed-text-authoring-system">
<label>[timed text authoring system]</label>
<def>
<p>A content authoring system capable of importing and exporting
Timed Text Markup Language content.</p>
</def>
</gitem>
<gitem id="terms-timed-text-content-document">
<label>[timed text content document]</label>
<def>
<p>An abstract document that is purported or confirmed to be a
<loc href="#terms-valid-abstract-document-instance">valid abstract document instance</loc> of
the <loc href="#ttml-content-doctype">TTML Content Document Type</loc>.</p>
</def>
</gitem>
<gitem id="terms-timed-text-content-document-instance">
<label>[timed text content document instance]</label>
<def>
<p>A concrete realization of a <loc href="#terms-timed-text-content-document">timed text content document</loc>,
about which see also <specref ref="concrete-encoding"/>.</p>
</def>
</gitem>
<gitem id="terms-timed-text-document-instance">
<label>[timed text document instance]</label>
<def>
<p>A concrete realization of a
<loc href="#terms-timed-text-markup-language-document">timed text markup language document</loc>,
where  the concrete form is specific to the context of reference.
Also referred to as a <loc href="#terms-document-instance">TTML document instance</loc>
or simply <loc href="#terms-document-instance">document instance</loc>.</p>
</def>
</gitem>
<gitem id="terms-timed-text-intermediate-document">
<label>[timed text intermediate document]</label>
<def>
<p>An abstract document that is purported or confirmed to be a
<loc href="#terms-valid-abstract-document-instance">valid abstract document instance</loc> of
the <loc href="#ttml-intermediate-doctype">TTML Intermediate Document Type</loc>.</p>
</def>
</gitem>
<gitem id="terms-timed-text-intermediate-document-instance">
<label>[timed text intermediate document instance]</label>
<def>
<p>A concrete realization of a <loc href="#terms-timed-text-intermediate-document">timed text intermediate document</loc>,
about which see <specref ref="concrete-encoding"/>.</p>
</def>
</gitem>
<gitem id="terms-timed-text-markup-language">
<label>[timed text markup language]</label>
<def>
<p>A content type that represents timed text content, intermediate representations of this content, or profiles of this content or content processors.</p>
</def>
</gitem>
<gitem id="terms-timed-text-markup-language-document">
<label>[timed text markup language document]</label>
<def>
<p>An abstract document that is purported or confirmed to be a
<loc href="#terms-valid-abstract-document-instance">valid abstract document instance</loc>.</p>
</def>
</gitem>
<gitem id="terms-timed-text-profile-document">
<label>[timed text profile document]</label>
<def>
<p>An abstract document that is purported or confirmed to be a
<loc href="#terms-valid-abstract-document-instance">valid abstract document instance</loc> of
the <loc href="#ttml-profile-doctype">TTML Profile Document Type</loc>.</p>
</def>
</gitem>
<gitem id="terms-timed-text-profile-document-instance">
<label>[timed text profile document instance]</label>
<def>
<p>A concrete realization of a <loc href="#terms-timed-text-profile-document">timed text profile document</loc>,
about which see <specref ref="concrete-encoding"/>.</p>
</def>
</gitem>
<gitem id="terms-top-level-profile">
<label>[top-level profile]</label>
<def>
<p>A <loc href="#terms-profile">profile</loc> defined by a <el>ttp:profile</el> element that appears as a child
of the <el>head</el> element of a <loc href="#terms-timed-text-content-document-instance">timed text content document instance</loc>.</p>
</def>
</gitem>
<gitem id="terms-transformation-processor">
<label>[transformation processor]</label>
<def>
<p>A <loc href="#terms-content-processor">content processor</loc> which purpose is to transform or otherwise rewrite
<loc href="#terms-timed-text-markup-language">Timed Text Markup Language</loc> content to either <loc href="#terms-timed-text-markup-language">Timed Text Markup Language</loc>
or to another (arbitrary) content format. An example of the first is a processor that removes
or rewrites TTML features so as to conform to a profile of TTML. An example of the latter is
a processor that translates TTML into a completely different timed text format. Because this
specification does not otherwise define a target profile or format for transformation processing,
no further transformation semantics are defined by this specification.</p>
</def>
</gitem>
<gitem id="terms-undesignated-profile">
<label>[undesignated profile]</label>
<def>
<p>A <loc href="#terms-profile">profile</loc> that is not associated with a <loc href="#content-value-profile-designator">profile designator</loc>,
and which is referred to implicitly in the context of the profile&apos;s definition. Also referred to as an <emph>anonymous profile</emph>.</p>
</def>
</gitem>
<gitem id="terms-valid-abstract-document-instance">
<label>[valid abstract document instance]</label>
<def>
<p>An <loc href="#terms-abstract-document-instance">abstract document instance</loc> which has been assessed for validity
and found to be valid as defined by <specref ref="doctypes"/>.</p>
</def>
</gitem>
<gitem id="terms-validation-processing">
<label>[validation processing]</label>
<def>
<p>The function(s) performed by a <loc href="#terms-validation-processor">validation processor</loc>.</p>
</def>
</gitem>
<gitem id="terms-validation-processor">
<label>[validation processor]</label>
<def>
<p>An optional <loc href="#terms-component">component</loc> of a <loc href="#terms-content-processor">content processor</loc>, the function of which is to perform validation processing on a
candidate <loc href="#terms-document-instance">document instance</loc> prior to performing certain other type of processing,
and where that validation processing consists of performing the
<loc href="#semantics-procedure-validate-document">[validate document]</loc> procedure
as defined by <specref ref="vocabulary-validation"/>.</p>
</def>
</gitem>
<gitem id="terms-validating-content-processor">
<label>[validating content processor]</label>
<def>
<p>A <loc href="#terms-content-processor">content processor</loc> that implements a <loc href="#terms-validation-processor">validation processor</loc>
<loc href="#terms-component">component</loc> as a pre-processing step prior to performing its primary function as a <loc href="#terms-content-processor">content processor</loc>.</p>
<note role="elaboration">
<p>A validating content processor may have (1) the sole function of validating (or verifying) a document instance,
in which case it may be considered a validating <loc href="#terms-transformation-processor">transformation processor</loc> the
output of which indicates  validity (or not), or (2) multiple functions, the first of which is validating (or verifying) a document instance
and then performing its primary function as a <loc href="#terms-transformation-processor">transformation processor</loc> or
<loc href="#terms-presentation-processor">presentation processor</loc>.</p>
</note>
<note role="elaboration">
<p>When validation processing is performed, a conforming validating content processor is permitted to interleave validation
processing and content processing, provided that the latter does not temporally precede the former for a give unit of content.</p>
</note>
</def>
</gitem>
<gitem id="terms-vertical-axis">
<label>[vertical axis]</label>
<def>
<p>An axis perpendicular to the plane of the horizon.</p>
</def>
</gitem>
<gitem id="terms-width">
<label>[width]</label>
<def>
<p>An <loc href="#terms-absolute-dimension">absolute dimension</loc> on the <loc href="#terms-horizontal-axis">horizontal axis</loc>.</p>
</def>
</gitem>
<gitem id="terms-writing-mode">
<label>[writing mode]</label>
<def>
<p>An enumeration collection of tokens, each of which designates a combination of the axis and direction of flow of
both inline and block oriented content, about which see <specref ref="style-attribute-writingMode"/>.</p>
</def>
</gitem>
</glist>
</div2> <!-- terms -->
<div2 id="conventions">
<head>Documentation Conventions</head>
<p>Within normative prose in this specification, the words
<emph>may</emph>, <emph>should</emph>, and <emph>must</emph> are
defined as follows:</p>
<glist role="conformance-keywords">
<gitem>
<label>may</label>
<def>
<p>Conforming documents and (or) TTML processors are permitted to,
but need not behave as described. </p>
</def>
</gitem>
<gitem>
<label>should</label>
<def>
<p>Conforming documents and (or) TTML processors are strongly
recommended to, but need not behave as described.</p>
</def>
</gitem>
<gitem>
<label>must</label>
<def>
<p>Conforming documents and (or) TTML processors are required
to behave as described; otherwise, they are in error. </p>
</def>
</gitem>
</glist>
<p>If normative specification language takes an imperative form,
then it is to be treated as if the term <phrase role="strong">must</phrase>
applies. Furthermore, if normative language takes a declarative form,
and this language is governed by <phrase role="strong">must</phrase>,
then it is also to be treated as if the term <phrase role="strong">must</phrase>
applies.</p>
<note role="example">
<p>For example, the phrases "treat X as an error" and "consider X
as an error" are to be read as mandatory requirements in the context of use. Similarly, if the specification
prose is "X must apply", "X applies", or "X is mandatory", and "X" is further defined as "X is Y and Z",
then, by transitive closure, this last declarative phrase is to be read as "Y is mandatory" and
"Z is mandatory" in the context of use.</p>
</note>
<p>All normative syntactic definitions of XML representations and
other related terms are depicted with a light yellow-orange background color
and labeled as "XML Representation" or "Syntax Representation", such
as in the following:</p>
<table id="elt-syntax-example" role="syntax">
<caption>XML Representation &ndash; Element Information Item: example</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;example
  <phrase role="reqattr">count</phrase> = <loc href="#style-value-integer">&lt;integer&gt;</loc>
  size = (<emph>"large"</emph> | <emph>"medium"</emph> | <emph>"small"</emph> | <emph><phrase role="deprecated">"tiny"</phrase></emph> | <emph><phrase role="obsoleted">"micro"</phrase></emph>) : medium&gt;
  <emph>Content:</emph> (all | any*)
&lt;/example&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>In an XML representation, bold-face attribute names (e.g. <phrase
role="strong">count</phrase> above) indicate a required attribute
information item, and the rest are optional. Where an attribute
information item has an enumerated type definition, the values are
shown separated by vertical bars, as for <code>size</code> above; if
there is a default value, it is shown following a colon. Where an
<loc href="#terms-attribute-information-item">attribute information item</loc> has a built-in simple type definition
defined in <bibref ref="xsd-2"/>, a hyperlink to its definition
therein is given.</p>
<p>Unqualified attributes are not permitted unless explicitly defined in this specification.</p>
<note role="elaboration"><p>With the exception of <specref ref="element-derivation"/>, the (possibly namespace qualified) name of an attribute
is prefixed with a &apos;<code>@</code>&apos; (COMMERCIAL AT) character in order to disambiguate between the attribute and a like-named element type, in which case
the &apos;<code>@</code>&apos; character is not intended to be part of the literal name of the attribute. For example, <code>@ttm:agent</code>
refers to the <loc href="#metadata-attribute-agent">ttm:agent</loc> attribute, while <code>ttm:agent</code> refers to
<loc href="#metadata-vocabulary-agent">ttm:agent</loc> element.</p></note>
<p>An information item depicted with a <phrase role="deprecated">light yellow orange</phrase> background color is deprecated (e.g.,
the <phrase role="deprecated">tiny</phrase> value of the <code>size</code> attribute shown above).
An information item that is <phrase role="deprecated">deprecated</phrase> may but should not appear in a TTML document instance,
and a <loc href="#terms-validating-content-processor">validating content processor</loc> should report a warning if it does appear.
An information item depicted with a <phrase role="obsoleted">light magenta red</phrase> background color is obsoleted (e.g.,
the <phrase role="obsoleted">micro</phrase> value of the <code>size</code> attribute shown above).
An information item that is <phrase role="obsoleted">obsoleted</phrase> must not appear in a TTML document instance,
and a <loc href="#terms-validating-content-processor">validating content processor</loc> should report an error if it does appear.
These designations of an item
are also explicitly called out in specification text.</p>
<p>The allowed content of the information item is shown as a grammar
fragment, using the Kleene operators <code>?</code>, <code>*</code>
and <code>+</code>. Each element name therein is a hyperlink to its
own illustration.</p>
<p>The term linear whitespace (LWSP) is to be interpreted as a non-empty sequence of
SPACE (U+0020), TAB (U+0009), CARRIAGE RETURN (U+000D), or LINE FEED (U+000A),
which corresponds to production [3] <code>S</code> as defined by <bibref ref="xml10"/>.</p>
<p>The following conventions are used in the specification of value syntax expressions:</p>
<ulist>
  <item><p>a literal term (specified within quotation marks), when present, must appear exactly  as specified
  (excluding the quotation marks themselves);</p></item>
  <item><p>the literal <code>&apos;\\&apos;</code> is interpreted as a single backslash, i.e., REVERSE SOLIDUS (U+005C);</p></item>
  <item><p>concatenated (juxtaposed) terms mean that all terms must appear in the stated order, e.g., <code>a b</code> means that the terms
  <code>a</code> and <code>b</code> are present and the former precedes the latter;</p></item>
  <item><p>a vertical bar (<code>|</code>) separates two or more alternatives, of which exactly one must appear;</p></item>
  <item><p>a double vertical bar (<code>||</code>) separates two or more options, of which one or more must appear in any order without duplication,
  separated by <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>;</p></item>
  <item><p>open and close parenthesis (<code>()</code>) are used for grouping and resolving operator precedence;</p></item>
  <item><p>open and close square brackets (<code>[]</code>) are used to express character classes;</p></item>
  <item><p>open and close curly braces (<code>{}</code>) are used in two ways, where the context is generally sufficient to determine which
  applies (and, if not, then the surrounding prose will make clear which applies):</p>
    <ulist>
      <item><p>to express a repetition count or range, which takes one of the following forms:</p>
      <ulist>
        <item><p><code>{</code><emph><code>count</code></emph><code>}</code></p></item>
        <item><p><code>{</code><emph><code>minimum</code></emph><code>,</code><emph><code>maximum</code></emph><code>}</code></p></item>
      </ulist>
      </item>
      <item><p>to express a collection of characters, one of which must appear; in
      addition, a collection may be specified as a difference of collections, such as <code>{char-{specials}}</code>,
      which denotes all XML characters minus a collection of <emph>special</emph> characters.</p></item>
    </ulist>
  </item>
  <item><p>the Kleene operators <code>?</code>, <code>*</code>, and <code>+</code> respectively express zero or one,
  zero or more, and one or more of the preceding term;</p></item>
  <item>
    <p>operator precedence (from highest to lowest) is as follows, all of which have left to right associativity</p>
    <olist>
      <item><p>grouping</p></item>
      <item><p>concatenation (juxtaposition)</p></item>
      <item><p><code>||</code></p></item>
      <item><p><code>|</code></p></item>
    </olist>
  </item>
</ulist>
<p>Except for linear whitespace that is required to appear between expressions that satisfy the <code>||</code>
value syntax, no whitespace is permitted unless explicitly marked in a value syntax definition by the appearance of a
<loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> non-terminal.</p>
<p>Unless stated to the contrary, the terms <emph>horizontal</emph> and <emph>vertical</emph> are interpreted in an absolute sense, not relative to writing mode, while
<emph>width</emph> refers to a dimension along the <emph>horizontal</emph> axis and
<emph>height</emph> refers to a dimension along the <emph>vertical</emph> axis. All exceptions are explicitly noted in the text.</p>
<p>The phrase &quot;and (or)&quot; denotes an <emph>inclusive disjunction</emph> (<emph>p&lor;q</emph>), while the syntax
&quot;either&hellip;or&hellip;&quot; denotes an <emph>exclusive disjunction</emph> (<emph>p&xor;q</emph>). Otherwise, the sense of &quot;or&quot; is
implied by its context of use.</p>
<p>All content of this specification that is not explicitly marked as
non-normative is considered to be normative. If a section or appendix
header contains the expression "Non-Normative", then the entirety
of the section or appendix is considered non-normative.</p>
<p>All paragraphs marked as a <phrase role="strong">Note</phrase> are considered non-normative.</p>
<p>Example code fragments are depicted with a light blue-green
background color and labeled as "Example Fragment", such as in
the following:</p>
<table id="example-fragment-1" role="example">
<caption>Example Fragment &ndash; Sample</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;tt xml:lang="" xmlns="http://www.w3.org/ns/ttml"&gt;
  &lt;head&gt;
    &lt;metadata/&gt;
    &lt;styling/&gt;
    &lt;layout/&gt;
  &lt;/head&gt;
  &lt;body/&gt;
&lt;/tt&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<note role="clarification">
<p>Although they are expressed in well-formed XML, example code fragments depicted herein are not intended to be complete, valid TTML documents;
rather, they are generally abbreviated in order to focus on the intended example. In particular, fragments will typically need to be augmented
with additional elements and (or) attributes in order to satisfy TTML document conformance requirements.</p>
</note>
<p>Unless specified otherwise, the vocabulary defining sections of this specification define vocabulary in alphabetical order rather than logical order.</p>
</div2> <!-- conventions -->
</div1> <!-- definitions -->
<div1 id="conformance">
<head>Conformance</head>
<p>This section specifies the general conformance requirements for
TTML2 documents and processors.</p>
<div2 id="conformance-content">
<head>Document Conformance</head>
<p>A <loc href="#terms-timed-text-document-instance">timed text document instance</loc> conforms to this specification if the following criteria are
satisfied:</p>
<olist>
<item>
<p>When transporting a <loc href="#terms-document-instance">document instance</loc> in a <loc href="#terms-document-interchange-context">document interchange context</loc> in which a
Media Type <bibref ref="media-types"/> identifies the content type of the interchanged <loc href="#terms-document-instance">document instance</loc>, then the specified media type is
<code>application/ttml+xml</code> in conformance with <bibref ref="ttpr"/>, &sect;2, <emph>Media Type Registration</emph>.</p>
</item>
<item>
<p>The <loc href="#terms-document-instance">document instance</loc> is or can be represented as a <loc href="#terms-reduced-xml-infoset">reduced xml infoset</loc>
as defined by <specref ref="reduced-infoset"/>.</p>
</item>
<item>
<p>The <loc href="#terms-reduced-xml-infoset">reduced xml infoset</loc> that
corresponds to the <loc href="#terms-document-instance">document instance</loc> is or can
be associated with one of the <loc href="#terms-abstract-document-type">abstract document types</loc> defined by
<specref ref="doctypes"/>.</p>
</item>
<item>
<p>The <loc href="#terms-reduced-xml-infoset">reduced xml infoset</loc> that corresponds to the <loc href="#terms-document-instance">document instance</loc> is a
<loc href="#terms-valid-abstract-document-instance">valid abstract document instance</loc> of the associated
<loc href="#terms-abstract-document-type">abstract document type</loc>.</p>
</item>
<item>
<p>The <loc href="#terms-reduced-xml-infoset">reduced xml infoset</loc> satisfies all additional mandatory syntactic and
semantic constraints defined by this specification. In addition, this infoset
should satisfy the web content accessibility guidelines specified by
<bibref ref="wcag"/>.</p>
</item>
</olist>
</div2> <!-- conformance-content -->
<div2 id="conformance-processor">
<head>Processor Conformance</head>
<p>This section specifies the conformance requirements for TTML2 processors in terms of
<loc href="#conformance-generic-processor">Generic Processor Conformance</loc>
and two types of specialized processor conformance,
<loc href="#conformance-transformation-processor">Transformation Processor Conformance</loc> and
<loc href="#conformance-presentation-processor">Presentation Processor Conformance</loc>.</p>
<note role="clarificatiion">
<p>The conformance requirements defined by this section are scoped to processors that operate on static
representations of a TTML <loc href="#terms-document-instance">document instance</loc>. In particular,
processors that modify a TTML <loc href="#terms-document-instance">document instance</loc>, such as an
authoring or editing tool, are not governed by this specification except to the extent that the final
result of performing a series of modifications to a TTML <loc href="#terms-document-instance">document instance</loc>
satisfies the formal validity of TTML Content as defined by <specref ref="conformance-content"/>.</p>
</note>
<div3 id="conformance-generic-processor">
<head>Generic Processor Conformance</head>
<p>A TTML2 <loc href="#terms-content-processor">content processor</loc> conforms to this specification if the following
generic processor criteria are
satisfied:</p>
<olist>
<item>
<p>The processor provides at least one mechanism for notionally
instantiating a <loc href="#terms-reduced-xml-infoset">reduced xml infoset</loc>
representation of a conformant <loc href="#terms-document-instance">document instance</loc>.</p>
</item>

<item><p>The processor performs <loc href="#terms-profile-processing">profile processing</loc>.</p>
<note role="clarification">
<p>The performance of <loc href="#terms-profile-processing">profile processing</loc> implies a certain degree of partial validation,
short of performing the <loc href="#semantics-procedure-validate-document"><phrase role="strong">[validate document]</phrase></loc> procedure
described in the next item below. In particular, the syntactic expression of profile related vocabulary and any essential syntactic or
semantic constraint that applies to the usage of this vocabulary are expected to be nominally verified by an implementation prior to making
use of this vocabulary. If <loc href="#terms-profile-processing">profile processing</loc> is completed without detecting a significant violation
of a syntactic or semantic constraint, then more complete validation may be performed by the
<loc href="#semantics-procedure-validate-document"><phrase role="strong">[validate document]</phrase></loc> procedure.</p>
</note>
</item>

<item>
<p>If a processor is a <loc href="#terms-validating-content-processor">validating content processor</loc>, then it</p>
<olist>
<item><p>provides at least one mechanism to implicitly or explicitly associate the
<loc href="#terms-reduced-xml-infoset">reduced xml infoset</loc> representation
of a candidate <loc href="#terms-document-instance">document instance</loc> with one of the
<emph>Abstract Document Types</emph> defined by <specref ref="doctypes"/>; and</p></item>
<item><p>performs the <loc href="#semantics-procedure-validate-document"><phrase role="strong">[validate document]</phrase></loc> procedure.</p></item>
</olist>
<note role="clarification">
<p>This specification does not define a strict order between the performance of <loc href="#terms-validation-processing">validation processing</loc>
and the performance of <loc href="#terms-profile-processing">profile processing</loc> described in the previous item above. In particular, these two
processing steps may be interleaved (or repeated) such that both are completed prior to performing further (transformation or presentation) processing
on a <loc href="#terms-document-instance">document instance</loc>.</p>
<p>Notwithstanding the above, there is an implied order relationship between <loc href="#terms-validation-processing">validation processing</loc>
and <loc href="#terms-profile-processing">profile processing</loc>; specifically, in order to perform
<loc href="#terms-validation-processing">validation processing</loc>, it is necessary to resolve the value of the
<loc href="#terms-effective-validation-profile">effective validation profile</loc>, for which value it is necessary to resolve the value of the
<loc href="#terms-effective-content-profile">effective content profile</loc>, or if that value is <code>null</code>, then resolve the value of the
<loc href="#terms-effective-processor-profile">effective processor profile</loc>, the latter two values of which are obtained during
<loc href="#terms-profile-processing">profile processing</loc>.</p>
</note>
<note role="example">
<p>For an example of interleaving <loc href="#terms-validation-processing">validation processing</loc> and
<loc href="#terms-profile-processing">profile processing</loc>, consider the following scenario (in the given order):</p>
<ulist>
<item><p>verify well-formedness of input document source (<emph>validation processing</emph>);</p></item>
<item><p>instantiate input document source as potentially valid abstract document instance (<emph>general processing</emph>);</p></item>
<item><p>initialize validation state using built-in application semantics (<emph>validation processing</emph>);</p></item>
<item><p>initialize profile state using built-in application semantics (<emph>profile processing</emph>);</p></item>
<item><p>validate validation related vocabulary (<emph>validation processing</emph>);</p></item>
<item><p>update validation state using valid validation related vocabulary (<emph>validation processing</emph>);</p></item>
<item><p>validate profile related vocabulary (<emph>validation processing</emph>);</p></item>
<item><p>update profile state using valid profile related vocabulary (<emph>profile processing</emph>);</p></item>
<item><p>perform abort steps of <loc href="#semantics-procedure-abort-if-unsupported-processor-profile"><phrase role="strong">[abort if
unsupported processor profile]</phrase></loc> procedure (<emph>profile processing</emph>);</p></item>
<item><p>validate entire document, re-validating validation and profile vocabulary as required based on new profile state (<emph>validation processing</emph>);</p></item>
<item><p>if processing not aborted, continue with transformation or presentation processing (general processing).</p></item>
</ulist>
</note>
</item>

<item>
<p>The processor does not <emph>a priori</emph> reject or abort the
processing of a conformant <loc href="#terms-document-instance">document instance</loc>
unless:</p>
<olist>
<item><p>the processor does not support some required
(mandatory) feature specified or implied by a TTML profile
declared to apply to the <loc href="#terms-document-instance">document instance</loc>; or</p></item>
<item><p>a <termref def="defs-validation-error">validation error</termref> occurs when performing the
<loc href="#semantics-procedure-validate-document"><phrase role="strong">[validate document]</phrase></loc> procedure.</p></item>
</olist>
</item>
<item>
<p>The processor supports all mandatory processing semantics defined by this specification.</p>
<note role="clarification">
<p>The phrase <emph>mandatory semantics</emph> refers to all explicit use of the conformance
key phrases <phrase role ="strong">must</phrase> and <phrase role="strong">must not</phrase> as well as any
declarative statement that can be reasonably inferred from such key phrases.</p>
</note>
<note role="clarification">
<p>Support for the <emph>mandatory semantics</emph> of a <loc href="#terms-feature">feature</loc> or
<loc href="#terms-extension">extension</loc> applies only when the <loc href="#terms-feature">feature</loc> or
<loc href="#terms-extension">extension</loc> is supported by a TTML <loc href="#terms-content-processor">content processor</loc>.</p>
</note>
</item>
<item>
<p>If the processor supports some optional processing semantics defined by this specification,
then it does so in a manner consistent with the defined semantics.</p>
<note role="clarification">
<p>The phrase <emph>optional semantics</emph> refers to all explicit use of the conformance
key phrases <phrase role ="strong">should</phrase>, <phrase role="strong">should not</phrase>,
<phrase role ="strong">may</phrase>, and <phrase role="strong">may not</phrase>,
as well as any declarative statement that can be reasonably inferred from such key phrases.</p>
</note>
</item>
</olist>
</div3> <!-- conformance-generic-processor -->
<div3 id="conformance-transformation-processor">
<head>Transformation Processor Conformance</head>
<p>A TTML <loc href="#terms-content-processor">content processor</loc> is a conformant TTML2 <loc href="#terms-transformation-processor">transformation processor</loc> if
the following criteria are satisfied:</p>
<olist>
<item>
<p>The processor satisfies all requirements specified by
<specref ref="conformance-generic-processor"/>.</p>
</item>
<item>
<p>The processor supports the TTML Transformation profile as specified
by <specref ref="profile-ttml2-transformation"/>.</p>
</item>
<item>
<p>The processor supports the DFXP Transformation profile as specified
by <specref ref="profile-dfxp-transformation"/>.</p>
</item>
</olist>
</div3> <!-- conformance-transformation-processor -->
<div3 id="conformance-presentation-processor">
<head>Presentation Processor Conformance</head>
<p>A TTML <loc href="#terms-content-processor">content processor</loc> is a conformant TTML2 <loc href="#terms-presentation-processor">presentation processor</loc> if
the following criteria are satisfied:</p>
<olist>
<item>
<p>The processor satisfies all requirements specified by
<specref ref="conformance-generic-processor"/>.</p>
</item>
<item>
<p>The processor supports the TTML Presentation profile as specified
by <specref ref="profile-ttml2-presentation"/>.</p>
</item>
<item>
<p>The processor supports the DFXP Presentation profile as specified
by <specref ref="profile-dfxp-presentation"/>.</p>
</item>
<item>
<p>The processor performs <specref ref="semantics-region-layout-step-1"/> and <specref ref="semantics-region-layout-step-2"/>.</p>
</item>
</olist>
<note role="elaboration">
<p>Two conforming presentation processors are not required to produce the same presentation when processing the same conforming document.
For example, different presentation processors may use different fonts, different font rasterizers, different line break algorithms,
as well as different implementations of behavior not prescribed by this specification.</p>
</note>
</div3> <!-- conformance-presentation-processor -->
</div2> <!-- conformance-processor -->
<div2 id="claims">
<head>Claims</head>
<p>Any claim of compliance with respect to the conformance of a TTML <loc href="#terms-document-instance">document instance</loc> or
<loc href="#terms-content-processor">content processor</loc> must make
reference to an implementation compliance statement (ICS).</p>
<p>An implementation compliance statement must identify all mandatory
and optional features of this specification that are satisfied by the
document instance or the content processor implementation. In particular, the statement must
identify the utilized or supported TTML vocabulary profile(s) as
defined by <specref ref="vocabulary-profiling"/>, and, if a subset or
superset profile is used or supported, then what features are excluded
or included in the subset or superset profile.</p>
<note role="clarification"><p>The definitions of
<loc href="#conformance-transformation-processor">Transformation Processor Conformance</loc> and
<loc href="#conformance-presentation-processor">Presentation Processor Conformance</loc> specified above require
that each of these types of processors support (at a minimum) two specific profiles, a type specific profile defined by <bibref ref="ttml1"/>
and a type specific profile defined by this specification.</p>
<p>Notwithstanding this requirement, it is possible to construct a
TTML <loc href="#terms-content-processor">content processor</loc>
that performs transformation or presentation processing functions and satisfies
<loc href="#conformance-transformation-processor">Generic Processor Conformance</loc> requirements but supports neither of
the profiles required by <loc href="#conformance-transformation-processor">Transformation Processor Conformance</loc> or
<loc href="#conformance-presentation-processor">Presentation Processor Conformance</loc>, and, instead,
supports only profile(s) defined outside the scope of this specification. In such a case, the processor may be claimed to be
compliant with <loc href="#conformance-transformation-processor">Generic Processor Conformance</loc>, and, further, be a
TTML <loc href="#terms-transformation-processor">transformation processor</loc> or a
TTML <loc href="#terms-presentation-processor">presentation processor</loc>,
but may not claim compliance with <loc href="#conformance-transformation-processor">Transformation Processor Conformance</loc> or
<loc href="#conformance-presentation-processor">Presentation Processor Conformance</loc>.</p></note>
<p>A <loc href="#terms-document-instance">document instance</loc> for which a compliance claim is made must be associated with</p>
<olist>
<item><p>a non-null <loc href="#terms-effective-content-profile">effective content profile</loc>
derived from an explicitly specified <loc href="#profile-attribute-contentProfiles"><att>ttp:contentProfiles</att></loc> attribute
or one or more <loc href="#terms-top-level-profile">top-level</loc> <loc href="#terms-content-profile">content profiles</loc>; or</p></item>
<item><p>a non-null <loc href="#terms-effective-processor-profile">effective processor profile</loc>
derived from an explicitly specified <loc href="#profile-attribute-processorProfiles"><att>ttp:processorProfiles</att></loc> or
<loc href="#profile-attribute-profile"><att>ttp:profile</att></loc> attribute
or one or more <loc href="#terms-top-level-profile">top-level</loc> <loc href="#terms-processor-profile">processor profiles</loc>.</p></item>
</olist>
</div2> <!-- claims -->
<div2 id="compatibility">
  <head>Compatibility</head>
<p><emph>This sub-section is non-normative.</emph></p>
  <div3 id="compatibility-forward">
    <head>Forward Compatibility</head>
    <p>A conforming TTML1 processor may be able to process a TTML2
    <loc href="#terms-timed-text-content-document-instance">content document instance</loc>, provided it ignores unknown vocabulary
    and ignores known vocabulary that appears in a context where it is not permitted in a conforming TTML1
    <loc href="#terms-timed-text-content-document-instance">content document instance</loc>;
    however, such processing may discard or fail to present content, or may present content differently than intended when processed
    by a conforming TTML2 processor.</p>
    <note role="example">
      <p>For example, if a TTML1 processor ignores the <att>tts:ruby</att> attribute defined in TTML2, then that processor
      may still present TTML2 content that uses ruby features, even though it would not be presented as intended. Similarly,
      if a TTML1 processor encounters a <el>style</el> element as a child of another <el>style</el> element, then the former
      nested style may be ignored (since this facility was not defined for TTML1).</p>
    </note>
  </div3>
  <div3 id="compatibility-backward">
    <head>Backward Compatibility</head>
    <p>TTML2 is designed such that:</p>
      <ulist>
        <item><p>A conforming TTML1 <loc href="#terms-timed-text-content-document-instance">content document instance</loc>
    is a conforming TTML2 <loc href="#terms-timed-text-content-document-instance">content document instance</loc>.</p></item>
        <item><p>A conforming TTML2 processor processes a conforming TTML1
    <loc href="#terms-timed-text-content-document-instance">content document instance</loc> such that the output produced by
    the TTML2 processor is within the variations allowed per TTML1; however, it may emit warnings if it encounters deprecated features.</p></item>
      </ulist>
  </div3>
</div2> <!-- compatibility -->
</div1> <!-- conformance -->
<div1 id="doctypes">
<head>Document Types</head>
<p>This section defines the following TTML <emph>Abstract Document Types</emph>:</p>
<ulist>
<item><p><specref ref="ttml-content-doctype"/></p></item>
<item><p><specref ref="ttml-intermediate-doctype"/></p></item>
<item><p><specref ref="ttml-profile-doctype"/></p></item>
</ulist>
<p>Each <loc href="#terms-abstract-document-type">abstract document type</loc> consists of the following constraints:</p>
<ulist>
<item><p>a non-empty collection of element types, where each element type consists of a name,
a (possibly empty) collection of attributes, and a content specification</p></item>
<item><p>a non-empty collection of element types that may appear as the document element</p></item>
</ulist>
<p>An <loc href="#terms-abstract-document-instance">abstract document instance</loc> may be assessed in terms of validity,
and is considered to be a <loc href="#terms-valid-abstract-document-instance">valid abstract document instance</loc> if it
satisfies the following condition: if after</p>
<olist>
<item>
<p>pruning all element information
items whose names are not members of the collection of element types defined
by the associated <loc href="#terms-abstract-document-type">abstract document type</loc>, then</p>
</item>
<item>
<p>pruning character
information item children from any remaining element in case that all
character children of the element denote XML whitespace characters and the element&apos;s type
is defined as empty in the associated <loc href="#terms-abstract-document-type">abstract document type</loc>, and then</p>
</item>
<item>
<p>pruning all attribute
information items having expanded names such that the namespace URIs of the
expanded names are not listed in <specref
ref="namespace-vocab-table"/>, or, if listed in <specref ref="namespace-vocab-table"/>, are not 
members of the collection of attributes defined by the associated <loc href="#terms-abstract-document-type">abstract document type</loc> for use 
with their owning element information items,</p>
</item>
</olist>
<p>then the document element is one of the document
element types permitted by the associated <loc href="#terms-abstract-document-type">abstract document type</loc>,
the descendants of the document
element satisfy their respective element type&apos;s content
specifications, all required attributes are present, and the declared
value of each attribute satisfies the type declared by the
associated <loc href="#terms-abstract-document-type">abstract document type</loc>.</p>
<note>
<p>While a conformant processor may not <emph>a priori</emph> reject a
conformant <loc href="#terms-document-instance">document instance</loc>, a given <loc href="#terms-document-instance">document instance</loc> may be
constrained by the author or authoring tool to satisfy a more
restrictive definition of validity.</p>
</note>
<note>
<p>As illustrated in the following example, an <loc href="#terms-abstract-document-instance">abstract document instance</loc> can be a 
<loc href="#terms-valid-abstract-document-instance">valid abstract document instance</loc> even if it includes elements and attributes whose 
namespace names are listed in <specref ref="namespace-vocab-table"/> but whose local names are not part of the vocabulary defined by this version 
of the specification. Specifically, the element <code>foo</code> and the attribute <att>tts:foo</att> are pruned by above steps (1) and (3), 
respectively, because they are not members of the associated <loc href="#terms-abstract-document-type">abstract document type</loc>, even though their 
namespace names are listed in <specref ref="namespace-vocab-table"/>.
</p>
<table id="document-types-example" role="example">
<caption>Example Fragment &ndash; Pruning of Elements and Attributes</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;tt xml:lang=&quot;en&quot; xmlns=&quot;http://www.w3.org/ns/ttml&quot;
  xmlns:tts=&quot;http://www.w3.org/ns/ttml#styling&quot;&gt;
  &lt;body&gt;
    &lt;foo&gt;Foo&lt;/foo&gt;
    &lt;div&gt;
      &lt;p tts:foo=&quot;bar&quot;&gt;Bar&lt;/p&gt;
    &lt;/div&gt;
  &lt;/body&gt;
&lt;/tt&gt;
</eg>
</td>
</tr>
</tbody>
</table>
</note>
<div2 id="ttml-content-doctype">
<head>TTML Content Document Type</head>
<p>The TTML Content Document Type is an <loc href="#terms-abstract-document-type">abstract document type</loc> of a profile
of the Timed Text Markup Language defined in terms of a collection of functional <loc href="#terms-module">modules</loc>.</p>
<p>This specification references two types of schemas that may be used to validate a superset/subset
of <loc href="#terms-timed-text-content-document-instance">timed text content document instances</loc>:</p>
<ulist>
<item><p><specref ref="ttml-schema-rnc"/></p></item>
<item><p><specref ref="ttml-schema-xsd"/></p></item>
</ulist>
<p>The (root) document element of a TTML Content <loc href="#terms-document-instance">document instance</loc> must be a
<el>tt</el> element, as defined by <specref
ref="document-structure-vocabulary-tt"/>.</p>
<note role="clarification">
<p>The schemas referenced by this specification do not validate all syntactic constraints
defined by this specification, and, as such, represent a superset of conformant
TTML Content. In particular, performing validation with one of the above
referenced schemas may result in a <emph>false positive</emph> indication of validity.
For example, both the RNC and XSD schemas specify
that a <att>tts:fontFamily</att> attribute must
satisfy the <code>xsd:string</code> XSD data type; however, this data type is a superset
of the values permitted to be used with the <att>tts:fontFamily</att> attribute.</p>
<p>In addition, the RNC schema may produce a <emph>false negative</emph>
indication of validity when using the <att>xml:id</att> attribute with an element in
a foreign namespace, thus representing a subset of conformant TTML Content. This is
due to a specific limitation in expressing wildcard patterns involving <code>xsd:ID</code>
typed attributes in Relax NG schemas. Note that this specification defines the
formal validity of a <loc href="#terms-document-instance">document instance</loc> to be based on an <loc href="#terms-abstract-document-instance">abstract document instance</loc> from
which all foreign namespace elements and attributes have been removed. Therefore, the
exceptional reporting of this false negative does not impact the formal assessment
of <loc href="#terms-document-instance">document instance</loc> validity.</p>
</note>
<note role="clarification">
<p>The schemas referenced by this specification are intended for use after the pruning steps (1)-(3) specified by <specref ref="doctypes"/> have been
 applied.</p>
</note>
<note role="clarification">
<p>A conforming <loc href="#conformance-generic-processor">Generic Processor</loc> is required to support the ingestion and processing
of a <loc href="#terms-timed-text-content-document">timed text content document</loc>.</p>
</note>
</div2> <!-- ttml-content-doctype -->
<div2 id="ttml-intermediate-doctype">
<head>TTML Intermediate Document Type</head>
<p>The TTML Intermediate Document Type is an <loc href="#terms-abstract-document-type">abstract document type</loc> intended
to be used to represent the content of a
<loc href="#terms-timed-text-content-document">timed text content document</loc>
in such a manner that timing information is denoted in a non-hierarchical (flat), temporally linear manner, and where
certain information, such as styling matter, may be resolved or merged in order to simplify subsequent processing.
This document type is defined in terms of a collection of functional <loc href="#terms-module">modules</loc>.</p>
<p>This specification references two types of schemas that may be used to validate
<loc href="#terms-timed-text-intermediate-document-instance">timed text intermediate document instances</loc>:</p>
<ulist>
<item><p><specref ref="ttml-schema-rnc"/></p></item>
<item><p><specref ref="ttml-schema-xsd"/></p></item>
</ulist>
<p>The (root) document element of a TTML Intermediate Synchronic <loc href="#terms-document-instance">document instance</loc> must be an
<el>isd:sequence</el> or <el>isd:isd</el> element, as defined by <specref ref="isd"/>.</p>
<note role="clarification">
<p>A conforming <loc href="#conformance-generic-processor">Generic Processor</loc> is not required to support the ingestion or processing
of a <loc href="#terms-timed-text-intermediate-document">timed text intermediate document</loc>.</p>
</note>
</div2> <!-- ttml-intermediate-doctype -->
<div2 id="ttml-profile-doctype">
<head>TTML Profile Document Type</head>
<p>The TTML Profile Document Type is an <loc href="#terms-abstract-document-type">abstract document type</loc> intended
to be used for defining and communicating constraints on the support or use of TTML features or extensions. This document type
is defined in terms of a collection of functional <loc href="#terms-module">modules</loc>.</p>
<p>This specification references two types of schemas that may be used to validate
<loc href="#terms-timed-text-profile-document-instance">timed text profile document instances</loc>:</p>
<ulist>
<item><p><specref ref="ttml-schema-rnc"/></p></item>
<item><p><specref ref="ttml-schema-xsd"/></p></item>
</ulist>
<p>The (root) document element of a TTML Profile <loc href="#terms-document-instance">document instance</loc> must be a
<el>ttp:profile</el> element, as defined by <specref ref="profile-vocabulary-profile"/>.</p>
<note role="clarification">
<p>A conforming <loc href="#conformance-generic-processor">Generic Processor</loc> is recommended, but not required to support the ingestion or processing
of a <loc href="#terms-timed-text-profile-document">timed text profile document</loc>. However, a <loc href="#terms-content-processor">content processor</loc>
that claims to support the <code>http://www.w3.org/ns/ttml/feature/#profile</code> feature is required to support this (ingestion and processing of
a <loc href="#terms-timed-text-profile-document">timed text profile document</loc>).</p>
</note>
</div2> <!-- ttml-profile-doctype -->
</div1> <!-- doctypes -->
<div1 id="vocabulary">
<head>Vocabulary</head>
<p>This section defines the
namespaces, profiles, and vocabulary (as an element and attribute
catalog) of the Timed Text Markup Language (TTML) as follows:</p>
<ulist>
<item><p><specref ref="vocabulary-namespaces"/></p></item>
<item><p><specref ref="vocabulary-profiling"/></p></item>
<item><p><specref ref="vocabulary-overview"/></p></item>
</ulist>
<div2 id="vocabulary-namespaces">
<head>Namespaces</head>
<p>The Timed Text Markup Language (TTML) employs a number of
XML Namespaces <bibref ref="xmlns10"/> for elements and certain
global attributes, collectively referred to as the
<termdef id="defs-ttml-namespaces" term="TTML Namespaces"><term>TTML Namespaces</term></termdef>,
and defined in <specref ref="namespace-vocab-table"/>, where each namespace is assigned a descriptive name,
a default namespace prefix, and a URI.
All namespaces not defined in <specref ref="namespace-vocab-table"/> are referred to as
<termdef id="defs-other-namespaces" term="Other Namespaces"><term>Other Namespaces</term></termdef>.</p>
<table id="namespace-vocab-table" role="common">
<caption>Table 5-1 &ndash; Namespaces</caption>
<col css="width: 40%;"/>
<col/>
<col/>
<tbody>
<tr>
<th>Name</th>
<th>Prefix</th>
<th>Value</th>
</tr>
<tr>
<td>TT</td>
<td><code>tt</code></td>
<td><code>http://www.w3.org/ns/ttml</code></td>
</tr>
<tr>
<td>TT Parameter</td>
<td><code>ttp</code></td>
<td><code>http://www.w3.org/ns/ttml#parameter</code></td>
</tr>
<tr>
<td>TT Style</td>
<td><code>tts</code></td>
<td><code>http://www.w3.org/ns/ttml#styling</code></td>
</tr>
<tr>
<td>TT Audio Style</td>
<td><code>tta</code></td>
<td><code>http://www.w3.org/ns/ttml#audio</code></td>
</tr>
<tr>
<td>TT Metadata</td>
<td><code>ttm</code></td>
<td><code>http://www.w3.org/ns/ttml#metadata</code></td>
</tr>
<tr>
<td>TT Intermediate Synchronic Document</td>
<td><code>isd</code></td>
<td><code>http://www.w3.org/ns/ttml#isd</code></td>
</tr>
<tr>
<td>TT Profile</td>
<td><emph>none</emph></td>
<td><code>http://www.w3.org/ns/ttml/profile/</code></td>
</tr>
<tr>
<td>TT Feature</td>
<td><emph>none</emph></td>
<td><code>http://www.w3.org/ns/ttml/feature/</code></td>
</tr>
<tr>
<td>TT Extension</td>
<td><emph>none</emph></td>
<td><code>http://www.w3.org/ns/ttml/extension/</code></td>
</tr>
<tr>
<td>TT Resource</td>
<td><emph>none</emph></td>
<td><code>http://www.w3.org/ns/ttml/resource/</code></td>
</tr>
</tbody>
</table>
<p>All <termref def="defs-ttml-namespaces">TTML Namespaces</termref> are <loc
href="https://www.w3.org/2001/tag/doc/namespaceState#namespacedef"><emph>mutable</emph></loc>
<bibref ref="nsstate"/>; all undefined names in these namespaces are reserved for future
standardization by the W3C.</p>
<p>The TT Style Namespace (<code>http://www.w3.org/ns/ttml#styling</code>) and
the TT Audio Style Namespace (<code>http://www.w3.org/ns/ttml#audio</code>) are collectively referred to as
the <termdef id="defs-tt-style-namespaces" term="TT Style Namespaces"><term>TT Style Namespaces</term></termdef>.
In particular, if this latter collection is referred to by specification text,
then it means that the vocabulary item in question is in either the TT Style Namespace or the TT Audio Style Namespace.</p>
<note role="explanation">
<p>In a specific <loc href="#terms-document-instance">document instance</loc>, it is not required that the default
prefixes shown above be used. Any prefix or namespace binding that satisfies the constraints
of XML Namespaces <bibref ref="xmlns10"/>  may be used that is associated with the specified namespace URI.</p>
</note>
<note role="clarification">
<p>If a reference to an element type is used in this specification and the name
of the element type is not namespace qualified, then the TT Namespace applies.</p>
<p>If a reference to an attribute is used in this specification and the name
of the attribute is not namespace qualified, then the attribute is implicitly qualified by
the element type with which it is used. That is, the attribute resides in the so-called
<loc href="https://www.w3.org/TR/1999/REC-xml-names-19990114/#ns-breakdown"><emph>per-element-type namespace partition</emph></loc>
<bibref ref="nsoriginal"/>, the members of which are interpreted in accordance with the definition of the element type on which they appear.</p>
<p>For certain namespaces defined above, the default prefix
is specified as <emph>none</emph> if no XML vocabulary is defined in
the namespace by this specification (nor expected to be defined in a
future version of this specification). In such cases, the use of the
namespace URI is for purposes other than defining XML vocabulary,
e.g., for designating profiles, features, extensions and for
dereferencing standard profile definitions.</p>
</note>
</div2> <!-- vocabulary-namespaces -->
<div2 id="vocabulary-profiling">
<head>Profiling</head>
<p>This section describes the TTML profiling sub-system and high level requirements that apply to this sub-system. At the end of this section
appears a sub-section containing examples of profile specifications and examples of how these specifications are referenced and used.</p>
<div3 id="vocabulary-profile-introduction">
<head>Introduction</head>
<p><emph>This sub-section is non-normative.</emph></p>
<p>A given profile may be used by a Timed Text Markup Language content author for one of two functions: (1) to declare that a
<loc href="#terms-document-instance">document instance</loc> adheres to a collection of constraints on what
vocabulary is used and how it is used, or (2) to declare that a <loc href="#terms-processor">processor</loc> must satisfy certain conditions on how
content is processed. The first of these functions is termed a <loc href="#terms-content-profile">content profile</loc>, while
the second is termed a <loc href="#terms-processor-profile">processor profile</loc>.</p>
<p>A <loc href="#terms-content-profile">content profile</loc> is used to allow an author to declare, at authoring time,
what constraints the author intends to apply to a <loc href="#terms-document-instance">document instance</loc>. Such a
declaration permits downstream processors to perform content validation or verification, as well as to guide or limit subsequent
transformation or editing of content in order to maintain adherence to an author specified content profile. In addition, a
downstream processor may use a content profile declaration to perform an early determination of its ability to process the features
implied by the content profile.</p>
<p>Content profiles are declared by using (1) the <loc href="#profile-attribute-contentProfiles"><att>ttp:contentProfiles</att></loc>
attribute on the root <el>tt</el> element or (2) one or more top-level <loc href="#profile-vocabulary-profile"><el>ttp:profile</el></loc>
elements of type <code>content</code>. If not declared, no content profile is implied.</p>
<note role="elaboration">
<p>When content profiles are declared using the <loc href="#profile-attribute-contentProfiles"><att>ttp:contentProfiles</att></loc> attribute,
one or more specified profile designators may refer to top-level <loc href="#profile-vocabulary-profile"><el>ttp:profile</el></loc> elements, and,
as such, can combine the function of the two above mentioned profile declaration mechanisms. For futher details, see the
<loc href="#semantics-procedure-construct-effective-content-profile"><phrase role="strong">construct effective content profile</phrase></loc> procedure.</p>
</note>
<p>A <loc href="#terms-processor-profile">processor profile</loc> is used to allow an author to declare, at authoring time,
what processing must be supported when processing a <loc href="#terms-document-instance">document instance</loc>, such that, if a
processor is not able to perform the indicated processing, then processing should be aborted. Such a declaration permits downstream
processors to avoid processing content that cannot be processed in a manner that meets the requirements of the content author.</p>
<p>Processor profiles are declared by using (1) the <loc href="#profile-attribute-processorProfiles"><att>ttp:processorProfiles</att></loc>
attribute on the root <el>tt</el> element, (2) one or more <loc href="#profile-vocabulary-profile"><el>ttp:profile</el></loc>
elements of type <code>processor</code>, or (3) the <loc href="#profile-attribute-profile"><att>ttp:profile</att></loc> attribute
on the root <el>tt</el> element. If not declared, a processor profile is inferred from a declared content profile or from a
<loc href="#terms-default-processor-profile">default processor profile</loc>.</p>
<note role="elaboration">
<p>When processor profiles are declared using the <loc href="#profile-attribute-processorProfiles"><att>ttp:processorProfiles</att></loc> attribute,
one or more specified profile designators may refer to top-level <loc href="#profile-vocabulary-profile"><el>ttp:profile</el></loc> elements, and,
as such, can combine the function of the first two of the above mentioned profile declaration mechanisms. For futher details, see the
<loc href="#semantics-procedure-construct-effective-processor-profile"><phrase role="strong">construct effective processor profile</phrase></loc>
procedure.</p>
</note>
<note role="elaboration">
<p>It is not a requirement on a conformant <loc href="#terms-document-instance">document instance</loc> that a processor profile be
declared in the document. More specifically, it is permitted that the <loc href="#terms-effective-processor-profile">effective processor profile</loc>
be determined by means of a number of fallback mechanisms, including (1) inferring a processor profile from a content profile,
(2) implying a processor profile from a default processor profile, and (3) allowing the <loc href="#terms-document-processing-context">document
processing context</loc> to override the determination, for example, by using the <loc href="#terms-document-interchange-context">document
interchange context</loc> to determine an <loc href="#terms-override-processor-profile">override processor profile</loc>.</p>
</note>
<note role="elaboration">
<p>It is intended that the
<loc href="#profile-attribute-processorProfiles"><att>ttp:processorProfiles</att></loc> or
<loc href="#profile-attribute-profile"><att>ttp:profile</att></loc> attribute be used when
the author wishes to reference one (or more) of the standard, predefined processor profiles of
TTML Content, and does not wish to modify (by supersetting or subsetting)
that profile. These attributes may also be used by an author to indicate the use
of a non-standard profile, in which case the specified <loc href="#content-value-profile-designator">&lt;profile-designator&gt;</loc> expresses
a URI that denotes an externally defined <loc href="#terms-profile-definition-document">profile definition document</loc>.
However, it is not required that a conformant TTML <loc href="#terms-content-processor">content processor</loc> be able
to dereference such an externally specified profile definition.</p>
<p>In contrast, it is intended that the <loc href="#profile-vocabulary-profile"><el>ttp:profile</el></loc> element be
used when the author wishes to make use of a modified predefined profile or
wishes to include in the <loc href="#terms-document-instance">document instance</loc> a non-standard profile definition
not based upon one of the predefined profiles.</p>
<p>A predefined profile is supersetted by specifying some feature or extension to
be <code>required</code> (mandatory) that was either not specified in the underlying, baseline
profile or was specified as <code>optional</code> (voluntary) in the baseline profile.
A predefined profile is subsetted by specifying some feature or extension to
be <code>optional</code> (voluntary) that was specified as <code>required</code> (mandatory)
in the underlying, baseline profile.</p>
<p>When a baseline profile is modified by subsetting, the resulting, derived profile
is referred to as a <emph>subtractive</emph> profile; when modified by supersetting, the result
is referred to as an <emph>additive</emph> profile.
It is also possible to define a derived profile that is simultaneously subtractive
and additive.</p>
</note>
<p>A content author is not limited to using a single profile, but may make reference to multiple profiles of either type, i.e.,
multiple content profiles and (or) multiple processor profiles. When multiple profiles are referenced, their respective specifications
are combined to form a single effective content profile that applies to the document and a single effective processor profile
that applies to a processor when processing the document. In addition, an author is not limited to making reference to externally
defined profiles, but may define one or more profiles inline within a document.</p>
<note role="clarification">
<p>Profile combination is itself an optional <loc href="#terms-feature">feature</loc> which is determined according to whether
a <loc href="#terms-processor">processor</loc> supports the <specref ref="feature-contentProfiles-combined"/> or the
<specref ref="feature-processorProfiles-combined"/> feature.</p>
</note>
<note role="elaboration">
<p>Notwithstanding an author&apos;s declaration of their intention to use specific content or processor profiles, a <loc href="#terms-processor">processor</loc>
is allowed to override the author&apos;s declaration of content and (or) processor profiles. This is expected to be typical behavior
for <loc href="#terms-processor">processors</loc> that support only a single profile or a limited set of profiles, particularly when
the <loc href="#terms-processor">processor</loc> is not able to dereference (download) and process a
<loc href="#terms-profile-definition-document">profile definition document</loc> and does not support
<loc href="#terms-top-level-profile">top-level profiles</loc>.</p>
</note>
</div3>
<div3 id="semantics-profile-examples">
<head>Profile Examples</head>
<p><emph>This sub-section is non-normative.</emph></p>
<p>An example of an author defined
additive, derived profile of the TTML Presentation
profile is shown
below in <specref ref="ttml-example-sub-profile"/>.</p>
<table id="ttml-example-sub-profile" role="example">
<caption>Example Fragment &ndash; TTML Additive Profile</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;tt xml:lang="" xmlns="http://www.w3.org/ns/ttml"&gt;
 &lt;head&gt;
   &lt;profile use="ttml2-presentation" xmlns="http://www.w3.org/ns/ttml#parameter"&gt;
     &lt;features xml:base="http://www.w3.org/ns/ttml/feature/"&gt;
       &lt;feature value="required"&gt;#fontStyle-italic&lt;/feature&gt;
     &lt;/features&gt;
   &lt;/profile&gt;
 &lt;/head&gt;
 &lt;body/&gt;
&lt;/tt&gt;
</eg>
</td></tr>
</tbody>
</table>
<note role="explanation">
<p>In the above example, the baseline profile is declared to be
the TTML2 Presentation profile, which is then additively modified by making the
<code>#fontStyle-italic</code> feature required (rather than
optional as it is defined
in <specref ref="profile-ttml2-presentation"/>). Note also the resetting of the
default XMLNS binding on the <el>profile</el> element to the TT Parameter Namespace.</p>
</note>
</div3>
<div3 id="vocabulary-profile-designators">
<head>Profile Designators</head>
<p>A profile is referenced in one of two ways according to whether the profile is defined externally to the referring document or
is defined internally (inline) within the referring document. When defined externally, a profile is referenced by means of an
<loc href="#content-value-absolute-profile-designator">&lt;absolute-profile-designator&gt;</loc> or
<loc href="#content-value-relative-profile-designator">&lt;relative-profile-designator&gt;</loc> expression.
When defined internally (inline), a profile is referenced either implicitly
or by means of a <loc href="#content-value-fragment-profile-designator">&lt;fragment-profile-designator&gt;</loc> expression.</p>
<p>A profile designator must adhere to the <loc href="#content-value-uri">&lt;uri&gt;</loc> value syntax.
If the profile designator is expressed as a relative URI,
then it must be <termref def="defs-absolutize">absolutized</termref> by using the TT Profile Namespace value as
the base URI, and where the term <termdef id="defs-absolutize" term=""><term>absolutize</term></termdef> means
resolving a relative URL to an absolute URL as described by <bibref ref="uri"/>, &sect;5.</p>
<p>All profile designators which have the TT Profile Namespace as a prefix but are otherwise not listed in <specref ref="profile-vocab-table"/>
or in <bibref ref="ttpr"/>, &sect;4, <emph>Registry</emph>, are reserved for future standardization, and must not appear in a conformant
<loc href="#terms-document-instance">document instance</loc>. Nothwithstanding this constraint, a profile designator is not restricted to the set of designators enumerated
in <specref ref="profile-vocab-table"/>, but may be any URI that feasibly dereferences a TTML <loc href="#terms-profile-definition-document">profile definition document</loc>
provided it does not use the TT Profile Namespace as a prefix.</p>
<div4 id="vocabulary-profile-standard-designators">
<head>Standard Designators</head>
<p>The Timed Text Markup Language (TTML) employs a number of
standard, predefined profiles of its
vocabulary and associated semantics.</p>
<p>The following table specifies this set of
profiles, indicating
a normative name
and designator for each
predefined profile,
and where each of these profiles is formally elaborated in
<specref ref="standard-profiles"/>.</p>
<table id="profile-vocab-table" role="common">
<caption>Table 5-2 &ndash; Profiles</caption>
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<th>Name</th>
<th>Absolute Designator</th>
</tr>
<tr>
<td>DFXP Full</td>
<td><code>http://www.w3.org/ns/ttml/profile/dfxp-full</code></td>
</tr>
<tr>
<td>DFXP Presentation</td>
<td><code>http://www.w3.org/ns/ttml/profile/dfxp-presentation</code></td>
</tr>
<tr>
<td>DFXP Transformation</td>
<td><code>http://www.w3.org/ns/ttml/profile/dfxp-transformation</code></td>
</tr>
<tr>
<td>TTML2 Full</td>
<td><code>http://www.w3.org/ns/ttml/profile/ttml2-full</code></td>
</tr>
<tr>
<td>TTML2 Presentation</td>
<td><code>http://www.w3.org/ns/ttml/profile/ttml2-presentation</code></td>
</tr>
<tr>
<td>TTML2 Transformation</td>
<td><code>http://www.w3.org/ns/ttml/profile/ttml2-transformation</code></td>
</tr>
</tbody>
</table>
<note role="seealso">
<p>For definitions of the DFXP profiles, see <bibref ref="ttml1"/>.
For additional profile designators, see <bibref ref="ttpr"/>, &sect;4, <emph>Registry</emph>.</p>
</note>
</div4>
</div3>
<div3 id="semantics-profile-semantics">
<head>Profile Semantics</head>
<div4 id="semantics-profile-state">
<head>Profile State Object Concepts</head>
<p>This section defines a number of conceptual state objects used by subsequently defined algorithms (procedures and functions). It is not required that an
implementation create such objects in the form specified here, but may use any convenient, internal representation that represents equivalent information.</p>
<glist>
<gitem id="semantics-profile-state-profile-specification">
<label>[profile specification]</label>
<def>
<p></p>
<p>A <loc href="#semantics-profile-state-profile-specification">profile specification</loc>
represents the following internal state information that corresponds with
a <loc href="#profile-vocabulary-feature"><el>ttp:feature</el></loc> or <loc href="#profile-vocabulary-extension"><el>ttp:extension</el></loc>
element.</p>
<glist>
<gitem id="semantics-profile-state-profile-specification-designator">
<label>designator</label>
<def>
<p>A <loc href="#content-value-uri">&lt;uri&gt;</loc> value denoting a feature or extension designator depending upon the <emph><code>type</code></emph>.</p>
</def>
</gitem>
<gitem id="semantics-profile-state-profile-specification-type">
<label>type</label>
<def>
<p><code>"feature" | "extension"</code></p>
</def>
</gitem>
<gitem id="semantics-profile-state-profile-specification-value">
<label>value</label>
<def>
<p><code>"optional" | "required" | "prohibited"</code></p>
</def>
</gitem>
</glist>
</def>
</gitem>
<gitem id="semantics-profile-state-combined-profile-specification-set">
<label>[combined profile specification set]</label>
<def>
<p></p>
<p>A <loc href="#semantics-profile-state-combined-profile-specification-set">combined profile specification set</loc>
represents the following internal state information
that corresponds with a set of <loc href="#semantics-profile-state-profile-specification">profile specifications</loc>,
additionally recording the constituent
profiles from which these specifications were obtained (or derived).</p>
<glist>
<gitem id="semantics-profile-state-combined-profile-specification-set-constituents">
<label>constituents</label>
<def>
<p>An ordered list of <loc href="#content-value-absolute-profile-designator">&lt;absolute-profile-designator&gt;</loc> expressions,
where each designator denotes a constituent profile, i.e., a profile from which this combined profile specification set is composed.</p>
</def>
</gitem>
<gitem id="semantics-profile-state-combined-profile-specification-set-specifications">
<label>specifications</label>
<def>
<p>An ordered list of <loc href="#semantics-profile-state-profile-specification">profile specifications</loc>.</p>
</def>
</gitem>
</glist>
</def>
</gitem>
<gitem id="semantics-profile-state-empty-profile-specification-set">
<label>[empty profile specification set]</label>
<def>
<p></p>
<p>A <loc href="#semantics-profile-state-combined-profile-specification-set">combined profile specification set</loc> which 
<loc href="#semantics-profile-state-combined-profile-specification-set-constituents">constituents</loc> and
<loc href="#semantics-profile-state-combined-profile-specification-set-specifications">specifications</loc> <loc href="#terms-component">components</loc> are empty sets</p>
</def>
</gitem>
<gitem id="semantics-profile-state-profile-instance">
<label>[profile instance]</label>
<def>
<p></p>
<p>A <loc href="#semantics-profile-state-profile-instance">profile instance</loc> represents the following internal state
information that corresponds with a <loc href="#profile-vocabulary-profile"><el>ttp:profile</el></loc> element, whether specified explicitly or implied.</p>
<glist>
<gitem id="semantics-profile-state-profile-designator">
<label>designator</label>
<def>
<p>An <loc href="#content-value-absolute-profile-designator">&lt;absolute-profile-designator&gt;</loc> expression
that is associated with (and uniquely labels) this profile.</p>
</def>
</gitem>
<gitem id="semantics-profile-state-profile-type">
<label>type</label>
<def>
<p><code>"content" | "processor"</code></p>
</def>
</gitem>
<gitem id="semantics-profile-state-profile-combine">
<label>combine</label>
<def>
<p><code>"leastRestrictive" | "mostRestrictive" | "replace"</code></p>
</def>
</gitem>
<gitem id="semantics-profile-state-profile-use">
<label>use</label>
<def>
<p>Either <code>null</code> or a <loc href="#content-value-profile-designator">&lt;profile-designator&gt;</loc> expression
denoting a profile that serves as the baseline profile for this profile.</p>
</def>
</gitem>
<gitem id="semantics-profile-state-profile-constituents">
<label>constituents</label>
<def>
<p>If profile is a <loc href="#terms-nesting-profile">nesting profile</loc>, then an ordered list of
<loc href="#content-value-fragment-profile-designator">&lt;fragment-profile-designator&gt;</loc> expressions, where each designator denotes a
constituent <loc href="#terms-nested-profile">nested profile</loc>; otherwise, <code>null</code>.</p>
<note role="explanation">
<p>If a <loc href="#terms-nested-profile">nested profile</loc> specifies
an <loc href="#content-attribute-xml-id"><att>xml:id</att></loc> attribute, then that identifer may be used in
the <loc href="#semantics-profile-state-profile-constituents">constituents</loc>
<loc href="#terms-component">component</loc>; otherwise, the <loc href="#terms-processor">processor</loc> implementation is expected to
use an internally synthesized identifier.</p>
</note>
</def>
</gitem>
<gitem id="semantics-profile-state-profile-specifications">
<label>specifications</label>
<def>
<p>If profile is a <loc href="#terms-non-nesting-profile">non-nesting profile</loc>, then an ordered list of
<loc href="#semantics-profile-state-profile-specification">profile specifications</loc>; otherwise, <code>null</code>.</p>
</def>
</gitem>
<gitem id="semantics-profile-state-profile-combined-specification-set">
<label>combined specification set</label>
<def>
<p>A <loc href="#semantics-profile-state-combined-profile-specification-set">combined profile specification set</loc> that
represents the results of combining the specifications specified or referenced by this profile.</p>
</def>
</gitem>
</glist>
<note role="clarification">
<p>When this specification refers to the <loc href="#semantics-profile-state-profile-combined-specification-set">combined specification set</loc>
of a <loc href="#terms-profile">profile</loc>, it is referring to the <loc href="#semantics-profile-state-combined-profile-specification-set">combined
profile specification set</loc> state object referenced by the <loc href="#semantics-profile-state-profile-combined-specification-set">combined
specification set</loc> <loc href="#terms-component">component</loc> of the <loc href="#semantics-profile-state-profile-instance">profile instance</loc> associated with the
<loc href="#terms-profile">profile</loc>.</p>
</note>
</def>
</gitem>
</glist>
</div4>
<div4 id="semantics-content-profile-processing">
<head>Content Profile Semantics</head>
<glist>
<gitem id="semantics-procedure-construct-effective-content-profile">
<label>[construct effective content profile]</label>
<def>
<p></p>
<p>Every TTML <loc href="#terms-document-instance">document instance</loc> is associated with a (possibly null)
<loc href="#terms-effective-content-profile">effective content profile</loc> which may be used by
a <loc href="#terms-content-processor">content processor</loc> to perform any (or all) of the following:</p>
<olist>
<item>
<p>infer an effective processor profile;</p>
</item>
<item>
<p>perform <loc href="#terms-validation-processing">validation processing</loc> on the <loc href="#terms-document-instance">document instance</loc>;</p>
</item>
<item>
<p>constrain transformation processing on the <loc href="#terms-document-instance">document instance</loc>
in order to maintain content profile invariants.</p>
</item>
</olist>
<p>The <loc href="#terms-effective-content-profile">effective content profile</loc> is constructed according to the
following procedure:</p>
<olist>
<item>
<p>if the <loc href="#terms-document-processing-context">document processing context</loc> determines that a specific
<loc href="#terms-override-content-profile">override content profile</loc> <emph>P<sub>O</sub></emph> is to override all other determinations, then the
<loc href="#terms-effective-content-profile">effective content profile</loc> is <emph>P<sub>O</sub></emph>;</p>
<note role="example"><p>For example, an <bibref ref="ebuttd"/> document that complies with this specification
may specify an <code>ebuttm:conformsToStandard</code> element to signal compliance with the <bibref ref="ebuttd"/> content profile.
In such a case, a <loc href="#terms-content-processor">content processor</loc> that supports that profile may use the presence of
that element as an override to determine the <loc href="#terms-effective-content-profile">effective content profile</loc>.</p></note>
</item>
<item>
<p>otherwise, if a <att>ttp:contentProfiles</att> attribute is specified on the root <el>tt</el> element, then the
<loc href="#terms-effective-content-profile">effective content profile</loc> is a <loc href="#semantics-profile-state-profile-instance">profile instance</loc> for which its <loc href="#semantics-profile-state-profile-combined-specification-set">combined specification set</loc>
is constructed by combining the <loc href="#semantics-profile-state-profile-combined-specification-set">combined specification sets</loc> of the designated profiles, where the
content profile combination method specified by (or the default value of) the <att>ttp:contentProfileCombination</att>
attribute on the root <el>tt</el> element applies;</p>
</item>
<item>
<p>otherwise, if one or more <loc href="#terms-top-level-profile">top-level</loc> <loc href="#terms-content-profile">content profiles</loc>
are defined, then the
<loc href="#terms-effective-content-profile">effective content profile</loc> is a <loc href="#semantics-profile-state-profile-instance">profile instance</loc> for which its <loc href="#semantics-profile-state-profile-combined-specification-set">combined specification set</loc> is
constructed by combining the <loc href="#semantics-profile-state-profile-combined-specification-set">combined specification sets</loc> of all such
<loc href="#terms-top-level-profile">top-level</loc> <loc href="#terms-content-profile">content profiles</loc>, where the
content profile combination method specified by (or the default value of) the <att>ttp:contentProfileCombination</att>
attribute on the root <el>tt</el> element applies;
</p>
</item>
<item>
<p>otherwise, the <loc href="#terms-effective-content-profile">effective content profile</loc> is <code>null</code>.</p>
</item>
</olist>
<p>For the purpose of complying with <loc href="#conformance-generic-processor">Generic Processor Conformance</loc>,
when processing a given <loc href="#terms-document-instance">document instance</loc>,
the <loc href="#terms-effective-content-profile">effective content profile</loc>, once set to a non-null reference to a
<loc href="#semantics-profile-state-profile-instance">profile instance</loc>,
remains a constant reference to a constant <loc href="#semantics-profile-state-profile-instance">profile instance</loc>
for the duration of that processing. Likewise, if set to a <code>null</code> reference, it remains a constant <code>null</code> reference for the
duration of that processing.</p>
</def>
</gitem>
</glist>
</div4>
<div4 id="semantics-processor-profile-processing">
<head>Processor Profile Semantics</head>
<glist>
<gitem id="semantics-procedure-abort-if-unsupported-processor-profile">
<label>[abort if unsupported processor profile]</label>
<def>
<olist>
<item>
<p>set <emph>EPP</emph> to the <loc href="#terms-effective-processor-profile">effective processor profile</loc> obtained by performing the
<loc href="#semantics-procedure-construct-effective-processor-profile"><phrase role="strong">construct effective processor profile</phrase></loc> procedure;</p>
</item>
<item>
<p>for each <loc href="#semantics-profile-state-profile-specification">profile specification</loc> <emph>S</emph> in the <loc href="#semantics-profile-state-profile-combined-specification-set">combined specification set</loc> of <emph>EPP</emph>, perform the following steps:</p>
<olist>
<item>
<p>if the <loc href="#semantics-profile-state-profile-specification-value">value</loc> <loc href="#terms-component">component</loc> of <emph>S</emph> is <code>required</code>, and the <loc href="#terms-content-processor">content processor</loc>
does not support <emph>S</emph>, then abort processing of the <loc href="#terms-document-instance">document instance</loc> unless overridden
by the end-user or some implementation specific parameter traceable to an end-user or to a user or system configuration setting;</p>
</item>
</olist>
</item>
</olist>
</def>
</gitem>
<gitem id="semantics-procedure-construct-effective-processor-profile">
<label>[construct effective processor profile]</label>
<def>
<p></p>
<p>Every TTML <loc href="#terms-document-instance">document instance</loc> is associated with a (non-null)
<loc href="#terms-effective-processor-profile">effective processor profile</loc> which is used by
a <loc href="#terms-content-processor">content processor</loc> to determine whether it meets the
minimum processing requirements signaled by the content author.</p>
<p>The <loc href="#terms-effective-processor-profile">effective processor profile</loc> is constructed according to the
following procedure:</p>
<olist>
<item>
<p>if the <loc href="#terms-document-processing-context">document processing context</loc> determines that a specific
<loc href="#terms-override-processor-profile">override processor profile</loc> <emph>P<sub>O</sub></emph> is to override all other determinations, then the
<loc href="#terms-effective-processor-profile">effective processor profile</loc> is <emph>P<sub>O</sub></emph>;</p>
</item>
<item>
<p>otherwise, if a <att>ttp:processorProfiles</att> attribute is specified on the root <el>tt</el> element, then</p>
<olist>
<item>
<p>if the <att>ttp:processorProfiles</att> attribute is specified using the <code>all(...)</code> function syntax or
using no function syntax, i.e., as only a list of designators, then the
<loc href="#terms-effective-processor-profile">effective processor profile</loc> is a <loc href="#semantics-profile-state-profile-instance">profile instance</loc> for which its <loc href="#semantics-profile-state-profile-combined-specification-set">combined specification set</loc>
is constructed by combining the <loc href="#semantics-profile-state-profile-combined-specification-set">combined specification sets</loc> of the designated profiles, where the
content profile combination method specified by (or the default value of) the <att>ttp:processorProfileCombination</att>
attribute on the root <el>tt</el> element applies;</p>
</item>
<item>
<p>otherwise, if the <att>ttp:processorProfiles</att> attribute is specified using the <code>any(...)</code> function syntax,
then, for each designated profile, the 
<loc href="#terms-effective-processor-profile">effective processor profile</loc> is a <loc href="#semantics-profile-state-profile-instance">profile instance</loc> for which its <loc href="#semantics-profile-state-profile-combined-specification-set">combined specification set</loc>
is a copy of the <loc href="#semantics-profile-state-profile-combined-specification-set">combined specification set</loc> of the first profile in the list of designated profiles that is supported by the
<loc href="#terms-content-processor">content processor</loc>;</p>
</item>
</olist>
</item>
<item>
<p>otherwise, if one or more <loc href="#terms-top-level-profile">top-level</loc> <loc href="#terms-processor-profile">processor profiles</loc>
are defined, then the
<loc href="#terms-effective-processor-profile">effective processor profile</loc> is a <loc href="#semantics-profile-state-profile-instance">profile instance</loc> for which its <loc href="#semantics-profile-state-profile-combined-specification-set">combined specification set</loc>
is constructed by combining the <loc href="#semantics-profile-state-profile-combined-specification-set">combined specification sets</loc> of all such
<loc href="#terms-top-level-profile">top-level</loc> <loc href="#terms-processor-profile">processor profiles</loc>, where the
processor profile combination method specified by (or the default value of) the <att>ttp:processorProfileCombination</att>
attribute on the root <el>tt</el> element applies;
</p>
</item>
<item>
<p>otherwise, if a <att>ttp:profile</att> attribute is specified on the root <el>tt</el> element, then the
<loc href="#terms-effective-processor-profile">effective processor profile</loc> is a <loc href="#semantics-profile-state-profile-instance">profile instance</loc> for which its <loc href="#semantics-profile-state-profile-combined-specification-set">combined specification set</loc> is a copy of the <loc href="#semantics-profile-state-profile-combined-specification-set">combined specification set</loc>
of the profile designated by this attribute;
</p>
</item>
<item>
<p>otherwise, the <loc href="#terms-effective-processor-profile">effective processor profile</loc> is the
result of performing the <loc href="#semantics-procedure-construct-inferred-processor-profile"><phrase role="strong">construct inferred processor profile</phrase></loc>
procedure;</p>
</item>
</olist>
<p>For the purpose of complying with <loc href="#conformance-generic-processor">Generic Processor Conformance</loc>,
when processing a given <loc href="#terms-document-instance">document instance</loc>,
the <loc href="#terms-effective-processor-profile">effective processor profile</loc>, once set to a reference to a
<loc href="#semantics-profile-state-profile-instance">profile instance</loc>,
remains a constant reference to a constant <loc href="#semantics-profile-state-profile-instance">profile instance</loc>
for the duration of that processing.</p>
</def>
</gitem>
<gitem id="semantics-procedure-construct-inferred-processor-profile">
<label>[construct inferred processor profile]</label>
<def>
<olist>
<item>
<p>set <emph>ECP</emph> to the <loc href="#terms-effective-content-profile">effective content profile</loc>;</p>
</item>
<item>
<p>if <emph>ECP</emph> is not <code>null</code>, then perform the following steps:</p>
<olist>
<item>
<p>if the computed value of the <att>ttp:inferProcessorProfileSource</att> parameter is <code>combine</code>, then
the <loc href="#terms-inferred-processor-profile">inferred processor profile</loc> is the result of applying the
<loc href="#semantics-procedure-infer-processor-profile"><phrase role="strong">infer processor profile</phrase></loc> function
to the <loc href="#semantics-profile-state-profile-combined-specification-set">combined specification set</loc> of <emph>ECP</emph>;</p>
</item>
<item>
<p>otherwise, if the computed value of the <att>ttp:inferProcessorProfileSource</att> parameter is <code>first</code>, then
the <loc href="#terms-inferred-processor-profile">inferred processor profile</loc> is the first inferred processor profile, <emph>IPP</emph>,
produced by applying the <loc href="#semantics-procedure-infer-processor-profile"><phrase role="strong">infer processor profile</phrase></loc> function
to the <loc href="#semantics-profile-state-profile-combined-specification-set">combined specification set</loc> of the <loc href="#semantics-profile-state-profile-instance">profile instance</loc>
associated with each constituent of the <loc href="#semantics-profile-state-profile-combined-specification-set">combined specification set</loc> of <emph>ECP</emph> such that <emph>IPP</emph> is supported by the
<loc href="#terms-content-processor">content processor</loc>;</p>
</item>
</olist>
</item>
<item>
<p>otherwise, the <loc href="#terms-inferred-processor-profile">inferred processor profile</loc> is the
result of performing the <loc href="#semantics-procedure-construct-default-processor-profile"><phrase role="strong">construct default processor profile</phrase></loc>
procedure;</p>
</item>
</olist>
</def>
</gitem>
<gitem id="semantics-procedure-infer-processor-profile">
<label>[infer processor profile](<loc href="#semantics-profile-state-combined-profile-specification-set">combined profile specification set</loc> <emph>CPSS</emph>)</label>
<def>
<olist>
<item>
<p>initialize inferred processor profile <emph>IPP</emph> to a <loc href="#semantics-profile-state-profile-instance">profile instance</loc> for which its <loc href="#semantics-profile-state-profile-combined-specification-set">combined specification set</loc> is a copy of the <loc href="#semantics-profile-state-empty-profile-specification-set">empty profile specification set</loc>;</p>
</item>
<item>
<p>for each profile specification, <emph>S</emph>, in the <loc href="#semantics-profile-state-combined-profile-specification-set">combined profile specification set</loc> <emph>CPSS</emph>:</p>
<olist>
<item>
<p>map content profile specification <emph>S</emph> to processor profile specification <emph>S&apos;&nbsp;</emph> according to the computed
value of the <att>ttp:inferPresentationProfileMethod</att> parameter and <specref ref="infer-processor-profile-method-table"/>;</p>
</item>
<item>
<p>add <emph>S&apos;&nbsp;</emph> to the <loc href="#semantics-profile-state-profile-combined-specification-set">combined specification set</loc> of <emph>IPP</emph>;</p>
</item>
</olist>
</item>
<item>
<p>return <emph>IPP</emph> as the inferred processor profile;</p>
</item>
</olist>
</def>
</gitem>
<gitem id="semantics-procedure-construct-default-processor-profile">
<label>[construct default processor profile]</label>
<def>
<olist>
<item>
<p>if the <loc href="#terms-document-interchange-context">document interchange context</loc> is associated with a
<loc href="#terms-processor-profile">processor profile</loc> or with a <loc href="#terms-content-profile">content profile</loc>
from which a <loc href="#terms-processor-profile">processor profile</loc> can be inferred, then the
<loc href="#terms-default-processor-profile">default processor profile</loc> is that <loc href="#terms-processor-profile">processor profile</loc>;</p>
</item>
<item>
<p>otherwise, if the <loc href="#terms-content-processor">content processor</loc> is primarily characterized as a
<loc href="#terms-presentation-processor">presentation processor</loc>, then
the <loc href="#terms-default-processor-profile">default processor profile</loc> is
the <loc href="#semantics-profile-state-profile-instance">profile instance</loc> constructed by interning the TTML2 Presentation profile
(<code>http://www.w3.org/ns/ttml/profile/ttml2-presentation</code>);
</p>
</item>
<item>
<p>otherwise, if the <loc href="#terms-content-processor">content processor</loc> is primarily characterized as a
<loc href="#terms-transformation-processor">transformation processor</loc>, then
the <loc href="#terms-default-processor-profile">default processor profile</loc> is
the <loc href="#semantics-profile-state-profile-instance">profile instance</loc> constructed by interning the TTML2 Transformation profile
(<code>http://www.w3.org/ns/ttml/profile/ttml2-transformation</code>).</p>
</item>
</olist>
<note role="explanation">
<p>A <loc href="#terms-content-processor">content processor</loc> intended to be used with
one or more distinct versions of TTML may choose a
<loc href="#terms-default-processor-profile">default processor profile</loc> based upon
a future version of a TTML presentation or transformation profile.</p>
</note>
</def>
</gitem>
</glist>
</div4>
</div3>
</div2> <!-- vocabulary-profiling -->
<div2 id="vocabulary-validation">
<head>Validation</head>
<p>This section describes the TTML validation sub-system and high level requirements that apply to this sub-system.</p>
<p>Validation is an optional function performed by a <loc href="#terms-validation-processor">validation processor</loc>
that may occur when a candidate <loc href="#terms-document-instance">document instance</loc> is
consumed or otherwise processed by a <loc href="#terms-validating-content-processor">validating content processor</loc>. If such processing
takes place and an exceptional condition occurs, then processing may be aborted, as described in further detail below.</p>
<p>If processing is aborted during <loc href="#terms-validation-processing">validation processing</loc>, then the consequences include:</p>
<ulist>
<item><p>only part of a non-conformant document may be transformed by a <loc href="#terms-transformation-processor">transformation processor</loc>,
resulting in an incomplete transformation;</p></item>
<item><p>only part of a non-conformant document may be presented by a <loc href="#terms-presentation-processor">presentation processor</loc>,
resulting in an incomplete presentation.</p></item>
</ulist>
<p>If abort processing does occur as a consequence of <loc href="#terms-validation-processing">validation processing</loc>, then the location in
the <loc href="#terms-document-instance">document instance</loc> after which no further content is processed is not defined by this specification. In
particular, an implementation may abort processing upon encountering the first <termref def="defs-validation-error">validation error</termref> or
may abort processing after encountering any number of <termref def="defs-validation-error">validation errors</termref>. As a consequence, the amount
of input content consumed from a non-conformant document and the corresponding (transformation or presentation) output may vary by implementation.</p>
<div3 id="semantics-validation-semantics">
<head>Validation Semantics</head>
<div4 id="semantics-validation-state">
<head>Validation State Object Concepts</head>
<p>This section defines a number of conceptual state objects used by subsequently defined algorithms (procedures and functions). It is not
required that an implementation create such objects in the form specified here, but may use any convenient, internal representation
that represents equivalent information.</p>
<glist>
<gitem id="semantics-validation-state-validation-exception">
<label>[validation exception]</label>
<def>
<p>A <loc href="#semantics-validation-state-validation-exception">validation exception</loc>
represents the following internal state information that corresponds to an exception condition that occurs during <loc href="#terms-validation-processing">validation processing</loc></p>
<glist>
<gitem id="semantics-validation-state-validation-exception-message">
<label>message</label>
<def><p>An arbitrary (implementation defined) string that describes or characterizes the exception.</p></def>
</gitem>
<gitem id="semantics-validation-state-validation-exception-type">
<label>type</label>
<def>
<p><code>"error" | "warning"</code></p>
</def>
</gitem>
</glist>
<p>A <loc href="#semantics-validation-state-validation-exception">validation exception</loc>
of type <code>error</code> is referred to as a
<termdef id="defs-validation-error" term="validation error"><term>validation error</term></termdef>,
while a <loc href="#semantics-validation-state-validation-exception">validation exception</loc>
of type <code>warning</code> is referred to as a
<termdef id="defs-validation-warning" term="validation warning"><term>validation warning</term></termdef>.</p>
<p>Unless a <loc href="#terms-higher-level-protocol">higher level protocol</loc> applies,
(1) if a violation of a prescription or proscription of this specification by a <loc href="#terms-document-instance">document instance</loc> is detected,
then it is <termdef id="defs-considered-an-error" term=""><term>considered an error</term></termdef>, in which case
a <termref def="defs-validation-error">validation error</termref> exception applies; and
(2) if a violation of a recommendation or disrecommendation of this specification is detected, then a
<termref def="defs-validation-warning">validation warning</termref> applies.</p>
<note role="example"><p>An example of a higher level protocol in this context is a system or end-user defined
configuration option of the <loc href="#terms-document-processing-context">document processing context</loc>
that causes a warning to be treated as an error, or vice-versa.</p></note>
</def>
</gitem>
</glist>
</div4>
<div4 id="semantics-validation-processing">
<head>Validation Processing Semantics</head>
<glist>
<gitem id="semantics-procedure-construct-effective-validation-profile">
<label>[construct effective validation profile]</label>
<def>
<olist>
<item><p>if a document&apos;s <loc href="#terms-effective-content-profile">effective content profile</loc> is not <code>null</code>, then the
<loc href="#terms-effective-validation-profile">effective validation profile</loc> is the
<loc href="#terms-effective-content-profile">effective content profile</loc>;</p></item>
<item><p>otherwise, the <loc href="#terms-effective-validation-profile">effective validation profile</loc> is the
<loc href="#terms-effective-processor-profile">effective processor profile</loc>.</p></item>
</olist>
<p>For the purpose of complying with <loc href="#conformance-generic-processor">Generic Processor Conformance</loc>,
when processing a given <loc href="#terms-document-instance">document instance</loc>,
the <loc href="#terms-effective-validation-profile">effective validation profile</loc>, once set to a reference to a
<loc href="#semantics-profile-state-profile-instance">profile instance</loc>,
remains a constant reference to a constant <loc href="#semantics-profile-state-profile-instance">profile instance</loc>
for the duration of that processing.</p>
</def>
</gitem>
<gitem id="semantics-procedure-construct-effective-validation-schemas">
<label>[construct effective validation schemas]</label>
<def>
<olist>
<item><p>if a document&apos;s <loc href="#terms-effective-validation-profile">effective validation profile</loc> is associated with one or more
schemas, then the set of <loc href="#terms-effective-validation-schemas">effective validation schemas</loc> is an appropriate subset
of these associated schemas based upon the requirements of the <loc href="#terms-document-processing-context">document processing context</loc>;</p></item>
<item><p>otherwise, the <loc href="#terms-effective-validation-schemas">effective validation schemas</loc> is a default set of schemas selected by the
<loc href="#terms-document-processing-context">document processing context</loc>.</p></item>
</olist>
<note role="elaboration">
<p>The determination of what constitutes an <emph>appropriate</emph> set of schemas is not formally defined by this specification; nevertheless,
it is expected that the selection process will make use of (1) the types of schemas available to and supported by the <loc href="#terms-processor">processor</loc> implementation and
(2) as a heuristic, the maximum version number associated with a required or optional feature as determined by the
<loc href="#terms-effective-validation-profile">effective validation profile</loc>.</p>
</note>
</def>
</gitem>
<gitem id="semantics-procedure-validate-document">
<label>[validate document]</label>
<def>
<olist>
<item><p>if validation is disabled by a <loc href="#terms-higher-level-protocol">higher level protocol</loc>
or if the computed value of the <loc href="#profile-attribute-validation"><att>ttp:validation</att></loc> parameter is <code>prohibited</code>,
then exit this procedure unless the end-user or application overrides this prohibition;</p></item>
<item><p>if the computed value of the <loc href="#profile-attribute-validation"><att>ttp:validation</att></loc> parameter is <code>optional</code> and the
<loc href="#terms-document-processing-context">document processing context</loc> determines that optional validation is not to be performed,
then exit this procedure;</p></item>
<item><p>otherwise, using the <loc href="#terms-effective-validation-schemas">effective validation schemas</loc> and other
validation tools as required, validate document conformance such that</p>
<ulist>
<item><p>if a <termref def="defs-validation-error">validation error</termref> condition is detected, then perform the semantics that apply
to the computed value of the <loc href="#profile-attribute-validationAction"><att>ttp:validationAction</att></loc> parameter property;</p></item>
<item><p>if a <termref def="defs-validation-warning">validation warning</termref> condition is detected, then perform the semantics that apply
to the computed value of the <loc href="#profile-attribute-validationAction"><att>ttp:validationAction</att></loc> parameter property.</p></item>
</ulist>
</item>
</olist>
<p>When <loc href="#terms-validation-processing">validation processing</loc> is performed, the following semantics apply:</p>
<ulist>
<item><p>if the input document takes the form of a concrete XML representation, e.g., the concrete form defined by
Appendix <specref ref="concrete-encoding"/>, then verify that</p>
<ulist>
<item><p>the encoded characters of the input document are well-formed according to the document&apos;s resolved character encoding; and,</p></item>
<item><p>the input document is a well-formed XML document; and</p></item>
</ulist>
</item>
<item><p>verify the input document is valid with respect to the <loc href="#terms-effective-validation-schemas">effective validation schemas</loc>;
and,</p></item>
<item><p>verify the input document adheres to all other syntactic and semantic constraints defined by this specification that are not directly expressed
by the <loc href="#terms-effective-validation-schemas">effective validation schemas</loc>.</p></item>
</ulist>
<p>If any of the above verification steps detect a state of non-conformance with respect to a prescription (must) or proscription (must not), then a
<termref def="defs-validation-error">validation error</termref> condition applies. If any of the above verification steps detect a state of
non-conformance with respect to a recommendation (should) or disrecommendation (should not), then a
<termref def="defs-validation-warning">validation warning</termref> condition applies.</p>
<note role="elaboration">
<p>Since the determination of <loc href="#terms-effective-validation-schemas">effective validation schemas</loc> is implementation
dependent, and since there is no requirement that the <loc href="#terms-effective-validation-schemas">effective validation schemas</loc> detect
every possible <termref def="defs-validation-error">validation error</termref>, then performing the
  <loc href="#semantics-procedure-validate-document">[validate document]</loc> procedure on an invalid document instance need not produce a
<loc href="#semantics-validation-state-validation-exception">validation exception</loc>, in which case,
the results of <loc href="#terms-validation-processing">validation processing</loc> may be considered a <emph>false positive</emph>.</p>
<p>As an example, a <loc href="#terms-content-profile">content profile</loc> may prohibit the use of a feature by means of the
<code>prohibited</code> value of the <code>value</code> attribute of a <loc href="#profile-vocabulary-feature"><el>ttp:feature</el></loc>
or <loc href="#profile-vocabulary-extension"><el>ttp:extension</el></loc> element; however, a particular implementation of the
<loc href="#semantics-procedure-validate-document">[validate document]</loc> procedure may fail to detect such prohibited usage in
a <loc href="#terms-document-instance">document instance</loc>, and, therefore, produce <emph>false positive</emph> validation results.</p>
<p>As a consequence of these limitations, the specification language of the <loc href="#semantics-procedure-validate-document">[validate document]</loc>
procedure is predicated upon whether a potential <termref def="defs-validation-error">validation error</termref> or
<termref def="defs-validation-warning">validation warning</termref> is detected or not, but does not mandate that all possible
<termref def="defs-validation-error">validation errors</termref> and <termref def="defs-validation-warning">validation warnings</termref> be detected.</p>
<p>See also the first note under <specref ref="ttml-content-doctype"/> for more information on <emph>false positives</emph>.</p>
</note>
</def>
</gitem>
</glist>
</div4> <!-- semantics-validation-processing -->
</div3> <!-- semantics-validation-semantics -->
</div2> <!-- vocabulary-validation -->
<div2 id="vocabulary-overview">
<head>Catalog</head>
<p>The vocabulary of the Timed Text Markup Language (TTML) is
defined in the following major catalogs (divisions of vocabulary):</p>
<ulist>
<item><p><specref ref="core-vocabulary-overview"/></p></item>
<item><p><specref ref="extension-vocabulary-overview"/></p></item>
</ulist>
<p>The core catalog defines the baseline, core vocabulary of TTML,
and, in particular, the vocabulary of TTML Content. The extension catalog
serves as a placeholder for extensions to the core vocabulary defined
by TTML.</p>
<div3 id="core-vocabulary-overview">
<head>Core Catalog</head>
<p>The core vocabulary catalog is intended to satisfy the needs of
TTML while providing a baseline vocabulary for future profiles. This vocabulary
is divided into distinct categories, specified in detail
in the following sections:</p>
<ulist>
<item><p><specref ref="profile"/></p></item>
<item><p><specref ref="parameter"/></p></item>
<item><p><specref ref="content"/></p></item>
<item><p><specref ref="embedded-content"/></p></item>
<item><p><specref ref="styling"/></p></item>
<item><p><specref ref="layout"/></p></item>
<item><p><specref ref="timing"/></p></item>
<item><p><specref ref="animation"/></p></item>
<item><p><specref ref="metadata"/></p></item>
</ulist>
<p>The core element vocabulary specified for use with a <loc href="#terms-document-instance">document instance</loc> is enumerated
as a set of labeled <loc href="#terms-module">modules</loc> in <specref ref="element-vocab-table"/>, where
each <loc href="#terms-module">module</loc> is defined as a set of element types, and where the members of
each <loc href="#terms-module">module</loc> may be extended (but not restricted) by one or
more <loc href="#terms-extension-module">extension modules</loc>.</p>
<table id="element-vocab-table" role="common">
<caption>Table 5-3 &ndash; Element Vocabulary</caption>
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<th>Module</th>
<th>Elements</th>
</tr>
<tr id="element-vocab-type-animation">
<td>
Animation
</td>
<td>
<loc href="#animation-vocabulary-animate">animate</loc>,
<loc href="#animation-vocabulary-animation">animation</loc>,
<loc href="#animation-vocabulary-set">set</loc>
</td>
</tr>
<tr id="element-vocab-type-audio">
<td>
Audio
</td>
<td>
<loc href="#embedded-content-vocabulary-audio">audio</loc>
</td>
</tr>
<tr id="element-vocab-type-content">
<td>
Content
</td>
<td>
<loc href="#document-structure-vocabulary-body">body</loc>,
<loc href="#content-vocabulary-br">br</loc>,
<loc href="#content-vocabulary-div">div</loc>,
<loc href="#content-vocabulary-p">p</loc>,
<loc href="#content-vocabulary-span">span</loc>
</td>
</tr>
<tr id="element-vocab-type-data">
<td>
Data
</td>
<td>
<loc href="#embedded-content-vocabulary-chunk">chunk</loc>,
<loc href="#embedded-content-vocabulary-data">data</loc>,
<loc href="#embedded-content-vocabulary-resources">resources</loc>,
<loc href="#embedded-content-vocabulary-source">source</loc>
</td>
</tr>
<tr id="element-vocab-type-document">
<td>
Document
</td>
<td>
<loc href="#document-structure-vocabulary-tt">tt</loc>
</td>
</tr>
<tr id="element-vocab-type-font">
<td>
Font
</td>
<td>
<loc href="#embedded-content-vocabulary-font">font</loc>
</td>
</tr>
<tr id="element-vocab-type-head">
<td>
Head
</td>
<td>
<loc href="#document-structure-vocabulary-head">head</loc>
</td>
</tr>
<tr id="element-vocab-type-image">
<td>
Image
</td>
<td>
<loc href="#embedded-content-vocabulary-image">image</loc>
</td>
</tr>
<tr id="element-vocab-type-layout">
<td>
Layout
</td>
<td>
<loc href="#layout-vocabulary-layout">layout</loc>,
<loc href="#layout-vocabulary-region">region</loc>
</td>
</tr>
<tr id="element-vocab-type-metadata">
<td>
Metadata
</td>
<td>
<loc href="#metadata-vocabulary-metadata">metadata</loc>
</td>
</tr>
<tr id="element-vocab-type-metadata-items">
<td>
Metadata Items
</td>
<td>
<loc href="#metadata-vocabulary-actor">ttm:actor</loc>,
<loc href="#metadata-vocabulary-agent">ttm:agent</loc>,
<loc href="#metadata-vocabulary-copyright">ttm:copyright</loc>,
<loc href="#metadata-vocabulary-desc">ttm:desc</loc>,
<loc href="#metadata-vocabulary-item">ttm:item</loc>,
<loc href="#metadata-vocabulary-name">ttm:name</loc>,
<loc href="#metadata-vocabulary-title">ttm:title</loc>
</td>
</tr>
<tr id="element-vocab-type-profile">
<td>Profile</td>
<td>
<loc href="#profile-vocabulary-features">ttp:features</loc>,
<loc href="#profile-vocabulary-feature">ttp:feature</loc>,
<loc href="#profile-vocabulary-extensions">ttp:extensions</loc>,
<loc href="#profile-vocabulary-extension">ttp:extension</loc>,
<loc href="#profile-vocabulary-profile">ttp:profile</loc>
</td>
</tr>
<tr id="element-vocab-type-styling">
<td>
Styling
</td>
<td>
<loc href="#styling-vocabulary-initial">initial</loc>,
<loc href="#styling-vocabulary-styling">styling</loc>,
<loc href="#styling-vocabulary-style">style</loc>
</td>
</tr>
</tbody>
</table>
<p></p>
<p>Element vocabulary groups that are used in defining content models for TTML element types are enumerated as a set of groups in
<specref ref="element-vocab-group-table"/>, where each group is defined as a content specification that satisfies production [46]
of <bibref ref="xml10"/>, and where each group may be extended (but not restricted) by one or
more <loc href="#terms-extension-module">extension modules</loc>.</p>
<table id="element-vocab-group-table" role="common">
<caption>Table 5-4 &ndash; Element Vocabulary Groups</caption>
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<th>Group</th>
<th>Elements</th>
</tr>
<tr id="element-vocab-group-animation">
<td>
Animation.class
</td>
<td>
<loc href="#animation-vocabulary-animate">animate</loc> |
<loc href="#animation-vocabulary-set">set</loc>
</td>
</tr>
<tr id="element-vocab-group-block">
<td>
Block.class
</td>
<td>
<loc href="#content-vocabulary-div">div</loc> |
<loc href="#content-vocabulary-p">p</loc>
</td>
</tr>
<tr id="element-vocab-group-data">
<td>
Data.class
</td>
<td>
<loc href="#embedded-content-vocabulary-data">data</loc>
</td>
</tr>
<tr id="element-vocab-group-embedded">
<td>
Embedded.class
</td>
<td>
<loc href="#embedded-content-vocabulary-audio">audio</loc>,
<loc href="#embedded-content-vocabulary-image">image</loc>
</td>
</tr>
<tr id="element-vocab-group-font">
<td>
Font.class
</td>
<td>
<loc href="#embedded-content-vocabulary-font">font</loc>
</td>
</tr>
<tr id="element-vocab-group-inline">
<td>
Inline.class
</td>
<td>
<loc href="#content-vocabulary-span">span</loc> |
<loc href="#content-vocabulary-span">br</loc> |
<code>#PCDATA</code>
</td>
</tr>
<tr>
<td>
Layout.class
</td>
<td id="element-vocab-group-layout">
<loc href="#layout-vocabulary-region">region</loc>
</td>
</tr>
<tr id="element-vocab-group-metadata">
<td>
Metadata.class
</td>
<td>
<loc href="#metadata-vocabulary-metadata">metadata</loc> |
<loc href="#metadata-vocabulary-agent">ttm:agent</loc> |
<loc href="#metadata-vocabulary-copyright">ttm:copyright</loc> |
<loc href="#metadata-vocabulary-desc">ttm:desc</loc> |
<loc href="#metadata-vocabulary-item">ttm:item</loc> |
<loc href="#metadata-vocabulary-title">ttm:title</loc>
</td>
</tr>
<tr id="element-vocab-group-profile">
<td>Profile.class</td>
<td><loc
href="#profile-vocabulary-profile">ttp:profile</loc></td>
</tr>
</tbody>
</table>
<p></p>
<p>The attribute vocabulary specified for use with the core vocabulary catalog is enumerated as a set
of <loc href="#terms-module">modules</loc> in <specref ref="attribute-vocab-table"/>, where
each <loc href="#terms-module">module</loc> is defined as a set of attribute types, and where the members of
each <loc href="#terms-module">module</loc> may be extended (but not restricted) by one or
more <loc href="#terms-extension-module">extension modules</loc>.</p>
<table id="attribute-vocab-table" role="common">
<caption>Table 5-5 &ndash; Attribute Vocabulary</caption>
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<th>Module</th>
<th>Attributes</th>
</tr>
<tr id="attribute-vocab-group-animation-binding">
<td>
Animation Binding Attribute
</td>
<td>
<loc href="#animation-attribute-animate">animate</loc>
</td>
</tr>
<tr id="attribute-vocab-group-audio-style">
<td>
Audio Styling Attributes
</td>
<td>
<loc href="#audio-style-attribute-gain">tta:gain</loc>,
<loc href="#audio-style-attribute-pan">tta:pan</loc>,
<loc href="#audio-style-attribute-pitch">tta:pitch</loc>,
<loc href="#audio-style-attribute-speak">tta:speak</loc>
</td>
</tr>
<tr id="attribute-vocab-group-conditional">
<td>
Conditionalization Attribute
</td>
<td>
<loc href="#content-attribute-condition">condition</loc>
</td>
</tr>
<tr id="attribute-vocab-group-core">
<td>
Core Attributes
</td>
<td>
<loc href="#content-attribute-xml-base">xml:base</loc>,
<loc href="#content-attribute-xml-id">xml:id</loc>,
<loc href="#content-attribute-xml-lang">xml:lang</loc>,
<loc href="#content-attribute-xml-space">xml:space</loc>
</td>
</tr>
<tr id="attribute-vocab-group-data">
<td>
Data Attributes
</td>
<td>
<loc href="#embedded-content-attribute-encoding">encoding</loc>,
<loc href="#embedded-content-attribute-format">format</loc>,
<loc href="#embedded-content-attribute-src">src</loc>,
<loc href="#embedded-content-attribute-type">type</loc>
</td>
</tr>
<tr id="attribute-vocab-group-layout-binding">
<td>
Layout Binding Attribute
</td>
<td>
<loc href="#layout-attribute-region">region</loc>
</td>
</tr>
<tr id="attribute-vocab-group-linking">
<td>
Linking Attributes
</td>
<td>
<loc href="#content-attribute-xlink-arcrole">xlink:arcrole</loc>,
<loc href="#content-attribute-xlink-href">xlink:href</loc>,
<loc href="#content-attribute-xlink-role">xlink:role</loc>,
<loc href="#content-attribute-xlink-show">xlink:show</loc>,
<loc href="#content-attribute-xlink-title">xlink:title</loc>
</td>
</tr>
<tr id="attribute-vocab-group-metadata">
<td>
Metadata Attributes
</td>
<td>
<loc href="#metadata-attribute-agent">ttm:agent</loc>,
<loc href="#metadata-attribute-role">ttm:role</loc>
</td>
</tr>
<tr id="attribute-vocab-group-parameters">
<td>
Parameter Attributes
</td>
<td>
<loc href="#parameter-attribute-cellResolution">ttp:cellResolution</loc>,
<loc href="#parameter-attribute-clockMode">ttp:clockMode</loc>,
<loc href="#parameter-attribute-displayAspectRatio">ttp:displayAspectRatio</loc>,
<loc href="#parameter-attribute-dropMode">ttp:dropMode</loc>,
<loc href="#parameter-attribute-frameRate">ttp:frameRate</loc>,
<loc href="#parameter-attribute-frameRateMultiplier">ttp:frameRateMultiplier</loc>,
<loc href="#parameter-attribute-markerMode">ttp:markerMode</loc>,
<loc href="#parameter-attribute-pixelAspectRatio">ttp:pixelAspectRatio</loc>,
<loc href="#parameter-attribute-subFrameRate">ttp:subFrameRate</loc>,
<loc href="#parameter-attribute-tickRate">ttp:tickRate</loc>,
<loc href="#parameter-attribute-timeBase">ttp:timeBase</loc>,
</td>
</tr>
<tr id="attribute-vocab-group-profile">
<td>
Profile Attributes
</td>
<td>
<loc href="#profile-attribute-contentProfiles">ttp:contentProfiles</loc>,
<loc href="#profile-attribute-contentProfileCombination">ttp:contentProfileCombination</loc>,
<loc href="#profile-attribute-inferProcessorProfileMethod">ttp:inferProcessorProfileMethod</loc>,
<loc href="#profile-attribute-inferProcessorProfileSource">ttp:inferProcessorProfileSource</loc>,
<loc href="#profile-attribute-permitFeatureNarrowing">ttp:permitFeatureNarrowing</loc>,
<loc href="#profile-attribute-permitFeatureWidening">ttp:permitFeatureWidening</loc>,
<loc href="#profile-attribute-processorProfiles">ttp:processorProfiles</loc>,
<loc href="#profile-attribute-processorProfileCombination">ttp:processorProfileCombination</loc>,
<loc href="#profile-attribute-profile">ttp:profile</loc>,
<loc href="#profile-attribute-validation">ttp:validation</loc>,
<loc href="#profile-attribute-validationAction">ttp:validationAction</loc>
</td>
</tr>
<tr id="attribute-vocab-group-style-binding">
<td>
Style Binding Attribute
</td>
<td>
<loc href="#style-attribute-style">style</loc>
</td>
</tr>
<tr id="attribute-vocab-group-style">
<td>
Styling Attributes
</td>
<td>
<loc href="#style-attribute-backgroundClip">tts:backgroundClip</loc>,
<loc href="#style-attribute-backgroundColor">tts:backgroundColor</loc>,
<loc href="#style-attribute-backgroundExtent">tts:backgroundExtent</loc>,
<loc href="#style-attribute-backgroundImage">tts:backgroundImage</loc>,
<loc href="#style-attribute-backgroundOrigin">tts:backgroundOrigin</loc>,
<loc href="#style-attribute-backgroundPosition">tts:backgroundPosition</loc>,
<loc href="#style-attribute-backgroundRepeat">tts:backgroundRepeat</loc>,
<loc href="#style-attribute-border">tts:border</loc>,
<loc href="#style-attribute-bpd">tts:bpd</loc>,
<loc href="#style-attribute-color">tts:color</loc>,
<loc href="#style-attribute-direction">tts:direction</loc>,
<loc href="#style-attribute-disparity">tts:disparity</loc>,
<loc href="#style-attribute-display">tts:display</loc>,
<loc href="#style-attribute-displayAlign">tts:displayAlign</loc>,
<loc href="#style-attribute-extent">tts:extent</loc>,
<loc href="#style-attribute-fontFamily">tts:fontFamily</loc>,
<loc href="#style-attribute-fontKerning">tts:fontKerning</loc>,
<loc href="#style-attribute-fontSelectionStrategy">tts:fontSelectionStrategy</loc>,
<loc href="#style-attribute-fontShear">tts:fontShear</loc>,
<loc href="#style-attribute-fontSize">tts:fontSize</loc>,
<loc href="#style-attribute-fontStyle">tts:fontStyle</loc>,
<loc href="#style-attribute-fontVariant">tts:fontVariant</loc>,
<loc href="#style-attribute-fontWeight">tts:fontWeight</loc>,
<loc href="#style-attribute-ipd">tts:ipd</loc>,
<loc href="#style-attribute-letterSpacing">tts:letterSpacing</loc>,
<loc href="#style-attribute-lineHeight">tts:lineHeight</loc>,
<loc href="#style-attribute-lineShear">tts:lineShear</loc>,
<loc href="#style-attribute-luminanceGain">tts:luminanceGain</loc>,
<loc href="#style-attribute-opacity">tts:opacity</loc>,
<loc href="#style-attribute-origin">tts:origin</loc>,
<loc href="#style-attribute-overflow">tts:overflow</loc>,
<loc href="#style-attribute-padding">tts:padding</loc>,
<loc href="#style-attribute-position">tts:position</loc>,
<loc href="#style-attribute-ruby">tts:ruby</loc>,
<loc href="#style-attribute-rubyAlign">tts:rubyAlign</loc>,
<loc href="#style-attribute-rubyPosition">tts:rubyPosition</loc>,
<loc href="#style-attribute-rubyReserve">tts:rubyReserve</loc>,
<loc href="#style-attribute-shear">tts:shear</loc>,
<loc href="#style-attribute-showBackground">tts:showBackground</loc>,
<loc href="#style-attribute-textAlign">tts:textAlign</loc>,
<loc href="#style-attribute-textCombine">tts:textCombine</loc>,
<loc href="#style-attribute-textDecoration">tts:textDecoration</loc>,
<loc href="#style-attribute-textEmphasis">tts:textEmphasis</loc>,
<loc href="#style-attribute-textOrientation">tts:textOrientation</loc>,
<loc href="#style-attribute-textOutline">tts:textOutline</loc>,
<loc href="#style-attribute-textShadow">tts:textShadow</loc>,
<loc href="#style-attribute-unicodeBidi">tts:unicodeBidi</loc>,
<loc href="#style-attribute-visibility">tts:visibility</loc>,
<loc href="#style-attribute-wrapOption">tts:wrapOption</loc>,
<loc href="#style-attribute-writingMode">tts:writingMode</loc>,
<loc href="#style-attribute-zIndex">tts:zIndex</loc>
</td>
</tr>
<tr id="attribute-vocab-group-timing">
<td>
Timing Attributes
</td>
<td>
<loc href="#timing-attribute-begin">begin</loc>,
<loc href="#timing-attribute-dur">dur</loc>,
<loc href="#timing-attribute-end">end</loc>,
<loc href="#timing-attribute-timeContainer">timeContainer</loc>
</td>
</tr>
</tbody>
</table>
<note role="explanation">
<p>Only those attributes defined as either (1) global, i.e., namespace qualified, or
(2) shared element-specific, i.e., not namespace qualified but shared across multiple
element types, are listed in <specref ref="attribute-vocab-table"/> above.
</p>
</note>
<note role="explanation">
<p>All vocabulary defined by TTML consistently makes use of
the so-called <emph>lowerCamelCase</emph> naming convention. In some cases, this results in the
change of a name when the name was based upon another specification
that used a different naming convention.</p>
</note>
</div3>
<div3 id="extension-vocabulary-overview">
<head>Extension Catalog</head>
<p>The extension vocabulary catalog is intended for use by future
profiles of TTML, and is not further defined
by this version of TTML.</p>
<p>In addition to standardized extension vocabulary, a conforming 
<loc href="#terms-document-instance">document instance</loc> may contain arbitrary namespace qualified
elements that reside in any namespace other than those namespaces
defined for use with this specification. Furthermore, a conforming 
<loc href="#terms-document-instance">document instance</loc> may contain arbitrary namespace qualified
attributes on TTML defined vocabulary where such attributes reside in
any namespace other than those defined for use with this
specification.</p>
</div3>
</div2> <!-- vocabulary-overview -->
</div1> <!-- vocabulary -->
<div1 id="profile">
<head>Profile</head>
<p>This section specifies the <emph>profile</emph> matter of the
core vocabulary catalog, where profile matter is to be understood as information that expresses requirements or optionality related to authoring or processing
a <loc href="#terms-timed-text-content-document">timed text content document</loc>.</p>
<div2 id="profile-element-vocabulary">
<head>Profile Element Vocabulary</head>
<p>The following elements, all defined in the TT Parameter
Namespace, specify parametric information that applies to a <loc href="#terms-document-instance">document instance</loc>
or <loc href="#terms-content-processor">content processor</loc>:</p>
<ulist>
<item><p><specref ref="profile-vocabulary-profile"/></p></item>
<item><p><specref ref="profile-vocabulary-features"/></p></item>
<item><p><specref ref="profile-vocabulary-feature"/></p></item>
<item><p><specref ref="profile-vocabulary-extensions"/></p></item>
<item><p><specref ref="profile-vocabulary-extension"/></p></item>
</ulist>
<note role="explanation">
<p>The sub-sections of this section are ordered logically (from highest to lowest level construct).</p>
</note>
<div3 id="profile-vocabulary-profile">
<head>ttp:profile</head>
<p>The <el>ttp:profile</el> element is used to specify a
<loc href="#terms-content-profile">content profile</loc> or a
<loc href="#terms-processor-profile">processor profile</loc>.
A <loc href="#terms-processor-profile">processor profile</loc> specifies a
collection of required (mandatory) and optional (voluntary) features and extensions that must or
may be supported by a <loc href="#terms-content-processor">content processor</loc> in order to process a
<loc href="#terms-document-instance">document instance</loc> that makes (or may make) use of such features and
extensions.
A <loc href="#terms-content-profile">content profile</loc> specifies a
collection of prohibited, required, and optional features and extensions that, respectively,
must not, must, and may be present in a <loc href="#terms-document-instance">document instance</loc> that declares its
adherence to the profile.</p>
<note role="clarification">
<p>The difference between a <emph>feature</emph> and an
<emph>extension</emph> is where it is defined and how it is labeled:
if defined in this specification (or a future revision thereof) and
labeled with a feature designation in <specref ref="features"/>, then
it is considered to be a feature; if defined in another specification
and labeled there with an extension designation, then it is considered
to be an extension. In general, features are expected to be defined by
the W3C standards process, while extensions are expected to be defined by
third parties.</p>
</note>
<p>This specification defines two distinct contexts of use for the <el>ttp:profile</el> element:</p>
<ulist>
<item>
<p>as a child of the <el>head</el> element or a <el>ttp:profile</el> element within a TTML <loc href="#terms-document-instance">document instance</loc>;</p>
</item>
<item>
<p>as the root element of a TTML <loc href="#terms-profile-definition-document">profile definition document</loc>
instance;</p>
</item>
</ulist>
<p>When a <el>ttp:profile</el> element appears within a TTML <loc href="#terms-document-instance">document instance</loc>,
its purpose is to express authorial intentions about (1) which
features and extensions must or may be supported by a recipient
content processor in order to process that document or (2) which features and extensions must not, must, or may be
included or otherwise used in that <loc href="#terms-document-instance">document instance</loc>.</p>
<p>When a <el>ttp:profile</el> element is used by a TTML <loc href="#terms-profile-definition-document">profile definition document</loc> instance,
it serves to publish a machine
readable specification of a specific TTML profile that may be referenced by TTML <loc href="#terms-document-instance">document instances</loc>.
This specification defines a number of standard <emph>Profile Definition Documents</emph> in
<specref ref="standard-profiles"/>.</p>
<p>The <el>ttp:profile</el> element accepts as its children zero or more
elements in the <loc href="#element-vocab-group-metadata"><code>Metadata.class</code></loc> element group, followed by either (1)
zero or more <el>ttp:features</el> elements followed by
zero or more <el>ttp:extensions</el> elements or (2)
zero or more <el>ttp:profile</el> elements.
When a <el>ttp:profile</el> element contains a child <el>ttp:profile</el> element, then the child is referred to as
a <loc href="#terms-nested-profile">nested profile</loc> and the parent is referred to as a <loc href="#terms-nesting-profile">nesting profile</loc>;
otherwise it is referred to as a <loc href="#terms-non-nesting-profile">non-nesting profile</loc>.</p>
<table id="elt-syntax-profile" role="syntax">
<caption>XML Representation &ndash; Element Information Item: ttp:profile</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;ttp:profile
  combine = (<emph>"leastRestrictive"</emph> | <emph>"mostRestrictive"</emph> | <emph>"replace"</emph> | <emph>"ignore"</emph>) : ignore
  designator = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  type = (<emph>"processor"</emph> | <emph>"content"</emph>) : processor
  use = <loc href="#content-value-absolute-profile-designator">&lt;absolute-profile-designator&gt;</loc> | <loc href="#content-value-relative-profile-designator">&lt;relative-profile-designator&gt;</loc>
  <loc href="#content-attribute-xml-base">xml:base</loc> = <loc href="#content-value-uri">&lt;uri&gt;</loc>
  <loc href="#content-attribute-xml-id">xml:id</loc> = ID
  <emph>Content:</emph> <loc href="#element-vocab-group-metadata">Metadata.class</loc>*, ((<loc href="#profile-vocabulary-features">ttp:features</loc>*, <loc href="#profile-vocabulary-extensions">ttp:extensions</loc>*)|<loc href="#profile-vocabulary-profile">ttp:profile</loc>*)
&lt;/ttp:profile&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>The <att>type</att> attribute is used to determine whether a profile is a
<loc href="#terms-content-profile">content profile</loc> or a
<loc href="#terms-processor-profile">processor profile</loc>. If not specified,
the profile is considered to be a <loc href="#terms-processor-profile">processor profile</loc>.
If a <el>ttp:profile</el> element references a <loc href="#terms-baseline-profile">baseline profile</loc> or a
<loc href="#terms-nested-profile">nested profile</loc>, then the type of the referenced profile must be the same as the type of the referencing profile. For
example, a <el>ttp:profile</el> element that defines a <loc href="#terms-processor-profile">processor profile</loc> may only make reference to other
<loc href="#terms-processor-profile">processor profiles</loc>, and may not reference a <loc href="#terms-content-profile">content profile</loc>.</p>
<p>The <att>combine</att> attribute is used to specify how
feature or extension specifications are combined in the case that
multiple specifications apply to the same feature or extension, respectively.</p>
<p>If the value of the <att>combine</att> attribute is <code>replace</code> or <code>ignore</code>, then a
lexically subsequent feature or extension specification, respectively, replaces a lexically prior
specification or is ignored, where specification elements are ordered as follows:</p>
<olist>
<item><p>specifications defined by a <loc href="#terms-baseline-profile">baseline profile</loc> referenced by a <att>use</att>
attribute;</p></item>
<item><p>specifications defined by descendant <el>ttp:profile</el> elements in post-order
traversal order;</p></item>
<item><p>specifications defined as descendant <el>ttp:feature</el> or <el>ttp:extension</el>
elements in post-order traversal order.</p></item>
</olist>
<p>If the value is <code>leastRestrictive</code>, then the least restrictive specification value applies;
if the value is <code>mostRestrictive</code>, then the most restrictive specification value
applies. The order of restrictiveness is as follows (from least to most):
<emph>optional</emph>, <emph>required</emph>, <emph>prohibited</emph>.</p>
<p>If the <att>combine</att> attribute is not specified, then <emph>ignore</emph> semantics apply.</p>
<p>If specified, the <att>designator</att> attribute must adhere to the
<loc href="#content-value-absolute-profile-designator">&lt;absolute-profile-designator&gt;</loc> value syntax.
A <att>designator</att> attribute may
be specified on a <el>ttp:profile</el> element that appears in a TTML
<loc href="#terms-document-instance">document instance</loc>, and, if not specified,
the defined profile is considered to be an undesignated profile.
A <att>designator</att> attribute should
be specified on a <el>ttp:profile</el> element that appears in a TTML
<loc href="#terms-profile-definition-document">profile definition document</loc> instance,
and, if not specified, the defining context (e.g., an external specification) must specify
a designator in its accompanying definition text.</p>
<p>If specified, the <att>use</att> attribute must adhere to the
<loc href="#content-value-absolute-profile-designator">&lt;absolute-profile-designator&gt;</loc> or
<loc href="#content-value-relative-profile-designator">&lt;relative-profile-designator&gt;</loc>
value syntax and must refer to either (1) a standard, predefined
<loc href="#terms-profile">profile</loc> as defined by <specref ref="vocabulary-profile-standard-designators"/>
or (2) a feasibly dereferenceable resource representing a valid
<loc href="#terms-profile-definition-document">profile definition document</loc> instance.
In either case, the referenced profile serves as the
<loc href="#terms-baseline-profile">baseline profile</loc> of the specifying <el>ttp:profile</el> element.</p>
<note role="clarification">
<p>Since the <att>use</att> attribute must refer to an entire (whole) <loc href="#terms-profile-definition-document">profile definition document</loc>,
it cannot be used to refer to a <loc href="#terms-top-level-profile">top level profile</loc> or a <loc href="#terms-nested-profile">nested profile</loc>.
This rules out using a <att>use</att> attribute which <loc href="#content-value-uri">&lt;uri&gt;</loc> value contains a
fragment <loc href="#terms-component">component</loc>.</p>
</note>
<p>If the <att>use</att> attribute is not specified, then the <loc href="#terms-baseline-profile">baseline profile</loc>
of the <el>ttp:profile</el> element must be considered to be
the empty (null) profile, i.e., an undesignated profile definition containing no
feature or extension specifications.</p>
<p>The <loc href="#semantics-profile-state-combined-profile-specification-set">combined profile specification set</loc> <emph>CPSS</emph> of features and extensions of a profile <emph>P</emph>
is determined according to the following ordered rules, where merging a specification <emph>S</emph>
into <emph>CPSS</emph> entails applying a combination method in accordance with the specified
(or default) value of the <att>combine</att> attribute, and where merging a <loc href="#semantics-profile-state-combined-profile-specification-set">combined profile specification set</loc> <emph>CPSS&apos;&nbsp;</emph> into
<emph>CPSS</emph> entails merging each ordered specification of <emph>CPSS&apos;&nbsp;</emph> into <emph>CPSS</emph>:</p>
<olist>
<item><p>initialize <emph>CPSS</emph> to the empty set;</p></item>
<item><p>if a <att>use</att> attribute is present, then merge
the <loc href="#semantics-profile-state-profile-combined-specification-set">combined specification set</loc> of the referenced <loc href="#terms-baseline-profile">baseline profile</loc> into <emph>CPSS</emph>;</p></item>
<item><p>for each <el>ttp:profile</el> child of the <emph>P</emph>,
using a post-order traversal, merge the <loc href="#semantics-profile-state-profile-combined-specification-set">combined specification set</loc> of the child profile
into <emph>CPSS</emph>;</p></item>
<item><p>for each <el>ttp:feature</el> and <el>ttp:extension</el> child of the <el>ttp:profile</el> element,
using a post-order traversal, merge the feature or extension specification
into <emph>CPSS</emph>.</p></item>
</olist>
<p>A conformant TTML processor is not required to be able to
dereference a <loc href="#terms-profile-definition-document">profile definition document</loc> that is not one of the
standard, predefined profiles defined by <specref ref="standard-profiles"/>.  Furthermore,
a conformant TTML processor may make use of a built-in, static
form of each standard, predefined profile so as not to require
dereferencing a network resource.</p>
<p>If a TTML processor is unable to dereference a non-standard
<loc href="#terms-profile-definition-document">profile definition document</loc>, then it must not further process the
document without the presence of an explicit override from an end-user
or some implementation specific parameter traceable to an end-user or
to a user or system configuration setting. If a TTML processor aborts
processing of a <loc href="#terms-document-instance">document instance</loc> due to the inability to
reference a non-standard <loc href="#terms-profile-definition-document">profile definition document</loc>, then some
end-user notification should be given unless the end-user or system
has disabled such a notification, or if the processor does not permit
or entail the intervention of an end-user.</p>
<p>A conformant TTML processor is not required to be able to support a <loc href="#terms-combined-profile">combined profile</loc> or
a <loc href="#terms-nesting-profile">nesting profile</loc>. If
(1) <loc href="#terms-combined-profile">combined profiles</loc> are not supported and the processing of a <loc href="#terms-profile">profile</loc>
would cause it to be considered a <loc href="#terms-combined-profile">combined profile</loc>, or
(2) <loc href="#terms-nesting-profile">nesting profiles</loc> are not supported and the processing of a <loc href="#terms-profile">profile</loc>
would cause it to be considered a <loc href="#terms-nesting-profile">nesting profile</loc>,
then further processing of the <loc href="#terms-profile">profile</loc> must not occur without the presence of an explicit override from an end-user
or some implementation specific parameter traceable to an end-user or to a user or system configuration setting. If a TTML processor aborts
processing of a <loc href="#terms-document-instance">document instance</loc> due to lack of support for
<loc href="#terms-combined-profile">combined profiles</loc> or <loc href="#terms-nesting-profile">nesting profiles</loc>,
then some end-user notification should be given unless the end-user or system has disabled such a notification,
or if the processor does not permit or entail the intervention of an end-user.</p>
<note role="clarification">
<p>If a <loc href="#terms-document-instance">document instance</loc> does not require support for
<loc href="#terms-combined-profile">combined profiles</loc>, then it should not make use of:</p>
<ulist>
<item><p>multiple <loc href="#terms-top-level-profile">top-level profiles</loc>,</p></item>
<item><p>a <code>combine</code> attribute on a <loc href="#profile-vocabulary-profile">ttp:profile</loc> element,</p></item>
<item><p>multiple designators in a <loc href="#profile-attribute-processorProfiles"><att>ttp:contentProfiles</att></loc> attribute,</p></item>
<item><p>multiple designators in a <loc href="#profile-attribute-processorProfiles"><att>ttp:processorProfiles</att></loc> attribute,</p></item>
<item><p>a <loc href="#profile-attribute-contentProfileCombination"><att>ttp:contentProfileCombination</att></loc> attribute,</p></item>
<item><p>a <loc href="#profile-attribute-processorProfileCombination"><att>ttp:processorProfileCombination</att></loc> attribute, or</p></item>
<item><p>a <code>combined</code> value on a <loc href="#profile-attribute-inferProcessorProfileSource"><att>ttp:inferProcessorProfileSource</att></loc>
attribute.</p></item>
</ulist>
</note>
<note role="clarification">
<p>If a <loc href="#terms-document-instance">document instance</loc> does not require support for
<loc href="#terms-nesting-profile">nesting profiles</loc>, then it should not make use of a <loc href="#terms-nested-profile">nested profile</loc>.</p>
</note>
<p>The <el>ttp:profile</el> element is illustrated by the following example.</p>
<table id="profile-vocabulary-profile-example-1" role="example">
<caption>Example Fragment &ndash; ttp:profile</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;ttp:profile use="ttml2-presentation"&gt;
  &lt;ttp:features xml:base="http://www.w3.org/ns/ttml/feature/"&gt;
    &lt;ttp:feature&gt;#text-outline&lt;/ttp:feature&gt;
  &lt;/ttp:features&gt;
&lt;/ttp:profile&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<note role="explanation">
<p>In the above example, the TTML2 Presentation profile is used as the
baseline profile. This baseline profile is then supersetted (thus
creating an additive derived profile) by requiring support for
<code>#text-outline</code> feature.</p>
</note>
</div3>
<div3 id="profile-vocabulary-features">
<head>ttp:features</head>
<p>The <el>ttp:features</el> element is a container element used to group
information about feature support and usage requirements.</p>
<p>The <el>ttp:features</el> element accepts as its children zero or more
elements in the <loc href="#element-vocab-group-metadata"><code>Metadata.class</code></loc> element group, followed by
zero or more <el>ttp:feature</el> elements.</p>
<table id="elt-syntax-features" role="syntax">
<caption>XML Representation &ndash; Element Information Item: ttp:features</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;ttp:features
  <loc href="#content-attribute-xml-base">xml:base</loc> = <loc href="#content-value-uri">&lt;uri&gt;</loc> : <emph>TT Feature Namespace</emph>
  <loc href="#content-attribute-xml-id">xml:id</loc> = ID
  <emph>Content:</emph> <loc href="#element-vocab-group-metadata">Metadata.class</loc>*, <loc href="#profile-vocabulary-feature">ttp:feature</loc>*
&lt;/ttp:features&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>If specified, the <att>xml:base</att>
attribute must (1) adhere to the
<loc href="#content-value-uri">&lt;uri&gt;</loc> value syntax, (2) express an absolute URI that
adheres to <bibref ref="xmlbase"/> and,
(3) express a feature namespace as defined by
<specref ref="feature-designations"/>. If not specified, the
<att>xml:base</att> attribute&apos;s default
value applies, which is the TT Feature Namespace.</p>
<p>The <att>xml:base</att> attribute is
used to permit the abbreviation of feature designation URIs expressed
by child <el>ttp:feature</el> elements.</p>
</div3>
<div3 id="profile-vocabulary-feature">
<head>ttp:feature</head>
<p>The <el>ttp:feature</el> element is used to specify
information about support and usage requirements for a particular feature.</p>
<table id="elt-syntax-feature" role="syntax">
<caption>XML Representation &ndash; Element Information Item: ttp:feature</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;ttp:feature
  extends = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  restricts = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  value = (<emph>"optional"</emph> | <emph>"required"</emph> | <emph><phrase role="deprecated">"use"</phrase></emph> | <emph>"prohibited"</emph>) : <emph>see prose below</emph>
  <loc href="#content-attribute-xml-id">xml:id</loc> = ID
  <emph>Content:</emph> #PCDATA
&lt;/ttp:feature&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>The children of the <el>ttp:feature</el> element must express a non-empty
sequence of <loc href="#terms-character-information-item">character information items</loc> the concatenation of which adheres to the
<loc href="#content-value-uri">&lt;uri&gt;</loc> value syntax.</p>
<p>If specified, the <att>extends</att> attribute and (or) the <att>restricts</att>
attribute must (1) adhere to the
<loc href="#content-value-uri">&lt;uri&gt;</loc> value syntax, and
(2) express a feature designation as defined by
<specref ref="feature-designations"/>.</p>
<p>The <att>extends</att> attribute may be used to indicate that the feature being defined
is, from a syntactic and (or) semantic perspective, a proper superset of the
feature referenced by the <att>extends</att> attribute.
The <att>restricts</att> attribute may be used to indicate that the feature being defined
is, from a syntactic and (or) semantic perspective, a proper subset of the
feature referenced by the <att>restricts</att> attribute.
If an <att>extends</att> attribute is specified, then a <att>restricts</att> attribute must
not be specified on a <el>ttp:feature</el> element; likewise, if a <att>restricts</att> attribute
is specified, then an <att>extends</att> attribute must not be specified.</p>
<p>If the URI expressed by (1) the content of the <el>ttp:feature</el>
element, (2) the <att>extends</att> attribute, or (3) the <att>restricts</att> attribute
is a relative URI, then, when combined with the
feature namespace value expressed by the
<att>xml:base</att> attribute of the
nearest ancestor <el>ttp:features</el> element, it must express an
absolute URI.  In either case (original absolute URI or resulting
<termref def="defs-absolutize">absolutized</termref> URI), the URI expressed by the <el>ttp:feature</el>
element must further adhere to the syntax of a feature designation as
defined by <specref ref="feature-designations"/>, and, furthermore,
the specific designation that appears in this URI, i.e., the portion of the feature designation
that starts with the fragment identifier separator &apos;#&apos;, must
be defined by this specification or some published version thereof (that
has achieved REC status).</p>
<p>If the URI expressed by the content of the <el>ttp:feature</el> element,
by the <att>extends</att> attribute, or by the <att>restricts</att> attribute
is a relative URI, then an <att>xml:base</att> attribute should be
specified on the nearest ancestor <el>ttp:features</el> element.</p>
<p>The <att>value</att> attribute specifies constraints on support for or use of
the designated feature according to the profile type.</p>
<p>If the profile is a <loc href="#terms-processor-profile">processor profile</loc>
then the following semantics apply:</p>
<ulist>
<item><p>
if the value of the <att>value</att> attribute
is <code>optional</code>, then a processor may but need
not implement or otherwise support the feature in order to process the document;
</p></item>
<item>
<p>if the value is <code>required</code>, then perform the following steps:</p>
<olist>
<item><p>if the feature is implemented or otherwise supported by a processor, then continue processing
the document;</p></item>
<item><p>otherwise, if
(1) the <att>extends</att> attribute is specified on this <el>ttp:feature</el> element,
(2) the value of the <att>extends</att> attribute designates a feature that is implemented or otherwise supported by
a processor, and
(3) the computed value of the <loc href="#profile-attribute-permitFeatureNarrowing"><att>ttp:permitFeatureNarrowing</att></loc>
property of the root <el>tt</el> element is not <code>false</code>,
then continue processing the document;</p>
</item>
<item><p>otherwise, if
(1) the <att>restricts</att> attribute is specified on this <el>ttp:feature</el> element,
(2) the value of the <att>restricts</att> attribute designates a feature that is implemented or otherwise supported by
a processor, and
(3) the computed value of the <loc href="#profile-attribute-permitFeatureWidening"><att>ttp:permitFeatureWidening</att></loc>
property of the root <el>tt</el> element is not <code>false</code>,
then continue processing the document;</p>
</item>
<item><p>otherwise, abort processing the document unless overridden by the end-user or some implementation specific parameter
traceable to an end-user or to a user or system configuration setting.</p></item>
</olist>
</item>
<item><p>
if the value attribute is not specified, then the feature specification
must be interpreted as if the value <code>required</code> were specified;
</p></item>
</ulist>
<p>If the profile is a <loc href="#terms-content-profile">content profile</loc>
then the following semantics apply:</p>
<ulist>
<item><p>
if the value of the <att>value</att> attribute
is <code>optional</code>, then the feature may but need not appear in a document that
claims conformance with that profile;
</p></item>
<item><p>
if the value of the <att>value</att> attribute
is <code>required</code>, then the feature must appear in a document that
claims conformance with that profile;
</p></item>
<item><p>
if the value of the <att>value</att> attribute
is <code>prohibited</code>, then the feature must not appear in a document that
claims conformance with that profile;
</p></item>
<item><p>
if the value attribute is not specified, then the feature specification
must be interpreted as if the value <code>optional</code> were specified;
</p></item>
</ulist>
<p>The value <phrase role="deprecated"><code>use</code></phrase> of the <att>value</att> attribute is <phrase role="deprecated">deprecated</phrase>. If it
appears in a profile specification, then it must be interpreted as if <code>required</code>
had been specified.</p>
<p>If some defined (i.e., standardized) or otherwise well known feature is not specified by
a <el>ttp:feature</el> element in a content profile, then it must be interpreted as if the feature were specified
with the <att>value</att> attribute equal to <code>optional</code>. However, if not specified in a processor profile, no claim
about support or absence of support for the feature is implied.</p>
<note role="elaboration">
<p>In particular, if some feature is not present in a content profile definition, then
it is not to be interpreted as meaning the use of that feature (in a <loc href="#terms-document-instance">document instance</loc>)
is disallowed or otherwise prohibited. If a feature is intended to be disallowed by a content profile, then
it should be specified using the <code>prohibited</code> value.</p>
</note>
<p>If a <loc href="#terms-document-instance">document instance</loc> makes use of a feature defined by
<specref ref="feature-designations"/> and if the intended use of the
document requires the recognition and processing of that feature, then
the document must include a <emph>required</emph> feature specification in one of its declared or
referenced profiles.</p>
<p>The <el>ttp:feature</el> element is illustrated by the following example.</p>
<table id="profile-vocabulary-feature-example-1" role="example">
<caption>Example Fragment &ndash; ttp:feature</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;ttp:profile use="http://www.w3.org/ns/ttml/profile/ttml2-presentation"&gt;
  &lt;ttp:features xml:base="http://www.w3.org/ns/ttml/feature/"&gt;
    <phrase role="strong">&lt;ttp:feature value="required"&gt;#fontStyle-italic&lt;/ttp:feature&gt;</phrase>
    <phrase role="strong">&lt;ttp:feature value="required"&gt;#textDecoration-under&lt;/ttp:feature&gt;</phrase>
    <phrase role="strong">&lt;ttp:feature value="prohibited"&gt;#textOutline-blurred&lt;/ttp:feature&gt;</phrase>
  &lt;/ttp:features&gt;
&lt;/ttp:profile&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<note role="explanation">
<p>In the above example, the TTML presentation profile is used as the
baseline profile. This baseline profile is then modified by three
<el>ttp:feature</el> elements in order to (1)
superset the baseline profile (since neither
<code>#fontStyle-italic</code> nor <code>#textDecoration-under</code>
are required by the TTML presentation profile), and
(2) prohibit use of the <code>#textOutline-blurred</code> feature
(which is optional in the TTML presentation profile).</p> 
<p>The effect of this example is to express authorial intentions that
italic font style and text underlining must be
supported, and that text outline blurring must not be used by a document.</p>
</note>
</div3>
<div3 id="profile-vocabulary-extensions">
<head>ttp:extensions</head>
<p>The <el>ttp:extensions</el> element is a container element used to group
information about extension support and usage requirements.</p>
<p>The <el>ttp:extensions</el> element accepts as its children zero or more
elements in the <loc href="#element-vocab-group-metadata"><code>Metadata.class</code></loc> element group, followed by
zero or more <el>ttp:extension</el> elements.</p>
<table id="elt-syntax-extensions" role="syntax">
<caption>XML Representation &ndash; Element Information Item: ttp:extensions</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;ttp:extensions
  <loc href="#content-attribute-xml-base">xml:base</loc> = <loc href="#content-value-uri">&lt;uri&gt;</loc> : <emph>TT Extension Namespace</emph>
  <loc href="#content-attribute-xml-id">xml:id</loc> = ID
  <emph>Content:</emph> <loc href="#element-vocab-group-metadata">Metadata.class</loc>*, <loc href="#profile-vocabulary-extension">ttp:extension</loc>*
&lt;/ttp:extensions&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>If specified, the <att>xml:base</att>
attribute must (1) adhere to the
<loc href="#content-value-uri">&lt;uri&gt;</loc> value syntax, (2) express an absolute URI that
adheres to <bibref ref="xmlbase"/> and,
(3) express an extension namespace as defined by
<specref ref="extension-designations"/>. If not specified, the
<att>xml:base</att> attribute&apos;s default
value applies, which is the TT Extension Namespace.</p>
<p>The <att>xml:base</att> attribute is
used to permit the abbreviation of feature designation URIs expressed
by child <el>ttp:extension</el> elements.</p>
</div3>
<div3 id="profile-vocabulary-extension">
<head>ttp:extension</head>
<p>The <el>ttp:extension</el> element is used to specify
information about support and usage requirements for a particular extension.</p>
<table id="elt-syntax-extension" role="syntax">
<caption>XML Representation &ndash; Element Information Item: ttp:extension</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;ttp:extension
  extends = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  restricts = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  value = (<emph>"optional"</emph> | <emph>"required"</emph> | <emph><phrase role="deprecated">"use"</phrase></emph> | <emph>"prohibited"</emph>) : <emph>see prose below</emph>
  <loc href="#content-attribute-xml-id">xml:id</loc> = ID
  <emph>Content:</emph> #PCDATA
&lt;/ttp:extension&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>The children of the <el>ttp:extension</el> element must express a non-empty
sequence of <loc href="#terms-character-information-item">character information items</loc> the concatenation of which adheres to the
<loc href="#content-value-uri">&lt;uri&gt;</loc> value syntax.</p>
<p>If specified, the <att>extends</att> attribute and (or) the <att>restricts</att>
attribute must (1) adhere to the
<loc href="#content-value-uri">&lt;uri&gt;</loc> value syntax, and
(2) express a feature designation or extension designation as defined by
<specref ref="feature-designations"/> or <specref ref="extension-designations"/>, respectively.</p>
<p>The <att>extends</att> attribute may be used to indicate that the extension being defined
is, from a syntactic and (or) semantic perspective, a proper superset of the
feature or extension referenced by the <att>extends</att> attribute.
The <att>restricts</att> attribute may be used to indicate that the extension being defined
is, from a syntactic and (or) semantic perspective, a proper subset of the
feature or extension referenced by the <att>restricts</att> attribute.
If an <att>extends</att> attribute is specified, then a <att>restricts</att> attribute must
not be specified on a <el>ttp:extension</el> element; likewise, if a <att>restricts</att> attribute
is specified, then an <att>extends</att> attribute must not be specified.</p>
<p>If the URI expressed by (1) the content of the <el>ttp:extension</el>
element, (2) the <att>extends</att> attribute, or (3) the <att>restricts</att> attribute
is a relative URI, then, when combined with the
extension namespace value expressed by the
<att>xml:base</att> attribute of the
nearest ancestor <el>ttp:extensions</el> element, it must express an
absolute URI.  In either case (original absolute URI or resulting
<termref def="defs-absolutize">absolutized</termref> URI), the URI expressed by the <el>ttp:extension</el>
element must further adhere to the syntax of an extension designation as
defined by <specref ref="extension-designations"/>,
while the URI expressed by the <att>extends</att> attribute and (or) the
<att>restricts</att> attribute must adhere to the syntax of a feature designation
or an extension designation as defined by <specref ref="feature-designations"/> or
<specref ref="extension-designations"/>, respectively.</p>
<p>If the URI expressed by the content of the <el>ttp:extension</el> element,
by the <att>extends</att> attribute, or by the <att>restricts</att> attribute
is a relative URI, then an <att>xml:base</att> attribute should be
specified on the nearest ancestor <el>ttp:extensions</el> element.</p>
<p>The <att>value</att> attribute specifies constraints on support for or use of
the designated extension according to the profile type.</p>
<p>If the profile is a <loc href="#terms-processor-profile">processor profile</loc>
then the following semantics apply:</p>
<ulist>
<item><p>
if the value of the <att>value</att> attribute
is <code>optional</code>, then a processor may but need
not implement or otherwise support the extension in order to process the document;
</p></item>
<item>
<p>if the value is <code>required</code>, then perform the following steps:</p>
<olist>
<item><p>if the extension is implemented or otherwise supported by a processor, then continue processing
the document;</p></item>
<item><p>otherwise, if
(1) the <att>extends</att> attribute is specified on this <el>ttp:extension</el> element,
(2) the value of the <att>extends</att> attribute designates an extension that is implemented or otherwise supported by
a processor, and
(3) the computed value of the <loc href="#profile-attribute-permitFeatureNarrowing"><att>ttp:permitFeatureNarrowing</att></loc>
property of the root <el>tt</el> element is not <code>false</code>,
then continue processing the document;</p>
</item>
<item><p>otherwise, if
(1) the <att>restricts</att> attribute is specified on this <el>ttp:extension</el> element,
(2) the value of the <att>restricts</att> attribute designates an extension that is implemented or otherwise supported by
a processor, and
(3) the computed value of the <loc href="#profile-attribute-permitFeatureWidening"><att>ttp:permitFeatureWidening</att></loc>
property of the root <el>tt</el> element is not <code>false</code>,
then continue processing the document;</p>
</item>
<item><p>otherwise, abort processing the document unless overridden by the end-user or some implementation specific parameter
traceable to an end-user or to a user or system configuration setting.</p></item>
</olist>
</item>
<item><p>
if the value attribute is not specified, then the extension specification
must be interpreted as if the value <code>required</code> were specified;
</p></item>
</ulist>
<p>If the profile is a <loc href="#terms-content-profile">content profile</loc>
then the following semantics apply:</p>
<ulist>
<item><p>
if the value of the <att>value</att> attribute
is <code>optional</code>, then the extension may but need not appear in a document that
claims conformance with that profile;
</p></item>
<item><p>
if the value of the <att>value</att> attribute
is <code>required</code>, then the extension must appear in a document that
claims conformance with that profile;
</p></item>
<item><p>
if the value of the <att>value</att> attribute
is <code>prohibited</code>, then the extension must not appear in a document that
claims conformance with that profile;
</p></item>
<item><p>
if the value attribute is not specified, then the extension specification
must be interpreted as if the value <code>optional</code> were specified;
</p></item>
</ulist>
<p>The value <phrase role="deprecated"><code>use</code></phrase> of the <att>value</att> attribute is <phrase role="deprecated">deprecated</phrase>. If it
appears in a profile specification, then it must be interpreted as if <code>required</code>
had been specified.</p>
<p>If some well known extension is not specified by
a <el>ttp:extension</el> element in a content profile, then it must be interpreted as if the extension were specified
with the <att>value</att> attribute equal to <code>optional</code>. However, if not specified in a processor profile, no claim
about support or absence of support for the extension is implied.</p>
<note role="elaboration">
<p>In particular, if some extension is not present in a content profile definition, then
it is not to be interpreted as meaning the use of that extension (in a <loc href="#terms-document-instance">document instance</loc>)
is disallowed or otherwise prohibited. If an extension is intended to be disallowed by a content profile, then
it should be specified using the <code>prohibited</code> value.</p>
</note>
<p>If a <loc href="#terms-document-instance">document instance</loc> makes use
of an extension designatable by <specref
ref="extension-designations"/> and if the intended use of the document
requires the recognition and processing of that extension, then the
document must include a <emph>required</emph> extension specification
in one of its declared or referenced profiles.</p>
<p>The <el>ttp:extension</el> element is illustrated by the following example.</p>
<table id="profile-vocabulary-extension-example-1" role="example">
<caption>Example Fragment &ndash; ttp:extension</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;ttp:profile use="http://www.w3.org/ns/ttml/profile/ttml2-transformation"&gt;
  &lt;ttp:extensions xml:base="https://example.org/ttml/extension/"&gt;
    <phrase role="strong">&lt;ttp:extension value="required"&gt;#prefilter-by-language&lt;/ttp:extension&gt;</phrase>
  &lt;/ttp:extensions&gt;
&lt;/ttp:profile&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<note role="explanation">
<p>In the above example, the TTML transformation profile is used as
the baseline profile. This baseline profile is then supersetted by
specifying that support is required for a private extension
defined in a third party namespace.</p>
<p>The effect of this example is to express authorial intentions that
a recipient processor must support the TTML transformation profile and
must also support an extension defined by a third party.</p>
</note>
</div3>
</div2> <!-- profile-element-vocabulary -->
<div2 id="profile-attribute-vocabulary">
<head>Profile Attribute Vocabulary</head>
<p>The following attributes are defined in the TT Parameter Namespace.</p>
<ulist>
<item><p><specref ref="profile-attribute-contentProfiles"/></p></item>
<item><p><specref ref="profile-attribute-contentProfileCombination"/></p></item>
<item><p><specref ref="profile-attribute-inferProcessorProfileMethod"/></p></item>
<item><p><specref ref="profile-attribute-inferProcessorProfileSource"/></p></item>
<item><p><specref ref="profile-attribute-permitFeatureNarrowing"/></p></item>
<item><p><specref ref="profile-attribute-permitFeatureWidening"/></p></item>
<item><p><specref ref="profile-attribute-processorProfiles"/></p></item>
<item><p><specref ref="profile-attribute-processorProfileCombination"/></p></item>
<item><p><specref ref="profile-attribute-profile"/></p></item>
<item><p><specref ref="profile-attribute-validation"/></p></item>
<item><p><specref ref="profile-attribute-validationAction"/></p></item>
</ulist>
<div3 id="profile-attribute-contentProfiles">
<head>ttp:contentProfiles</head>
<p>The <att>ttp:contentProfiles</att> attribute may be used by a content author
to express one or more <loc href="#terms-content-profile">content profiles</loc> of
the Timed Text Markup Language (TTML) where the
<loc href="#terms-enclosing-document-instance">enclosing document instance</loc> claims conformance to <emph>all</emph> of a set of
specified <loc href="#terms-content-profile">content profiles</loc>.</p>
<p>If specified, the value of this attribute must adhere to the following syntax,
where each <code>profile-designator</code> item adheres to the
<loc href="#content-value-uri">&lt;uri&gt;</loc> value syntax, and,
further, adheres to constraints defined on a profile designator in accordance with
<specref ref="vocabulary-profiling"/>.</p>
<table id="profile-attribute-contentProfiles-syntax" role="syntax">
<caption>Syntax Representation &ndash; ttp:contentProfiles</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
ttp:contentProfiles
  : designators
  | "all(" <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> designators <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> ")"

designators
  : designator (<loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> designator)*

designator
  : <loc href="#content-value-profile-designator">&lt;profile-designator&gt;</loc>
</eg>
</td>
</tr>
</tbody>
</table>
<p>If the list of designators is enclosed in the function syntax <code>all(...)</code> or no function syntax is used,
then conformance is claimed with all designated <loc href="#terms-content-profile">content profiles</loc>.</p>
<p>If multiple designators are specified, then the <termref def="defs-absolutize">absolutized</termref> form of each designator must be distinct; that is,
after converting to <termref def="defs-absolutize">absolutized</termref> form, duplicate designators are not permitted.</p>
<p>A <att>ttp:contentProfiles</att>
attribute is considered to be significant only when specified on the
<el>tt</el> element.</p>
</div3>
<div3 id="profile-attribute-contentProfileCombination">
<head>ttp:contentProfileCombination</head>
<p>The <att>ttp:contentProfileCombination</att> attribute is used to specify the
method for combining multiple <loc href="#terms-content-profile">content profiles</loc>.</p>
<p>If specified, the value of this attribute must adhere to the following syntax:</p>
<table id="profile-attribute-contentProfileCombination-syntax" role="syntax">
<caption>Syntax Representation &ndash; ttp:contentProfileCombination</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
ttp:contentProfileCombination
  : "leastRestrictive"
  | "mostRestrictive"
  | "replace"
  | "ignore"
</eg>
</td>
</tr>
</tbody>
</table>
<p>If not specified, the value of this parameter must be considered to be <code>ignore</code>.</p>
<p>Given two ordered profile specification values, <emph>arg1</emph> and <emph>arg2</emph>, and a content profile combination method,
<specref ref="content-profile-combination-table"/> specifies the result of combining the two specification values, where the order
of arguments is determined in accordance with the lexical order of
<loc href="#terms-content-profile">content profiles</loc> in a <loc href="#terms-document-instance">document instance</loc>.</p>
<table id="content-profile-combination-table" role="common">
<caption>Table 6-1 &ndash; Content Profile Combination</caption>
<col css="width: 16%;"/>
<col css="width: 16%;"/>
<col css="width: 16%;"/>
<col css="width: 16%;"/>
<col css="width: 16%;"/>
<col css="width: 16%;"/>
<tbody>
<tr>
<th><emph>arg1</emph></th>
<th><emph>arg2</emph></th>
<th><code>leastRestrictive</code></th>
<th><code>mostRestrictive</code></th>
<th><code>replace</code></th>
<th><code>ignore</code></th>
</tr>
<tr>
<td>optional</td>
<td>optional</td>
<td>optional</td>
<td>optional</td>
<td>optional</td>
<td>optional</td>
</tr>
<tr>
<td>optional</td>
<td>required</td>
<td>optional</td>
<td>required</td>
<td>required</td>
<td>optional</td>
</tr>
<tr>
<td>optional</td>
<td>prohibited</td>
<td>optional</td>
<td>prohibited</td>
<td>prohibited</td>
<td>optional</td>
</tr>
<tr>
<td>required</td>
<td>optional</td>
<td>optional</td>
<td>required</td>
<td>optional</td>
<td>required</td>
</tr>
<tr>
<td>required</td>
<td>required</td>
<td>required</td>
<td>required</td>
<td>required</td>
<td>required</td>
</tr>
<tr>
<td>required</td>
<td>prohibited</td>
<td>required</td>
<td>prohibited</td>
<td>prohibited</td>
<td>required</td>
</tr>
<tr>
<td>prohibited</td>
<td>optional</td>
<td>optional</td>
<td>prohibited</td>
<td>optional</td>
<td>prohibited</td>
</tr>
<tr>
<td>prohibited</td>
<td>required</td>
<td>required</td>
<td>prohibited</td>
<td>required</td>
<td>prohibited</td>
</tr>
<tr>
<td>prohibited</td>
<td>prohibited</td>
<td>prohibited</td>
<td>prohibited</td>
<td>prohibited</td>
<td>prohibited</td>
</tr>
</tbody>
</table>
<p>A <att>ttp:contentProfileCombination</att> attribute is considered to be significant only
when specified on the <el>tt</el> element.</p>
</div3>
<div3 id="profile-attribute-inferProcessorProfileMethod">
<head>ttp:inferProcessorProfileMethod</head>
<p>The <att>ttp:inferProcessorProfileMethod</att> attribute is used to specify the
method for mapping a content profile specification value to a corresponding processor
profile specification value.</p>
<p>If specified, the value of this attribute must adhere to the following syntax:</p>
<table id="profile-attribute-inferProcessorProfileMethod-syntax" role="syntax">
<caption>Syntax Representation &ndash; ttp:inferProcessorProfileMethod</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
ttp:inferProcessorProfileMethod
  : "loose"
  | "strict"
</eg>
</td>
</tr>
</tbody>
</table>
<p>If this parameter&apos;s value is <code>loose</code>, then, when inferring a processor profile specification from a content profile specification,
a loose (liberal) mapping applies.</p>
<p>If this parameter&apos;s value is <code>strict</code>, then, when inferring a processor profile specification from a content profile specification,
a strict (conservative) mapping applies.</p>
<p>If not specified, the value of this parameter must be considered
to be <code>loose</code>.</p>
<p>Given an input content profile specification value, <emph>input</emph>, and an infer processor profile method,
<specref ref="infer-processor-profile-method-table"/> specifies the result of mapping the input specification value.</p>
<table id="infer-processor-profile-method-table" role="common">
<caption>Table 6-2 &ndash; Infer Processor Profile Method</caption>
<col css="width: 33%;"/>
<col css="width: 33%;"/>
<col css="width: 33%;"/>
<tbody>
<tr>
<th><emph>input</emph></th>
<th><code>loose</code></th>
<th><code>strict</code></th>
</tr>
<tr>
<td>optional</td>
<td>optional</td>
<td>required</td>
</tr>
<tr>
<td>required</td>
<td>required</td>
<td>required</td>
</tr>
<tr>
<td>prohibited</td>
<td>optional</td>
<td>optional</td>
</tr>
</tbody>
</table>
<p>A <att>ttp:inferProcessorProfileMethod</att> attribute is considered to be significant only
when specified on the <el>tt</el> element.</p>
</div3>
<div3 id="profile-attribute-inferProcessorProfileSource">
<head>ttp:inferProcessorProfileSource</head>
<p>The <att>ttp:inferProcessorProfileSource</att> attribute is used to specify the
source for mapping a content profile specification value to a corresponding processor
profile specification value.</p>
<p>If specified, the value of this attribute must adhere to the following syntax:</p>
<table id="profile-attribute-inferProcessorProfileSource-syntax" role="syntax">
<caption>Syntax Representation &ndash; ttp:inferProcessorProfileSource</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
ttp:inferProcessorProfileSource
  : "combined"
  | "first"
</eg>
</td>
</tr>
</tbody>
</table>
<p>If this parameter&apos;s value is <code>combined</code>, then, when inferring a processor profile, the <loc href="#semantics-profile-state-profile-combined-specification-set">combined specification set</loc>
of the <loc href="#terms-effective-content-profile">effective content profile</loc> is used as the source of inference.</p>
<p>If this parameter&apos;s value is <code>first</code>, then, when inferring a processor profile, the first constituent profile of
the <loc href="#semantics-profile-state-profile-combined-specification-set">combined specification set</loc> of the <loc href="#terms-effective-content-profile">effective content profile</loc>,
where the processor profile inferred from that constituent profile is supported by the <loc href="#terms-content-processor">content processor</loc>,
is used as the source of inference, about which see the
<loc href="#semantics-procedure-construct-inferred-processor-profile">construct inferred processor profile</loc> procedure for further details.</p>
<p>If not specified, the value of this parameter must be considered
to be <code>first</code>.</p>
<p>A <att>ttp:inferProcessorProfileSource</att> attribute is considered to be significant only
when specified on the <el>tt</el> element.</p>
</div3>
<div3 id="profile-attribute-permitFeatureNarrowing">
<head>ttp:permitFeatureNarrowing</head>
<p>The <att>ttp:permitFeatureNarrowing</att> attribute is used to specify whether
requirements related to a feature or extension may be satisfied by a (syntactically or semantically) narrower interpretation
of the feature or extension.</p>
<p>If specified, the value of this attribute must adhere to the following syntax:</p>
<table id="profile-attribute-permitFeatureNarrowing-syntax" role="syntax">
<caption>Syntax Representation &ndash; ttp:permitFeatureNarrowing</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
ttp:permitFeatureNarrowing
  : <loc href="https://www.w3.org/TR/xmlschema-2/#boolean">xsd:boolean</loc>                             // see <bibref ref="xsd-2"/>, &sect;3.2.2
</eg>
</td>
</tr>
</tbody>
</table>
<p>If this parameter&apos;s value is <code>true</code>, then, a requirement for support of a feature or extension may be satisfied
if the definition of the feature or extension specifies an <att>extends</att> attribute, and the feature or extension referenced
by that attribute is supported by a processor.</p>
<p>If this parameter&apos;s value is <code>false</code>, then, a requirement for support of a feature or extension can not be satisfied
by a more narrowly defined feature or extension specified by an <att>extends</att> attribute.</p>
<p>If not specified, the value of this parameter must be considered
to be <code>false</code>.</p>
<p>A <att>ttp:permitFeatureNarrowing</att> attribute is considered to be significant only
when specified on the <el>tt</el> element.</p>
</div3>
<div3 id="profile-attribute-permitFeatureWidening">
<head>ttp:permitFeatureWidening</head>
<p>The <att>ttp:permitFeatureWidening</att> attribute is used to specify whether
requirements related to a feature or extension may be satisfied by a (syntactically or semantically) wider interpretation
of the feature or extension.</p>
<p>If specified, the value of this attribute must adhere to the following syntax:</p>
<table id="profile-attribute-permitFeatureWidening-syntax" role="syntax">
<caption>Syntax Representation &ndash; ttp:permitFeatureWidening</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
ttp:permitFeatureWidening
  : <loc href="https://www.w3.org/TR/xmlschema-2/#boolean">xsd:boolean</loc>                             // see <bibref ref="xsd-2"/>, &sect;3.2.2
</eg>
</td>
</tr>
</tbody>
</table>
<p>If this parameter&apos;s value is <code>true</code>, then, a requirement for support of a feature or extension may be satisfied
if the definition of the feature or extension specifies a <att>restricts</att> attribute, and the feature or extension referenced
by that attribute is supported by a processor.</p>
<p>If this parameter&apos;s value is <code>false</code>, then, a requirement for support of a feature or extension can not be satisfied
by a more widely defined feature or extension specified by a <att>restricts</att> attribute.</p>
<p>If not specified, the value of this parameter must be considered
to be <code>false</code>.</p>
<p>A <att>ttp:permitFeatureWidening</att> attribute is considered to be significant only
when specified on the <el>tt</el> element.</p>
</div3>
<div3 id="profile-attribute-profile">
<head>ttp:profile</head>
<p>The <att>ttp:profile</att> attribute
denotes a <loc href="#terms-processor-profile">processor profile</loc>
of the Timed Text Markup Language (TTML) that applies when processing
a <loc href="#terms-document-instance">document instance</loc>.</p>
<note role="clarification">
  <p>If an author wishes to specify that one or more of a collection of processor profiles apply
  rather than a single processor profile, then the content author is advised to use the
  <att>ttp:processorProfiles</att> as specified by <specref ref="profile-attribute-processorProfiles"/>.</p>
</note>
<note role="seealso">
<p>For information on signaling content profile(s), see <specref ref="profile-attribute-contentProfiles"/>.</p>
</note>
<p>If specified, the value of this attribute must adhere to the following syntax
where the <code>designator</code> adheres to the
<loc href="#content-value-uri">&lt;uri&gt;</loc> value syntax, and, further, must specify a
profile designator in accordance with
<specref ref="vocabulary-profiling"/>.</p>
<table id="profile-attribute-profile-syntax" role="syntax">
<caption>Syntax Representation &ndash; ttp:profile</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
ttp:profile
  : designator

designator
  : <loc href="#content-value-profile-designator">&lt;profile-designator&gt;</loc>
</eg>
</td>
</tr>
</tbody>
</table>
<p>A <att>ttp:profile</att>
attribute is considered to be significant only when specified on the
<el>tt</el> element.</p>
<p>If a <loc href="#terms-top-level-profile">top-level</loc> <loc href="#terms-processor-profile">processor profile</loc>
is defined in a <loc href="#terms-document-instance">document instance</loc>, then the
<loc href="#profile-attribute-profile"><att>ttp:profile</att></loc>
attribute should not be specified on the <el>tt</el> element.</p>
<note role="elaboration">
<p>See <specref ref="semantics-profile-semantics"/> for information on how an
<loc href="#terms-effective-processor-profile">effective processor profile</loc> is determined when one or more mechanisms
designate one or more profiles for (possible) use when processing a document.</p>
</note>
</div3>
<div3 id="profile-attribute-processorProfiles">
<head>ttp:processorProfiles</head>
<p>The <att>ttp:processorProfiles</att> attribute may be used by a content author
to express one or more <loc href="#terms-processor-profile">processor profiles</loc> of
the Timed Text Markup Language (TTML) where the
<loc href="#terms-enclosing-document-instance">enclosing document instance</loc> requires support for (1) <emph>all</emph> of a set of
specified <loc href="#terms-processor-profile">processor profiles</loc> or (2) <emph>any</emph> one of a set of
specified <loc href="#terms-processor-profile">processor profiles</loc>.</p>
<p>If specified, the value of this attribute must adhere to the following syntax,
where each <code>profile-designator</code> item adheres to the
<loc href="#content-value-uri">&lt;uri&gt;</loc> value syntax, and,
further, adheres to constraints defined on a profile designator in accordance with
<specref ref="vocabulary-profiling"/>.</p>
<table id="profile-attribute-processorProfiles-syntax" role="syntax">
<caption>Syntax Representation &ndash; ttp:processorProfiles</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
ttp:processorProfiles
  : designators
  | "all(" <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> designators <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> ")"
  | "any(" <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> designators <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> ")"

designators
  : designator (<loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> designator)*

designator
  : <loc href="#content-value-profile-designator">&lt;profile-designator&gt;</loc>
</eg>
</td>
</tr>
</tbody>
</table>
<p>If the list of designators is enclosed in the function syntax <code>all(...)</code> or no function syntax is used,
then support is required for all designated <loc href="#terms-processor-profile">processor profiles</loc>. If the list
of designators is enclosed in the function syntax <code>any(...)</code>, then support is required for at least one
of the designated <loc href="#terms-processor-profile">processor profiles</loc>.</p>
<p>If multiple designators are specified, then the <termref def="defs-absolutize">absolutized</termref> form of each designator must be distinct; that is,
after converting to <termref def="defs-absolutize">absolutized</termref> form, duplicate designators are not permitted.</p>
<p>A <att>ttp:processorProfiles</att>
attribute is considered to be significant only when specified on the
<el>tt</el> element.</p>
</div3>
<div3 id="profile-attribute-processorProfileCombination">
<head>ttp:processorProfileCombination</head>
<p>The <att>ttp:processorProfileCombination</att> attribute is used to specify the
method for combining multiple <loc href="#terms-processor-profile">processor profiles</loc>.</p>
<p>If specified, the value of this attribute must adhere to the following syntax:</p>
<table id="profile-attribute-processorProfileCombination-syntax" role="syntax">
<caption>Syntax Representation &ndash; ttp:processorProfileCombination</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
ttp:processorProfileCombination
  : "leastRestrictive"
  | "mostRestrictive"
  | "replace"
  | "ignore"
</eg>
</td>
</tr>
</tbody>
</table>
<p>If not specified, the value of this parameter must be considered to be <code>ignore</code>.</p>
<p>Given two ordered profile specification values, <emph>arg1</emph> and <emph>arg2</emph>, and a processor profile combination method,
<specref ref="processor-profile-combination-table"/> specifies the result of combining the two specification values, where the order
of arguments is determined in accordance with the lexical order of
<loc href="#terms-processor-profile">processor profiles</loc> in a <loc href="#terms-document-instance">document instance</loc>.</p>
<table id="processor-profile-combination-table" role="common">
<caption>Table 6-3 &ndash; Processor Profile Combination</caption>
<col css="width: 16%;"/>
<col css="width: 16%;"/>
<col css="width: 16%;"/>
<col css="width: 16%;"/>
<col css="width: 16%;"/>
<col css="width: 16%;"/>
<tbody>
<tr>
<th><emph>arg1</emph></th>
<th><emph>arg2</emph></th>
<th><code>leastRestrictive</code></th>
<th><code>mostRestrictive</code></th>
<th><code>replace</code></th>
<th><code>ignore</code></th>
</tr>
<tr>
<td>optional</td>
<td>optional</td>
<td>optional</td>
<td>optional</td>
<td>optional</td>
<td>optional</td>
</tr>
<tr>
<td>optional</td>
<td>required</td>
<td>optional</td>
<td>required</td>
<td>required</td>
<td>optional</td>
</tr>
<tr>
<td>required</td>
<td>optional</td>
<td>optional</td>
<td>required</td>
<td>optional</td>
<td>required</td>
</tr>
<tr>
<td>required</td>
<td>required</td>
<td>required</td>
<td>required</td>
<td>required</td>
<td>required</td>
</tr>
</tbody>
</table>
<p>A <att>ttp:processorProfileCombination</att> attribute is considered to be significant only
when specified on the <el>tt</el> element.</p>
</div3>
<div3 id="profile-attribute-validation">
<head>ttp:validation</head>
<p>The <att>ttp:validation</att> attribute is used to specify whether <loc href="#terms-validation-processing">validation processing</loc>
may or must be performed on a <loc href="#terms-document-instance">document instance</loc> by a
<loc href="#terms-validating-content-processor">validating content processor</loc>.</p>
<p>If specified, the value of this attribute must adhere to the following syntax:</p>
<table id="profile-attribute-validation-syntax" role="syntax">
<caption>Syntax Representation &ndash; ttp:validation</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
ttp:validation
  : "required"
  | "optional"
  | "prohibited"
</eg>
</td>
</tr>
</tbody>
</table>
<p>If this parameter&apos;s value is <code>required</code>, then, a <loc href="#terms-validating-content-processor">validating content processor</loc>
must perform <loc href="#terms-validation-processing">validation processing</loc> on a TTML <loc href="#terms-document-instance">document instance</loc> prior to performing
other types of processing, e.g., presentation or transformation processing.</p>
<p>If this parameter&apos;s value is <code>optional</code>, then, a <loc href="#terms-validating-content-processor">validating content processor</loc>
may, but need not, perform <loc href="#terms-validation-processing">validation processing</loc> on a TTML <loc href="#terms-document-instance">document instance</loc> prior to performing
other types of processing, e.g., presentation or transformation processing.</p>
<p>If this parameter&apos;s value is <code>prohibited</code>, then, a <loc href="#terms-validating-content-processor">validating content processor</loc>
must not perform <loc href="#terms-validation-processing">validation processing</loc> on a TTML <loc href="#terms-document-instance">document instance</loc> prior to performing
other types of processing, e.g., presentation or transformation processing, unless the end-user or application overrides this prohibition.</p>
<p>If <loc href="#terms-validation-processing">validation processing</loc> is performed on a TTML <loc href="#terms-document-instance">document instance</loc> and validation fails, then the computed value of
the <att>ttp:validationAction</att> property is used to determine what action to take before performing further processing.</p>
<p>If not specified, the value of this parameter must be considered
to be <code>optional</code>.</p>
<p>A <att>ttp:validation</att> attribute is considered to be significant only
when specified on the <el>tt</el> element.</p>
</div3>
<div3 id="profile-attribute-validationAction">
<head>ttp:validationAction</head>
<p>The <att>ttp:validationAction</att> attribute is used to specify what action is to be taken
by a <loc href="#terms-validating-content-processor">validating content processor</loc> when
validation of a <loc href="#terms-document-instance">document instance</loc> fails.</p>
<p>If specified, the value of this attribute must adhere to the following syntax:</p>
<table id="profile-attribute-validationAction-syntax" role="syntax">
<caption>Syntax Representation &ndash; ttp:validationAction</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
ttp:validationAction
  : "abort"
  | "warn"
  | "ignore"
</eg>
</td>
</tr>
</tbody>
</table>
<p>If this parameter&apos;s value is <code>abort</code>, then, unless abort processing is overridden by the end-user or application,
a <loc href="#terms-validating-content-processor">validating content processor</loc>
must abort processing of a TTML <loc href="#terms-document-instance">document instance</loc> when a
<termref def="defs-validation-error">validation error</termref> exception occurs.</p>
<p>If this parameter&apos;s value is <code>warn</code>, then, a <loc href="#terms-validating-content-processor">validating content processor</loc>
should warn the end-user when a <termref def="defs-validation-error">validation error</termref> or
<termref def="defs-validation-warning">validation warning</termref> exception occurs
and give the end-user the option to continue or abort processing.</p>
<p>If this parameter&apos;s value is <code>ignore</code>, then, a <loc href="#terms-validating-content-processor">validating content processor</loc>
should not abort and should not warn the end-user when a <loc href="#semantics-validation-state-validation-exception">validation exception</loc>
occurs.</p>
<p>If not specified, the value of this parameter is determined as follows:
if the computed value of the <loc href="#profile-attribute-validation"><att>ttp:validation</att></loc> property is <code>required</code>,
then the value must be considered to be <code>abort</code>;
if it is <code>optional</code>,
then the value must be considered to be <code>warn</code>;
otherwise, if it is <code>prohibited</code>,
then the value must be considered to be <code>ignore</code>.</p>
<p>A <att>ttp:validationAction</att> attribute is considered to be significant only
when specified on the <el>tt</el> element.</p>
</div3>
</div2> <!-- profile-attribute-vocabulary -->
</div1> <!-- profiles -->
<div1 id="parameter">
<head>Parameter</head>
<p>This section specifies the <emph>parameter</emph> matter of the
core vocabulary catalog, where
parameters are to be understood as information that is either (1)
essential or (2) of significant importance for the purpose of
interpreting the semantics of other types of information expressed by
core vocabulary items or for establishing a <loc href="#terms-document-processing-context">document processing context</loc> by means
of which TTML Content can be related to an external environment.</p>
<div2 id="parameter-element-vocabulary">
<head>Parameter Element Vocabulary</head>
<p>No parameter element vocabulary is defined in this specification.</p>
</div2>
<div2 id="parameter-attribute-vocabulary">
<head>Parameter Attribute Vocabulary</head>
<p>The following attributes are defined in the TT Parameter Namespace.</p>
<ulist>
<item><p><specref ref="parameter-attribute-cellResolution"/></p></item>
<item><p><specref ref="parameter-attribute-clockMode"/></p></item>
<item><p><specref ref="parameter-attribute-displayAspectRatio"/></p></item>
<item><p><specref ref="parameter-attribute-dropMode"/></p></item>
<item><p><specref ref="parameter-attribute-frameRate"/></p></item>
<item><p><specref ref="parameter-attribute-frameRateMultiplier"/></p></item>
<item><p><specref ref="parameter-attribute-markerMode"/></p></item>
<item><p><specref ref="parameter-attribute-pixelAspectRatio"/></p></item>
<item><p><specref ref="parameter-attribute-subFrameRate"/></p></item>
<item><p><specref ref="parameter-attribute-tickRate"/></p></item>
<item><p><specref ref="parameter-attribute-timeBase"/></p></item>
</ulist>
<div3 id="parameter-attribute-cellResolution">
<head>ttp:cellResolution</head>
<p>The <att>ttp:cellResolution</att> attribute may be used by an author
to express the number of horizontal and vertical cells into which the <loc href="#terms-root-container-region">root container region</loc>
area is divided for the purpose of expressing presentation semantics in terms of
a uniform grid.</p>
<p>If specified, the value of this attribute must adhere to the following syntax:</p>
<table id="parameter-attribute-cellResolution-syntax" role="syntax">
<caption>Syntax Representation &ndash; ttp:cellResolution</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
ttp:cellResolution
  : columns <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> rows                     // <emph>columns</emph> != 0; <emph>rows</emph> != 0

columns | rows
  : <loc href="#style-value-non-negative-integer">&lt;non-negative-integer&gt;</loc>
</eg>
</td>
</tr>
</tbody>
</table>
<p>If not specified, the number of columns and rows must be considered
to be 32 and 15, respectively. If specified, then columns or rows must not be zero (0).</p>
<note role="motivation">
<p>The choice of values 32 and 15 are based on this being the
maximum number of columns and rows defined by <bibref
ref="cta608e"/>.</p>
</note>
<p>A <att>ttp:cellResolution</att> attribute is considered to be significant only
when specified on the <el>tt</el> element.</p>
<note role="explanation">
<p>The use of a uniform grid is employed only for the purpose of
measuring lengths and expressing coordinates. In particular, it is not
assumed that the presentation of text or the alignment of individual
<loc href="#terms-glyph-area">glyph areas</loc> is
coordinated with this grid. Such alignment is possible, but
requires the use of a monospaced font and a font size whose EM square exactly
matches the cell size.</p>
</note>
<p>Except where indicated otherwise, when a <loc href="#style-value-length">&lt;length&gt;</loc> expressed in
cells denotes a dimension parallel to the inline or block progression dimension,
the cell&apos;s dimension in the inline or block progression dimension applies, respectively.</p>
<note role="example">
<p>For example, if padding (on all four edges) is specified as 0.1c, the cell resolution
is 20 by 10, and the extent of the <loc href="#terms-root-container-region">root container region</loc> is 640 by 480, then, assuming top to bottom,
left to right writing mode, the start and end padding will be (640 / 20) * 0.1 pixels and the
before and after padding will be (480 / 10) * 0.1 pixels.</p>
</note>
</div3>
<div3 id="parameter-attribute-clockMode">
<head>ttp:clockMode</head>
<p>The <att>ttp:clockMode</att> attribute is used to specify the
interpretation of time expressions as real-time time coordinates when
operating with time base of <code>clock</code> as defined by <specref
ref="parameter-attribute-timeBase"/>.</p>
<note role="explanation">
<p>See <specref ref="timing-time-value-expressions"/> for the
specification of time expression syntax and semantics.</p>
</note>
<p>If specified, the value of this attribute must adhere to the following syntax:</p>
<table id="parameter-attribute-clockMode-syntax" role="syntax">
<caption>Syntax Representation &ndash; ttp:clockMode</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
ttp:clockMode
  : "local"
  | "gps"
  | "utc"
</eg>
</td>
</tr>
</tbody>
</table>
<p>If the time base, defined by <specref
ref="parameter-attribute-timeBase"/>, is designated as
<code>clock</code>, then this parameter applies as follows: if the
parameter&apos;s value is <code>local</code>, then time expressions are
interpreted as local wall-clock time (and date) coordinates;
if <code>utc</code>, then time expressions are
interpreted as UTC time coordinates
<bibref ref="utc"/>;
if <code>gps</code>, then time expressions are
interpreted as GPS time coordinates
<bibref ref="gps"/>.</p>
<note role="elaboration">
<p>No specific timezone is implied by time (and date) expressions when
<code>local</code> clock mode applies. In particular, a <loc href="#terms-content-processor">content processor</loc>
is expected to interpret a local time (and date) expression in the local timezone, wherever processing takes place.
If an author intends that time (and date) expressions be fixed to a specific time zone, then they may convert time (and date)
expressions to UTC and specify use of the <code>utc</code> clock mode.</p>
</note>
<note role="explanation">
<p>The primary difference between GPS time and UTC time is that GPS
time is not adjusted for leap seconds, while UTC time is adjusted as
follows: UTC = TAI (<emph>Temp Atomique International</emph>) + <emph>leap seconds
accumulated since 1972</emph>. TAI is maintained by the <emph>Bureau
International des Poids et Mesures</emph> (BIPM) in Sevres, France.
The GPS system time is steered to a Master Clock (MC) at the US Naval
Observatory which is kept within a close but unspecified
tolerance of TAI.</p>
</note>
<p>If not specified, the value of this parameter must be considered
to be <code>utc</code>.</p>
<p>A <att>ttp:clockMode</att> attribute is considered to be significant only
when specified on the <el>tt</el> element.</p>
</div3>
<div3 id="parameter-attribute-displayAspectRatio">
<head>ttp:displayAspectRatio</head>
<p>The <att>ttp:displayAspectRatio</att> attribute is used to specify the <loc href="#terms-display-aspect-ratio">display aspect ratio</loc> of the <loc href="#terms-root-container-region">root container region</loc> as elaborated in <specref ref="root-container-region-semantics"/>.</p>
<p>If specified, the value of this attribute must adhere to the following syntax:</p>
<table id="parameter-attribute-displayAspectRatio-syntax" role="syntax">
<caption>Syntax Representation &ndash; ttp:displayAspectRatio</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
ttp:displayAspectRatio
  : numerator <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> denominator            // <emph>numerator</emph> != 0; <emph>denominator</emph> != 0

numerator | denominator
  : <loc href="#style-value-non-negative-integer">&lt;non-negative-integer&gt;</loc>
</eg>
</td>
</tr>
</tbody>
</table>
<p>If specified, then both numerator and denominator must be non-zero. If not specified, then the display aspect ratio of
the <loc href="#terms-root-container-region">root container region</loc> is determined by <specref ref="root-container-region-semantics"/>.</p>
<p>A <att>ttp:displayAspectRatio</att> attribute is considered to be significant only
when specified on the <el>tt</el> element.</p>
</div3>
<div3 id="parameter-attribute-dropMode">
<head>ttp:dropMode</head>
<p>The <att>ttp:dropMode</att> attribute is used to specify
constraints on the interpretation and use of frame counts
that correspond with <bibref ref="smpte12"/> time coordinates when operating
with time base of <code>smpte</code> as defined by
<specref ref="parameter-attribute-timeBase"/>.</p>
<p>If specified, the value of this attribute must adhere to the following syntax:</p>
<table id="parameter-attribute-dropMode-syntax" role="syntax">
<caption>Syntax Representation &ndash; ttp:dropMode</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
ttp:dropMode
  : "dropNTSC"
  | "dropPAL"
  | "nonDrop"
</eg>
</td>
</tr>
</tbody>
</table>
<p>If the time base, defined by <specref
ref="parameter-attribute-timeBase"/>, is designated as
<code>smpte</code>, then this parameter applies as follows: if the
parameter&apos;s value is <code>nonDrop</code>, then, within any given
second of a time expression, frames count from 0 to
<emph>N&minus;1</emph>, where <emph>N</emph> is the value specified by
the <att>ttp:frameRate</att> parameter, but while ignoring any value
specified by the <att>ttp:frameRateMultiplier</att> parameter.</p>
<note role="clarification"> <p>When operating in <code>nonDrop</code>
mode, a second of a time expression may or may not be equal to a
second of real time during normal (1x speed) forward playback. If the
<att>ttp:frameRateMultiplier</att> parameter is specified and is not
equal to 1:1, then a second of a time expression will either be
shorter or longer than a second of elapsed play in real
time.</p></note>
<p>If this parameter&apos;s value is <code>dropNTSC</code>, then, within any
given second of a time expression except the second <code>00</code>,
frames count from 0 to <emph>N&minus;1</emph>, where <emph>N</emph> is
the value specified by the <att>ttp:frameRate</att> parameter, but
while ignoring any value specified by the
<att>ttp:frameRateMultiplier</att> parameter. If the second of a time
expression is <code>00</code> and the minute of the time expression is
not <code>00</code>, <code>10</code>, <code>20</code>, <code>30</code>,
<code>40</code>, or <code>50</code>, then frame codes <code>00</code>
and <code>01</code> are dropped during that second; otherwise, these
frame codes are not dropped.</p>
<note role="example"> <p>For example, when operating in <code>dropNTSC</code>
mode with <att>ttp:frameRate</att> of <code>30</code>, a discontinuity
in frame count occurs between consecutive frames as shown in the
following sequence of time expressions: <code>01:08:59:28</code>,
<code>01:08:59:29</code>, <code>01:09:00:02</code>,
<code>01:09:00:03</code>.</p></note>
<p>If this parameter&apos;s value is <code>dropPAL</code>, then, within any
given second of a time expression except the second <code>00</code>,
frames count from 0 to <emph>N&minus;1</emph>, where <emph>N</emph> is
the value specified by the <att>ttp:frameRate</att> parameter, but
while ignoring any value specified by the
<att>ttp:frameRateMultiplier</att> parameter. If the second of a time
expression is <code>00</code> and the minute of the time expression is
even but not <code>00</code>, <code>20</code>, or <code>40</code>,
then frame codes <code>00</code> through <code>03</code> are dropped
during that second; otherwise, these frame codes are not dropped.</p>
<note role="example"><p>For example, when operating in <code>dropPAL</code>
mode with <att>ttp:frameRate</att> of <code>30</code>, a discontinuity
in frame count occurs between consecutive frames as shown in the
following sequence of time expressions: <code>01:09:59:28</code>,
<code>01:09:59:29</code>, <code>01:10:00:04</code>,
<code>01:10:00:05</code>.</p></note>
<note role="explanation">
<p>The <code>dropPAL</code> mode is also known as the
<emph>M/PAL</emph> or <emph>PAL (M)</emph> drop-frame
code, which uses PAL modulation with the NTSC frame rate of ~29.97
frames/second. The M/PAL system is used primarily in Brazil.</p>
</note>
<p>If not specified, then <code>nonDrop</code> must be assumed to apply.</p>
<p>A <att>ttp:dropMode</att> attribute is considered to be significant only
when specified on the <el>tt</el> element.</p>
</div3>
<div3 id="parameter-attribute-frameRate">
<head>ttp:frameRate</head>
<p>The <att>ttp:frameRate</att> attribute is used to specify the frame rate of a related
media object or the intrinsic frame rate of a <loc href="#terms-document-instance">document instance</loc> in case it is intended
to function as an independent media object.</p>
<p>If specified, the value of this attribute must adhere to the following syntax:</p>
<table id="parameter-attribute-frameRate-syntax" role="syntax">
<caption>Syntax Representation &ndash; ttp:frameRate</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
ttp:frameRate
  : <loc href="#style-value-non-negative-integer">&lt;non-negative-integer&gt;</loc>                                // <emph>value</emph> > 0
</eg>
</td>
</tr>
</tbody>
</table>
<p>The frame rate that applies to a <loc href="#terms-document-instance">document instance</loc> is used to
interpret time expressions that are expressed in <emph>frames</emph>
as defined by <specref ref="timing-value-time-expression"/>.</p>
<p>If the <code>media</code> time base applies and the effective frame rate is
integral, then a frame is interpreted as a division of a second of media
time, such that if the frame rate is specified as <emph>F</emph>, then
a second of media time is divided into <emph>F</emph> intervals of
equal duration, where each interval is labeled as frame <emph>f</emph>,
with <emph>f</emph> &isin; [0&hellip;<emph>F&minus;1</emph>].</p>
<note role="elaboration">
<p>See <specref ref="time-expression-semantics-media"/> for further details
on the interpretation of time expressions for the <code>media</code> time base.</p>
</note>
<p>If not specified, the frame rate must be considered to be equal to some
application defined frame rate, or if no application defined frame rate applies,
then thirty (30) frames per second. If specified, then the frame rate must
be greater than zero (0).</p>
<p>A <att>ttp:frameRate</att> attribute is considered to be significant only
when specified on the <el>tt</el> element.</p>
</div3>
<div3 id="parameter-attribute-frameRateMultiplier">
<head>ttp:frameRateMultiplier</head>
<p>The <att>ttp:frameRateMultiplier</att> attribute is used to
specify a multiplier to be applied to the frame rate specified by a
<att>ttp:frameRate</att> attribute in order to compute the effective
frame rate.</p>
<p>If specified, the value of this attribute must adhere to the following syntax:</p>
<table id="parameter-attribute-frameRateMultiplier-syntax" role="syntax">
<caption>Syntax Representation &ndash; ttp:frameRateMultiplier</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
ttp:frameRateMultiplier
  : numerator <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> denominator            // <emph>numerator</emph> != 0; <emph>denominator</emph> != 0

numerator | denominator
  : <loc href="#style-value-non-negative-integer">&lt;non-negative-integer&gt;</loc>
</eg>
</td>
</tr>
</tbody>
</table>
<p>A frame rate multiplier is used when the desired frame rate cannot
be expressed as an integral number of frames per second.</p>
<p>If not specified, the frame rate multiplier must be considered to be equal to some application defined frame rate multiplier, 
or if no application defined frame rate multiplier applies, then one (1:1). Both numerator and denominator must be non-zero.</p>
<p>A <att>ttp:frameRateMultiplier</att> attribute is considered to be significant only
when specified on the <el>tt</el> element.</p>
<note role="example">
<p>The frame rate multiplier used for synchronizing with NTSC <bibref
ref="smpte170m"/>
formatted video objects at 30 frames per second is nominally
1000:1001. The nominal frame rate of NTSC video is defined as the chrominance
sub-carrier frequency of 3,579,545.45&hellip;Hz (= 5.0MHz &mult; 63/88) times the ratio 2/455 divided by
the number of horizontal lines per frame of 525, which yields a frame
rate of 29.970029970029&hellip; (= 30 &mult; 1000/1001) frames per
second. Other frame rate multipliers apply to different regions of
usage and video format standards.</p>
</note>
<note role="example">
<p>Except in the case of PAL/M, the frame rate multiplier used for synchronizing with PAL
formatted video objects at 25 frames per second is nominally 1:1.</p>
</note>
</div3>
<div3 id="parameter-attribute-markerMode">
<head>ttp:markerMode</head>
<p>The <att>ttp:markerMode</att> attribute is used to specify
constraints on the interpretation and use of time expressions
that correspond with <bibref ref="smpte12"/> time coordinates when operating
with time base of <code>smpte</code> as defined by
<specref ref="parameter-attribute-timeBase"/>.</p>
<p>If specified, the value of this attribute must adhere to the following syntax:</p>
<table id="parameter-attribute-markerMode-syntax" role="syntax">
<caption>Syntax Representation &ndash; ttp:markerMode</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
ttp:markerMode
  : "continuous"
  | "discontinuous"
</eg>
</td>
</tr>
</tbody>
</table>
<p>If the time base, defined by <specref
ref="parameter-attribute-timeBase"/>, is designated as
<code>smpte</code>, then this parameter applies as follows: if the
parameter&apos;s value is <code>continuous</code>, then <bibref ref="smpte12"/> time coordinates
may be assumed to be linear and either monotonically increasing or
decreasing; however, if <code>discontinuous</code>, then any assumption
must not be made regarding linearity or monotonicity of time coordinates.</p>
<p>If not specified, the value of this parameter must be considered
to be <code>discontinuous</code>.</p>
<note role="historical">
<p>The default value for this parameter was originally specified
(in <xspecref href="https://www.w3.org/TR/2010/REC-ttaf1-dfxp-20101118/">TTML 1.0 First Edition</xspecref>)
as <code>continuous</code>; however, further evaluation of the state of the industry indicated this
choice was incorrect, and that the most common default is <code>discontinuous</code>.</p>
</note>
<p>A <att>ttp:markerMode</att> attribute is considered to be significant only
when specified on the <el>tt</el> element.</p>
<p>If a value of <code>continuous</code> applies, then time
expressions may be converted to real time
coordinates by taking into account the computed frame rate
and drop mode as expressed by the <att>ttp:dropMode</att> parameter.
In this case, the <loc href="#terms-content-processor">content processor</loc> must create and maintain a
<loc href="#terms-synthetic-smpte-document-syncbase">synthetic smpte document syncbase</loc> within which these time
expressions are interpreted as further described in
<specref ref="semantics-timing"/>.</p>
<note role="explanation">
<p>When operating with <code>smpte</code> time base and
<code>continuous</code> marker mode, there is an implied time coordinate
space, the <loc href="#terms-synthetic-smpte-document-syncbase">synthetic smpte document syncbase</loc>,
defined by the monotonically increasing (or decreasing) 
<bibref ref="smpte12"/> time coordinates, while taking into account
the computed frame rate and drop mode. All time expressions are interpreted
in relationship to this time coordinate space based upon
<loc href="#terms-smpte-time-code">smpte time code</loc> synchronization events (markers),
where the <loc href="#terms-document-processing-context">document processing context</loc> emits these events with implied constraints
regarding time coordinate monotonicity and resynchronization in
the presence of dropped frames.</p>
<p>Use of <code>continuous</code> marker mode with the <code>smpte</code>
time base is different from using the <code>media</code> time base
because (1) the semantics of the <att>ttp:dropMode</att> parameter
apply to the former, but not the latter, and (2) <bibref ref="smpte12"/>
time coordinates may be applied monotonically to media which has been
subjected to dilation in time, constriction in time, or reversal in
time.</p>
</note>
<p>If a value of <code>discontinuous</code> applies, then time
expressions must not be converted to real time
coordinates, arithmetical operators (addition, multiplication) are not
defined on time expressions, and, consequently, any (well-formed)
expression of a duration must be considered to be invalid.</p>
<note role="explanation">
<p>When operating with <code>smpte</code> time base and
<code>discontinuous</code> marker mode, there is no effective time coordinate
space; rather, all time expressions are interpreted as labeled
synchronization events (markers), where the <loc href="#terms-document-processing-context">document processing context</loc>
emits these events, which, when they correspond with time
expressions that denote the same label, cause a temporal interval to
begin or end accordingly.</p>
<p>An additional side-effect of operating in <code>discontinuous</code>
mode is that time expressions of children have no necessary
relationship with time expressions of their temporal container; that
is, temporal containers and children of these containers are
temporally activated and inactivated independently based on the
occurrence of a labeled synchronization (marker) event.</p>
</note>
<note role="elaboration">
<p>The comparison of a <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc>
and a labeled synchronization event (marker) is considered to be implementation dependent.
In particular, this specification does not require an implementation to make use of a specific internal format for
time expressions or markers or a specific comparison algorithm. Nevertheless, it is expected that implementations
will respect the semantics of time expressions and any implied semantics that apply to marker labels when
performing such a comparison.</p>
</note>
<note role="explanation">
<p>The notion of marker discontinuity as captured by this parameter
is logically independent from the method used to count frames as
expressed by the <att>ttp:dropMode</att> parameter. In particular,
even if the <att>ttp:dropMode</att> parameter is specified as
<code>dropNTSC</code> or <code>dropPAL</code>, the marker mode may be
specified as <code>continuous</code>, even in the presence of frame count
discontinuities induced by the frame counting method, unless there
were some other non-linearity or discontinuity in marker labeling, for
example, two consecutive frames labeled as <code>10:00:00:00</code>
and <code>10:00:01:00</code>.
</p>
</note>
</div3>
<div3 id="parameter-attribute-pixelAspectRatio">
<head>ttp:pixelAspectRatio</head>
<p>The <att>ttp:pixelAspectRatio</att> attribute is used to specify the <loc href="#terms-pixel-aspect-ratio">pixel aspect ratio</loc> of the <loc href="#terms-root-container-region">root container region</loc> as elaborated in <specref ref="root-container-region-semantics"/></p>
<p>If specified, the value of this attribute must adhere to the following syntax:</p>
<table id="parameter-attribute-pixelAspectRatio-syntax" role="syntax">
<caption>Syntax Representation &ndash; ttp:pixelAspectRatio</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
ttp:pixelAspectRatio
  : numerator <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> denominator            // <emph>numerator</emph> != 0; <emph>denominator</emph> != 0

numerator | denominator
  : <loc href="#style-value-non-negative-integer">&lt;non-negative-integer&gt;</loc>
</eg>
</td>
</tr>
</tbody>
</table>
<p>If specified, then both numerator and denominator must be non-zero. If not specified, then the pixel aspect ratio of
the <loc href="#terms-root-container-region">root container region</loc> is determined by <specref ref="root-container-region-semantics"/>.</p>
<p>A <att>ttp:pixelAspectRatio</att> attribute is considered to be significant only
when specified on the <el>tt</el> element.</p>
<p>The <att>ttp:pixelAspectRatio</att> attribute should not be specified
unless a <loc href="#style-attribute-extent"><att>tts:extent</att></loc> attribute consisting
of two <loc href="#style-value-length">&lt;length&gt;</loc> specifications using <code>px</code> (pixel) units is also
specified on the <loc href="#document-structure-vocabulary-tt"><el>tt</el></loc> element,
<phrase role="deprecated">without which the use of a <att>ttp:pixelAspectRatio</att> attribute is deprecated</phrase>.</p>
</div3>
<div3 id="parameter-attribute-subFrameRate">
<head>ttp:subFrameRate</head>
<p>The <att>ttp:subFrameRate</att> attribute is used to specify the sub-frame rate of a related
media object or the intrinsic sub-frame rate of a <loc href="#terms-document-instance">document instance</loc> in case it is intended
to function as an independent media object.</p>
<p>If specified, the value of this attribute must adhere to the following syntax:</p>
<table id="parameter-attribute-subFrameRate-syntax" role="syntax">
<caption>Syntax Representation &ndash; ttp:subFrameRate</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
ttp:subFrameRate
  : <loc href="#style-value-non-negative-integer">&lt;non-negative-integer&gt;</loc>                                // <emph>value</emph> > 0
</eg>
</td>
</tr>
</tbody>
</table>
<p>The sub-frame rate that applies to a <loc href="#terms-document-instance">document instance</loc> is used to
interpret time expressions that are expressed in <emph>sub-frames</emph>
as defined by <specref ref="timing-value-time-expression"/>.</p>
<p>If the <code>media</code> time base applies and the effective frame rate is
integral, a sub-frame is interpreted as a division of a frame of media
time, such that if the sub-frame rate is specified as <emph>S</emph>, then
a frame of media time is divided into <emph>S</emph> intervals of
equal duration, where each interval is labeled as sub-frame <emph>s</emph>,
with <emph>s</emph> &isin; [0&hellip;<emph>S&minus;1</emph>].</p>
<note role="elaboration">
<p>See <specref ref="time-expression-semantics-media"/> for further details
on the interpretation of time expressions for the <code>media</code> time base.</p>
</note>
<p>If not specified, the sub-frame rate must be considered to be equal to some application defined sub-frame rate, or if no application defined 
sub-frame rate applies, then one (1). If specified, then the sub-frame rate must be greater than zero (0).</p>
<p>A <att>ttp:subFrameRate</att> attribute is considered to be significant only
when specified on the <el>tt</el> element.</p>
<note role="clarification">
<p>The sub-frame is sometimes referred to as a <emph>field</emph> in
the context of synchronization with an interlaced video media object.</p>
</note>
</div3>
<div3 id="parameter-attribute-tickRate">
<head>ttp:tickRate</head>
<p>The <att>ttp:tickRate</att> attribute is used to specify the tick rate of a related
media object or the intrinsic tick rate of content of a <loc href="#terms-document-instance">document instance</loc> in case it is intended
to function as an independent media object.</p>
<p>If specified, the value of this attribute must adhere to the following syntax:</p>
<table id="parameter-attribute-tickRate-syntax" role="syntax">
<caption>Syntax Representation &ndash; ttp:tickRate</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
ttp:tickRate
  : <loc href="#style-value-non-negative-integer">&lt;non-negative-integer&gt;</loc>                                // <emph>value</emph> > 0
</eg>
</td>
</tr>
</tbody>
</table>
<p>The tick rate that applies to a <loc href="#terms-document-instance">document instance</loc> is used to
interpret time expressions that are expressed in <emph>ticks</emph> by
using the <code>t</code> metric as defined by <specref
ref="timing-value-time-expression"/>.</p>
<p>If the <code>media</code> time base applies,
a tick is interpreted as an integral division of a second of media
time, such that if the tick rate is specified as <emph>T</emph>, then
a second of media time is divided into <emph>T</emph> intervals of
equal duration, where each interval is labeled as tick <emph>t</emph>,
with <emph>t</emph> &isin; [0&hellip;<emph>T&minus;1</emph>].</p>
<note role="elaboration">
<p>See <specref ref="time-expression-semantics-media"/> for further details
on the interpretation of time expressions for the <code>media</code> time base.</p>
</note>
<p>If not specified, then if a frame rate is specified, the tick rate
must be considered to be the effective frame rate multiplied by the
sub-frame rate (i.e., ticks are interpreted as sub-frames); or, if no
frame rate is specified, the tick rate must be considered to be one (1)
tick per second of media time. If specified, then the tick rate
must not be zero (0).</p>
<note role="clarification">
<p>There is no predefined relationship between ticks and frames or
sub-frames. Ticks are an arbitrary division of seconds that permit
use of fixed point arithmetic rather than fractional (and potentially
inexact) expressions of seconds.</p>
</note>
<p>A <att>ttp:tickRate</att> attribute is considered to be significant only
when specified on the <el>tt</el> element.</p>
</div3>
<div3 id="parameter-attribute-timeBase">
<head>ttp:timeBase</head>
<p>The <att>ttp:timeBase</att> attribute is used to specify the
<loc href="#terms-document-temporal-coordinate-space">document temporal coordinate space</loc>.</p>
<p>If specified, the value of this attribute must adhere to the following syntax:</p>
<table id="parameter-attribute-timeBase-syntax" role="syntax">
<caption>Syntax Representation &ndash; ttp:timeBase</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
ttp:timeBase
  : "media"
  | "smpte"
  | "clock"
</eg>
</td>
</tr>
</tbody>
</table>
<p>If the time base is designated as <code>media</code>, then a time
expression denotes a coordinate in some media object&apos;s time line,
where the media object may be an external media object with which the
content of a <loc href="#terms-document-instance">document instance</loc> is to be synchronized, or it may
be the content of a <loc href="#terms-document-instance">document instance</loc> itself in a case where
the timed text content is intended to establish an independent time
line.</p>
<note role="explanation">
<p>When using a media time base, if that time base is paused or
scaled positively or negatively, i.e., the media play rate is
not unity, then it is expected that the
presentation of associated Timed Text content will be similarly
paused, accelerated, or decelerated, respectively. The means for
controlling an external
media time base is outside the scope of this specification.</p>
</note>
<p>If the time base is designated as <code>smpte</code>,
then a time expression denotes a <bibref ref="smpte12"/> time
coordinate with which the content of a <loc href="#terms-document-instance">document instance</loc> is to
be synchronized.  In this case, the value of the <att>ttp:markerMode</att> 
and <att>ttp:dropMode</att> parameters apply, as defined by <specref
ref="parameter-attribute-markerMode"/> and <specref
ref="parameter-attribute-dropMode"/>, respectively.</p>
<note role="explanation">
<p>When the time base is designated as <code>smpte</code>,
every time expression denotes a media marker value akin to that
defined by <bibref ref="smil3"/>, &sect;5.4.3, except instead
of using an opaque marker name, a structured <bibref ref="smpte12"/>
time coordinate serves as the marker name.</p>
</note>
<p>If the time base is designated as <code>clock</code>, then the time
expression denotes a coordinate in some real-world time line as
established by some real-time clock, such as the local wall-clock time
or UTC (Coordinated Universal Time) or GPS (Global Positioning System)
time lines.</p>
<p>If not specified, the default time base must be considered to be
<code>media</code>.</p>
<p>A <att>ttp:timeBase</att> attribute is considered to be significant only
when specified on the <el>tt</el> element.</p>
<p>When operating with either <code>media</code> or <code>smpte</code>
time bases, a diachronic presentation of a <loc href="#terms-document-instance">document instance</loc> may
be subject to transformations of the controlling time line, such as
temporal reversal, dilation (expansion), or constriction
(compression); however, when operating with the <code>clock</code>
time base, no transformations are permitted, and diachronic
presentation proceeds on a linear, monotonically increasing time line
based on the passage of real time.</p>
<note role="example">
<p>Due to there being only one time base parameter that applies to a
given <loc href="#terms-document-instance">document instance</loc>, the interpretation of time expressions
is uniform throughout the <loc href="#terms-document-instance">document instance</loc>.</p>
</note>
<note role="elaboration">
<p>See <specref ref="time-expression-semantics"/> for further details
on the interpretation of time expressions according to the designated time base.</p>
</note>
</div3>
</div2> <!-- parameter-attribute-vocabulary -->
</div1> <!-- parameter -->
<div1 id="content">
<head>Content</head>
<p>This section specifies the <emph>content</emph> matter of the core
vocabulary catalog.</p>
<div2 id="content-element-vocabulary">
<head>Content Element Vocabulary</head>
<p>The following elements specify the structure and principal content aspects of a
<loc href="#terms-document-instance">document instance</loc>:</p>
<ulist>
<item><p><specref ref="document-structure-vocabulary-tt"/></p></item>
<item><p><specref ref="document-structure-vocabulary-head"/></p></item>
<item><p><specref ref="document-structure-vocabulary-body"/></p></item>
<item><p><specref ref="content-vocabulary-div"/></p></item>
<item><p><specref ref="content-vocabulary-p"/></p></item>
<item><p><specref ref="content-vocabulary-span"/></p></item>
<item><p><specref ref="content-vocabulary-br"/></p></item>
</ulist>
<note role="explanation">
<p>The sub-sections of this section are ordered logically (from highest to lowest level construct).</p>
</note>
<div3 id="document-structure-vocabulary-tt">
<head>tt</head>
<p>The <el>tt</el> element serves as the root document element of a <loc href="#terms-document-instance">document instance</loc>.</p>
<p>The <el>tt</el> element accepts as its children zero or one <el>head</el> element followed by
zero or one <el>body</el> element.</p>
<table id="elt-syntax-tt" role="syntax">
<caption>XML Representation &ndash; Element Information Item: tt</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;tt
  <loc href="#style-attribute-extent">tts:extent</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  <loc href="#content-attribute-xml-base">xml:base</loc> = <loc href="#content-value-uri">&lt;uri&gt;</loc>
  <loc href="#content-attribute-xml-id">xml:id</loc> = ID
  <loc href="#content-attribute-xml-lang"><phrase role="reqattr">xml:lang</phrase></loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  <loc href="#content-attribute-xml-space">xml:space</loc> = (<emph>"default"</emph> | <emph>"preserve"</emph>) : default
  {<emph>any attributes in TT Parameter Namespace</emph>}
  <emph>Content:</emph> <loc href="#document-structure-vocabulary-head">head</loc>?, <loc href="#document-structure-vocabulary-body">body</loc>?
&lt;/tt&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>The <loc href="#terms-root-temporal-extent">root temporal extent</loc> has an implicit duration that is equal to the
implicit duration of the <el>body</el> element of the document, if the <el>body</el> element is present, or zero, if the <el>body</el> element is absent.</p>
<p>If the <loc href="#style-attribute-extent"><att>tts:extent</att></loc> attribute is specified on the <el>tt</el>
element, then it must adhere to <specref ref="style-attribute-extent"/>, in which case it
specifies the <termref def="defs-spatial-extent">spatial extent</termref> of the <loc href="#terms-root-container-region">root container region</loc> in
which <loc href="#terms-content-region">content regions</loc> are located and presented. If no <att>tts:extent</att>
attribute is specified, then the <termref def="defs-spatial-extent">spatial extent</termref> of the
<loc href="#terms-root-container-region">root container region</loc> is determined by rules specified in <specref ref="root-container-region-semantics"/>.
The origin of the <loc href="#terms-root-container-region">root container region</loc> is determined by the <loc href="#terms-document-processing-context">document processing context</loc>.</p>
<note role="clarification">
<p>In the absence of other requirements, and if a <loc href="#terms-related-media-object">related media object</loc> exists, then it is recommended
that the <loc href="#terms-document-processing-context">document processing context</loc> determine that:</p>
<ulist>
<item><p>the origin of the <loc href="#terms-root-container-region">root container region</loc> be established so that this region is centered in the
<loc href="#terms-related-media-object-region">related media object region</loc>.</p></item>
</ulist>
</note>
<note role="elaboration">
<p>If an author desires to signal the (storage or image) aspect ratio of the <loc href="#terms-root-container-region">root container region</loc>
without specifying its resolution, then this may be accomplished by using
the <loc href="#parameter-attribute-displayAspectRatio"><att>ttp:displayAspectRato</att></loc> parameter attribute.</p>
</note>
<p>An <att>xml:lang</att> attribute must be specified on the <el>tt</el> element.
If the attribute value is empty, it signifies that there is no default language that applies
to the text contained within the <loc href="#terms-document-instance">document instance</loc>.</p>
<p>If no <att>xml:space</att> attribute is specified upon the <el>tt</el> element, then it must
be considered as if the attribute had been specified with a value of <code>default</code>.</p>
</div3>
<div3 id="document-structure-vocabulary-head">
<head>head</head>
<p>The <el>head</el> element is a container element used to group header matter, including metadata,
profile, embedded content resources, styling, and layout information.</p>
<p>The <el>head</el> element accepts as its children zero or more
elements in the <loc href="#element-vocab-group-metadata"><code>Metadata.class</code></loc> element group,
followed by zero or more elements in the
<loc href="#element-vocab-group-profile"><code>Profile.class</code></loc> element group,
followed by zero or one <loc href="#embedded-content-vocabulary-resources"><el>resources</el></loc> element,
followed by zero or one <loc href="#styling-vocabulary-styling"><el>styling</el></loc> element,
followed by zero or one <loc href="#layout-vocabulary-layout"><el>layout</el></loc> element,
followed by zero or one <loc href="#animation-vocabulary-animation"><el>animation</el></loc> element.</p>
<p>Any metadata specified by children in the <loc href="#element-vocab-group-metadata"><code>Metadata.class</code></loc>
element group applies semantically to the <loc href="#terms-document-instance">document instance</loc> as a
whole, and not just the <el>head</el> element.</p>
<p>Any parameters specified by children in the <code>Parameters.class</code>
element group applies semantically to the <loc href="#terms-document-instance">document instance</loc> as a
whole, and not just the <el>head</el> element.</p>
<p>A <el>resources</el> child element is used to specify embedded content constructs
that are referenced from certain style constructs and
<loc href="#terms-embedded-content-element">embedded content elements</loc>.</p>
<p>A <el>styling</el> child element is used to specify style constructs
that are referenced from other style constructs, by layout constructs, and by
<loc href="#terms-content-element">content elements</loc>.</p>
<p>A <el>layout</el> child element is used to specify layout constructs that
are referenced by <loc href="#terms-content-element">content elements</loc>.</p>
<p>An <el>animation</el> child element is used to specify animation constructs that
target animatable <loc href="#terms-content-element">content element</loc>
or <loc href="#element-vocab-type-layout">Layout</loc> elements.</p>
<table id="elt-syntax-head" role="syntax">
<caption>XML Representation &ndash; Element Information Item: head</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;head
  <loc href="#content-attribute-xml-base">xml:base</loc> = <loc href="#content-value-uri">&lt;uri&gt;</loc>
  <loc href="#content-attribute-xml-id">xml:id</loc> = ID
  <loc href="#content-attribute-xml-lang">xml:lang</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  <loc href="#content-attribute-xml-space">xml:space</loc> = (<emph>"default"</emph> | <emph>"preserve"</emph>)
  <emph>Content:</emph> <loc href="#element-vocab-group-metadata">Metadata.class</loc>*, <loc href="#element-vocab-group-profile">Profile.class</loc>*, <loc href="#embedded-content-vocabulary-resources">resources</loc>?, <loc href="#styling-vocabulary-styling">styling</loc>?, <loc href="#layout-vocabulary-layout">layout</loc>?, <loc href="#animation-vocabulary-animation">animation</loc>?
&lt;/head&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>To the extent that time semantics apply to the content of the
<el>head</el> element, the implied time interval of this element is
defined to be coterminous with the <loc href="#terms-root-temporal-extent">root temporal extent</loc>.</p>
</div3>
<div3 id="document-structure-vocabulary-body">
<head>body</head>
<p>The <el>body</el> element functions as a logical container and a temporal
structuring element for a sequence of textual content units represented as
logical divisions.</p>
<p>The <el>body</el> element accepts as its children zero or more
elements in the <loc href="#element-vocab-group-metadata"><code>Metadata.class</code></loc> element group,
followed by zero or more
elements in the <loc href="#element-vocab-group-animation"><code>Animation.class</code></loc> element group,
followed by zero or more <el>div</el> or <loc href="#element-vocab-group-embedded"><code>Embedded.class</code></loc> element group elements.</p>
<p>Any metadata specified by children in the <loc href="#element-vocab-group-metadata"><code>Metadata.class</code></loc>
element group applies semantically to the <el>body</el> element and its descendants as a whole.</p>
<p>Any animation elements specified by children in the <loc href="#element-vocab-group-animation"><code>Animation.class</code></loc>
element group apply semantically to the <el>body</el> element.</p>
<table id="elt-syntax-body" role="syntax">
<caption>XML Representation &ndash; Element Information Item: body</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;body
  <loc href="#animation-attribute-animate">animate</loc> = IDREFS
  <loc href="#timing-attribute-begin">begin</loc> = <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc>
  <loc href="#content-attribute-condition">condition</loc> = <loc href="#content-value-condition">&lt;condition&gt;</loc>
  <loc href="#timing-attribute-dur">dur</loc> = <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc>
  <loc href="#timing-attribute-end">end</loc> = <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc>
  <loc href="#layout-attribute-region">region</loc> = IDREF
  <loc href="#style-attribute-style">style</loc> = IDREFS
  <loc href="#timing-attribute-timeContainer">timeContainer</loc> = (<emph>"par"</emph> | <emph>"seq"</emph>)
  <loc href="#content-attribute-xml-base">xml:base</loc> = <loc href="#content-value-uri">&lt;uri&gt;</loc>
  <loc href="#content-attribute-xml-id">xml:id</loc> = ID
  <loc href="#content-attribute-xml-lang">xml:lang</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  <loc href="#content-attribute-xml-space">xml:space</loc> = (<emph>"default"</emph> | <emph>"preserve"</emph>)
  {<emph>any attributes in TT Metadata Namespace</emph>}
  {<emph>any <loc href="#terms-styling-attribute">styling attributes</loc></emph>}
  <emph>Content:</emph> <loc
  href="#element-vocab-group-metadata">Metadata.class</loc>*, <loc
  href="#element-vocab-group-animation">Animation.class</loc>*, (<loc
  href="#content-vocabulary-div">div</loc>|<loc
  href="#element-vocab-group-embedded">Embedded.class</loc>)*
&lt;/body&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>An author may specify a temporal interval for a <el>body</el> element using
the <att>begin</att>, <att>dur</att>, and <att>end</att> attributes. If the begin point
of this interval remains unspecified, then the begin point is interpreted as the later of the beginning
point of the <loc href="#terms-document-temporal-coordinate-space">document temporal coordinate space</loc>
and the beginning point of the <loc href="#terms-root-temporal-extent">root temporal extent</loc>.
If the end point of this interval remains unspecified, then the
end point is interpreted as the ending point of the <loc href="#terms-root-temporal-extent">root temporal extent</loc>.</p>
<note role="explanation">
<p>A <loc href="#terms-document-instance">document instance</loc> referenced from a SMIL presentation
is expected to follow the same timing rules as apply to other SMIL media
objects.</p>
</note>
<p>If relative begin or end times are specified on the <el>body</el>
element, then these times are resolved by reference to the beginning 
of the <loc href="#terms-document-temporal-coordinate-space">document temporal coordinate space</loc>.</p>
<p>If the <loc href="#terms-root-temporal-extent">root temporal extent</loc> is shorter than the computed duration of the
<el>body</el> element, then the active time interval of a <el>body</el> element is
truncated to the active end point of the <loc href="#terms-root-temporal-extent">root temporal extent</loc>.</p>
<p>An author may associate a set of style properties with a
<el>body</el> element by means of either the <att>style</att>
attribute or inline style attributes or a combination thereof.</p>
<note role="explanation">
<p>Style properties that are associated with a <el>body</el> element
in a <loc href="#terms-document-instance">document instance</loc> are available for style inheritance by
descendant <loc href="#terms-content-element">content elements</loc>.</p>
</note>
<p>If no <att>timeContainer</att> attribute is specified on a
<el>body</el> element, then it must be interpreted as having
<emph>parallel</emph>
time containment semantics.</p>
</div3>
<div3 id="content-vocabulary-div">
<head>div</head>
<p>The <el>div</el> element functions as a logical container and a temporal
structuring element for a sequence of textual content units represented as
logical sub-divisions or paragraphs.</p>
<note role="explanation">
<p>When rendered on a continuous (non-paged) visual presentation medium,
a <el>div</el> element is expected to generate
one or more block
areas
that contain zero or more child block areas
generated by the <el>div</el> element&apos;s
descendant
<el>p</el> elements.
</p>
<p>If some
block area generated by a <el>div</el> element does
not contain any child areas, then it is not expected to be presented.</p>
</note>
<p>The <el>div</el> element accepts as its children zero or more
elements in the <loc href="#element-vocab-group-metadata"><code>Metadata.class</code></loc> element group,
followed by zero or more
elements in the <loc href="#element-vocab-group-animation"><code>Animation.class</code></loc> element group,
followed by zero or one
element in the <loc href="#element-vocab-group-layout"><code>Layout.class</code></loc> element group,
followed by zero or more elements in the <loc href="#element-vocab-group-block"><code>Block.class</code></loc> or
<loc href="#element-vocab-group-embedded"><code>Embedded.class</code></loc> element groups.</p>
<p>Any metadata specified by children in the <loc href="#element-vocab-group-metadata"><code>Metadata.class</code></loc>
element group applies semantically to the <el>div</el> element and its descendants as a whole.</p>
<p>Any animation elements specified by children in the <loc href="#element-vocab-group-animation"><code>Animation.class</code></loc>
element group apply semantically to the <el>div</el> element.</p>
<table id="elt-syntax-div" role="syntax">
<caption>XML Representation &ndash; Element Information Item: div</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;div
  <loc href="#animation-attribute-animate">animate</loc> = IDREFS
  <loc href="#timing-attribute-begin">begin</loc> = <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc>
  <loc href="#content-attribute-condition">condition</loc> = <loc href="#content-value-condition">&lt;condition&gt;</loc>
  <loc href="#timing-attribute-dur">dur</loc> = <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc>
  <loc href="#timing-attribute-end">end</loc> = <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc>
  <loc href="#layout-attribute-region">region</loc> = IDREF
  <loc href="#style-attribute-style">style</loc> = IDREFS
  <loc href="#timing-attribute-timeContainer">timeContainer</loc> = (<emph>"par"</emph> | <emph>"seq"</emph>)
  <loc href="#content-attribute-xml-base">xml:base</loc> = <loc href="#content-value-uri">&lt;uri&gt;</loc>
  <loc href="#content-attribute-xml-id">xml:id</loc> = ID
  <loc href="#content-attribute-xml-lang">xml:lang</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  <loc href="#content-attribute-xml-space">xml:space</loc> = (<emph>"default"</emph> | <emph>"preserve"</emph>)
  {<emph>any attributes in TT Metadata Namespace</emph>}
  {<emph>any <loc href="#terms-styling-attribute">styling attributes</loc></emph>}
  <emph>Content:</emph> <loc
  href="#element-vocab-group-metadata">Metadata.class</loc>*, <loc
  href="#element-vocab-group-animation">Animation.class</loc>*, <loc
  href="#element-vocab-group-layout">Layout.class</loc>?, (<loc
  href="#element-vocab-group-block">Block.class</loc>|<loc
  href="#element-vocab-group-embedded">Embedded.class</loc>)*
&lt;/div&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>An author may associate a set of style properties with a <el>div</el> element by means of either
the <att>style</att> attribute or inline style attributes or a combination thereof.</p>
<note role="explanation">
<p>Style properties that are associated with
a <el>div</el> element in a <loc href="#terms-document-instance">document instance</loc>
are available for style inheritance by descendant <loc href="#terms-content-element">content elements</loc>.</p>
</note>
<p>If no <att>timeContainer</att> attribute is specified on
a <el>div</el> element, then it must be interpreted as having
<emph>parallel</emph> time containment semantics.</p>
</div3>
<div3 id="content-vocabulary-p">
<head>p</head>
<p>A <el>p</el> element represents a logical paragraph, serving as
a transition between block level and inline level formatting semantics.</p>
<p>The <el>p</el> element accepts as its children zero or more
elements in the <loc href="#element-vocab-group-metadata"><code>Metadata.class</code></loc> element group,
followed by zero or more
elements in the <loc href="#element-vocab-group-animation"><code>Animation.class</code></loc> element group,
followed by zero or one
element in the <loc href="#element-vocab-group-layout"><code>Layout.class</code></loc> element group,
followed by zero or more elements in the <loc href="#element-vocab-group-inline"><code>Inline.class</code></loc> or
<loc href="#element-vocab-group-embedded"><code>Embedded.class</code></loc> element groups.</p>
<p>Any metadata specified by children in the <loc href="#element-vocab-group-metadata"><code>Metadata.class</code></loc>
element group applies semantically to the <el>p</el> element and its descendants as a whole.</p>
<p>Any animation elements specified by children in the <loc href="#element-vocab-group-animation"><code>Animation.class</code></loc>
element group apply semantically to the <el>p</el> element.</p>
<table id="elt-syntax-p" role="syntax">
<caption>XML Representation &ndash; Element Information Item: p</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;p
  <loc href="#animation-attribute-animate">animate</loc> = IDREFS
  <loc href="#timing-attribute-begin">begin</loc> = <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc>
  <loc href="#content-attribute-condition">condition</loc> = <loc href="#content-value-condition">&lt;condition&gt;</loc>
  <loc href="#timing-attribute-dur">dur</loc> = <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc>
  <loc href="#timing-attribute-end">end</loc> = <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc>
  <loc href="#layout-attribute-region">region</loc> = IDREF
  <loc href="#style-attribute-style">style</loc> = IDREFS
  <loc href="#timing-attribute-timeContainer">timeContainer</loc> = (<emph>"par"</emph> | <emph>"seq"</emph>)
  <loc href="#content-attribute-xml-base">xml:base</loc> = <loc href="#content-value-uri">&lt;uri&gt;</loc>
  <loc href="#content-attribute-xml-id">xml:id</loc> = ID
  <loc href="#content-attribute-xml-lang">xml:lang</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  <loc href="#content-attribute-xml-space">xml:space</loc> = (<emph>"default"</emph> | <emph>"preserve"</emph>)
  {<emph>any attributes in TT Metadata Namespace</emph>}
  {<emph>any <loc href="#terms-styling-attribute">styling attributes</loc></emph>}
  <emph>Content:</emph> <loc
  href="#element-vocab-group-metadata">Metadata.class</loc>*, <loc
  href="#element-vocab-group-animation">Animation.class</loc>*, <loc
  href="#element-vocab-group-layout">Layout.class</loc>?, (<loc
  href="#element-vocab-group-inline">Inline.class</loc>|<loc
  href="#element-vocab-group-embedded">Embedded.class</loc>)*
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>An author may associate a set of style properties with a
<el>p</el> element by means of either the <att>style</att>
attribute or inline style attributes or a combination thereof.</p>
<note role="explanation">
<p>Style properties that are associated with a <el>p</el> element
in a <loc href="#terms-document-instance">document instance</loc> are available for style inheritance by
descendant <loc href="#terms-content-element">content elements</loc>.</p>
</note>
<p>If no <att>timeContainer</att> attribute is specified on
a <el>p</el> element, then it must be interpreted as having
<emph>parallel</emph> time containment semantics.</p>
<p>If a sequence of children of a <el>p</el> element
consists solely of <loc href="#terms-character-information-item">character information items</loc>, then that sequence
is subject to <phrase role="strong"><loc href="#procedure-construct-anonymous-spans">[construct anonymous spans]</loc></phrase> processing.</p>
<note role="elaboration"><p>The presentation semantics of TTML effectively
implies that a <el>p</el> element constitutes a line break. In particular,
it is associated with a block-stacking constraint both before the first
generated line area and after the last generated line area. See
<specref ref="semantics-region-layout-step-2"/> for further details.</p>
</note>
</div3>
<div3 id="content-vocabulary-span">
<head>span</head>
<p>The <el>span</el> element functions as a logical container and a temporal
structuring element for a sequence of textual content units having inline
level formatting semantics.</p>
<p>When presented on a visual medium, a <el>span</el> element is intended to
generate a sequence of inline areas, each containing one or more <loc href="#terms-glyph-area">glyph area</loc>.</p>
<p>The <el>span</el> element accepts as its children zero or more
elements in the <loc href="#element-vocab-group-metadata"><code>Metadata.class</code></loc> element group,
followed by zero or more
elements in the <loc href="#element-vocab-group-animation"><code>Animation.class</code></loc> element group,
followed by zero or more elements in the <loc href="#element-vocab-group-inline"><code>Inline.class</code></loc> or
<loc href="#element-vocab-group-embedded"><code>Embedded.class</code></loc> element groups.</p>
<p>Any metadata specified by children in the <loc href="#element-vocab-group-metadata"><code>Metadata.class</code></loc>
element group applies semantically to the <el>span</el> element and its descendants as a whole.</p>
<p>Any animation elements specified by children in the <loc href="#element-vocab-group-animation"><code>Animation.class</code></loc>
element group apply semantically to the <el>span</el> element.</p>
<table id="elt-syntax-span" role="syntax">
<caption>XML Representation &ndash; Element Information Item: span</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;span
  <loc href="#animation-attribute-animate">animate</loc> = IDREFS
  <loc href="#timing-attribute-begin">begin</loc> = <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc>
  <loc href="#content-attribute-condition">condition</loc> = <loc href="#content-value-condition">&lt;condition&gt;</loc>
  <loc href="#timing-attribute-dur">dur</loc> = <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc>
  <loc href="#timing-attribute-end">end</loc> = <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc>
  <loc href="#layout-attribute-region">region</loc> = IDREF
  <loc href="#style-attribute-style">style</loc> = IDREFS
  <loc href="#timing-attribute-timeContainer">timeContainer</loc> = (<emph>"par"</emph> | <emph>"seq"</emph>)
  <loc href="#content-attribute-xlink-arcrole">xlink:arcrole</loc> = <loc href="#content-value-uri-list">&lt;uri-list&gt;</loc>
  <loc href="#content-attribute-xlink-href">xlink:href</loc> = <loc href="#content-value-uri">&lt;uri&gt;</loc>
  <loc href="#content-attribute-xlink-role">xlink:role</loc> = <loc href="#content-value-uri-list">&lt;uri-list&gt;</loc>
  <loc href="#content-attribute-xlink-show">xlink:show</loc> = (<emph>"new"</emph> | <emph>"replace"</emph> | <emph>"embed"</emph> | <emph>"other"</emph> | <emph>"none"</emph>) : none
  <loc href="#content-attribute-xlink-title">xlink:title</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  <loc href="#content-attribute-xml-base">xml:base</loc> = <loc href="#content-value-uri">&lt;uri&gt;</loc>
  <loc href="#content-attribute-xml-id">xml:id</loc> = ID
  <loc href="#content-attribute-xml-lang">xml:lang</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  <loc href="#content-attribute-xml-space">xml:space</loc> = (<emph>"default"</emph> | <emph>"preserve"</emph>)
  {<emph>any attributes in TT Metadata Namespace</emph>}
  {<emph>any <loc href="#terms-styling-attribute">styling attributes</loc></emph>}
  <emph>Content:</emph> <loc
  href="#element-vocab-group-metadata">Metadata.class</loc>*, <loc
  href="#element-vocab-group-animation">Animation.class</loc>*, (<loc
  href="#element-vocab-group-inline">Inline.class</loc>|<loc
  href="#element-vocab-group-embedded">Embedded.class</loc>)*
&lt;/span&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>An author may associate a set of style properties with a
<el>span</el> element by means of either the <att>style</att>
attribute or inline style attributes or a combination thereof.</p>
<note role="explanation">
<p>Style properties that are associated with a <el>span</el> element
in a <loc href="#terms-document-instance">document instance</loc> are available for style inheritance by
descendant <loc href="#terms-content-element">content elements</loc>.</p>
</note>
<p>If no <att>timeContainer</att> attribute is specified on
a <el>span</el> element, then it must be interpreted as having
<emph>parallel</emph> time containment semantics.</p>
<p>The linking attributes <att>xlink:*</att> may be used to link a <el>span</el> element with related content, using the
specified location (<code>href</code>), roles, and title. The behavior of link activation is affected by the <att>xlink:show</att> attribute,
the precise meaning of which is determined by the <loc href="#terms-document-processing-context">document processing context</loc>.</p>
<note role="historical">
<p>The default value for the <att>xlink:show</att> was originally specified
(in <xspecref href="https://www.w3.org/TR/2018/REC-ttml2-20181108/">TTML2 First Edition</xspecref>)
as <code>new</code>; however, further consideration suggested that the value <code>none</code> better reflects implementation practice,
particularly since the semantics of <code>none</code> is entirely implementation dependent and since the semantics of <code>new</code>
is merely one possible implementation of the semantics of <code>none</code>.</p>
</note>
<p>If a <el>span</el> element specifies an <att>xlink:href</att> attribute, then a descendant element must not specify
an <att>xlink:href</att> attribute, and, if it does, then the latter must be ignored for the purpose of presentation or link activation processing.</p>
<p>If a sequence of children of a <el>span</el> element
consists solely of <loc href="#terms-character-information-item">character information items</loc>, then that sequence
is subject to <phrase role="strong"><loc href="#procedure-construct-anonymous-spans">[construct anonymous spans]</loc></phrase> processing.</p>
</div3>
<div3 id="content-vocabulary-br">
<head>br</head>
<p>The <el>br</el> element denotes an explicit line break.</p>
<p>Any metadata specified by children in the <loc href="#element-vocab-group-metadata"><code>Metadata.class</code></loc>
element group applies semantically to the <el>br</el> element and its descendants as a whole.</p>
<p><phrase role="deprecated">The use of <code>Animation.class</code> children is deprecated.</phrase></p>
<note role="explanation">
<p>No style attributes apply to <el>br</el> elements therefore animation has no effect on <el>br</el>.</p>
</note>
<table id="elt-syntax-br" role="syntax">
<caption>XML Representation &ndash; Element Information Item: br</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;br
  <loc href="#content-attribute-condition">condition</loc> = <loc href="#content-value-condition">&lt;condition&gt;</loc>
  <loc href="#style-attribute-style">style</loc> = IDREFS
  <loc href="#content-attribute-xml-base">xml:base</loc> = <loc href="#content-value-uri">&lt;uri&gt;</loc>
  <loc href="#content-attribute-xml-id">xml:id</loc> = ID
  <loc href="#content-attribute-xml-lang">xml:lang</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  <loc href="#content-attribute-xml-space">xml:space</loc> = (<emph>"default"</emph> | <emph>"preserve"</emph>)
  {<emph>any attributes in TT Metadata Namespace</emph>}
  {<emph>any <loc href="#terms-styling-attribute">styling attributes</loc></emph>}
  <emph>Content:</emph> <loc href="#element-vocab-group-metadata">Metadata.class</loc>*, <loc href="#element-vocab-group-animation">Animation.class</loc>*
&lt;/br&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>When presented on a visual medium, the presence of a <el>br</el> element must be
interpreted as a forced line break.</p>
<note>
<p>The visual presentation of a <el>br</el> element is
intended to produce the same effect as the control character
<code>CR</code> (U+000D)
followed by the control code <code>LF</code> (U+000A) when presented on a teletype device.
Therefore, two <el>br</el> elements in sequence will produce a
different effect than a single <el>br</el> element.</p>
</note>
</div3>
</div2> <!-- content-element-vocabulary -->
<div2 id="content-attribute-vocabulary">
<head>Content Attribute Vocabulary</head>
<p>This section defines the following common attributes used with many or all element types
in the core vocabulary catalog:</p>
<ulist>
<item><p><specref ref="content-attribute-condition"/></p></item>
<item><p><specref ref="content-attribute-xml-id"/></p></item>
<item><p><specref ref="content-attribute-xml-lang"/></p></item>
<item><p><specref ref="content-attribute-xml-space"/></p></item>
</ulist>
<p>In addition, this section defines the following linking vocabulary used by certain element types
in the core vocabulary catalog:</p>
<ulist>
<item><p><specref ref="content-attribute-xlink-arcrole"/></p></item>
<item><p><specref ref="content-attribute-xlink-href"/></p></item>
<item><p><specref ref="content-attribute-xlink-role"/></p></item>
<item><p><specref ref="content-attribute-xlink-show"/></p></item>
<item><p><specref ref="content-attribute-xlink-title"/></p></item>
</ulist>
<div3 id="content-attribute-condition">
<head>condition</head>
<p>The <att>condition</att> attribute is used to <loc href="#terms-conditionally-excluded">conditionally exclude</loc> an element 
(and its descendants) from semantic processing,
in which case the element is referred to as a <loc href="#terms-conditionalized-element">conditionalized element</loc>.</p>
<note role="clarification">
<p>The use of a <att>condition</att> attribute by an element does not prevent either the parsing of that element (and its descendants) or
the insertion of the parsed representation of that element (and its descendants) into the
<loc href="#terms-reduced-xml-infoset">reduced xml infoset</loc> associated with the containing
<loc href="#terms-document-instance">document instance</loc>.</p>
</note>
<p>The <att>condition</att> attribute may be used with (1) any element in the core vocabulary catalog
except profile matter, i.e., elements of the <loc href="#element-vocab-type-profile">Profile Module</loc>, and
(2) any element defined by an <loc href="#terms-extension-module">extension module</loc>, where that element&apos;s type
permits the specification of a <loc href="#content-attribute-condition"><att>condition</att></loc> attribute.</p>
<p>The value of a <att>condition</att> attribute must adhere to a
<loc href="#content-value-condition">&lt;condition&gt;</loc> expression
which is evaluated at the time of presentation processing (lazy evaluation)
or prior to the time of presentation processing (eager evaluation), where eager evaluation may occur only when the value resulting
from evaluation cannot change or is known to not change during presentation processing.</p>
<note role="example">
<p>For example, if a condition expression depends on the value of a <loc href="#content-value-condition-function">condition function</loc>,
then the condition expression&apos;s value may change during presentation processing, in which case eager evaluation cannot be used.</p>
</note>
<p>For the purpose of presentation processing, if an element specifies a <att>condition</att> attribute, and 
its <loc href="#content-value-condition">&lt;condition&gt;</loc> expression value evaluates to <code>false</code>,
then the semantics of the element and its descendant elements
must be ignored unless those semantics are explicitly excepted,
which is to say, the element and its descendant elements are
<loc href="#terms-conditionally-excluded">conditionally excluded</loc>
regardless of the evaluation of any <loc href="#content-value-condition">&lt;condition&gt;</loc> expressions
specified on those descendant elements.</p>
<note role="elaboration">
<p>For example, if a <loc href="#content-vocabulary-p"><el>p</el></loc> element specifies a <att>condition</att>
attribute that evaluates to <code>false</code>, then the content of that element and its descendants are ignored for presentation purposes.</p>
</note>
<note role="elaboration">
<p>Evaluation of the <att>condition</att> attribute is not required (and not relevant)
on an element that is <loc href="#terms-conditionally-excluded">conditionally excluded</loc>
due to one of its ancestor elements being <loc href="#terms-conditionally-excluded">conditionally excluded</loc>.
That is, an element cannot become <loc href="#terms-conditionally-excluded">conditionally included</loc>
by the evaluation of its <att>condition</att> attribute
in the case that an ancestor is <loc href="#terms-conditionally-excluded">conditionally excluded</loc>.</p>
</note>
<note role="clarification">
<p>In certain cases, ignoring (excluding) the semantics of an element by means of a <att>condition</att> attribute consists
of partially rather than wholly ignoring the semantics of the element, about which see the following text as well as specific element definitions.</p>
</note>
<p>Unless a <loc href="#terms-higher-level-protocol">higher level protocol</loc> applies, the following exceptions apply for the
purpose of determining which semantics are to be ignored when a <loc href="#content-value-condition">&lt;condition&gt;</loc> expression
value evaluates to <code>false</code>:</p>
<ulist>
<item><p>the <loc href="#semantics-timing">timing semantics</loc> of a <loc href="#terms-timed-element">timed element</loc> are not ignored;</p></item>
<item><p>the <loc href="#semantics-style-association-chained-referential">chained referential semantics</loc> of a
<loc href="#styling-vocabulary-style"><el>style</el></loc> element are not ignored;</p></item>
</ulist>
<note role="clarification">
<p>The exceptions noted above also apply to descendants of a
<loc href="#terms-conditionally-excluded">conditionally excluded</loc> element.</p>
</note>
</div3>
<div3 id="content-attribute-xlink-arcrole">
<head>xlink:arcrole</head>
<p>The <att>xlink:arcrole</att> attribute is used as defined by <bibref ref="xlink11"/>.</p>
<p>The <att>xlink:arcrole</att> attribute may be used with any <loc href="#content-vocabulary-span"><el>span</el></loc> or
<loc href="#embedded-content-vocabulary-image"><el>image</el></loc> element.</p>
</div3>
<div3 id="content-attribute-xlink-href">
<head>xlink:href</head>
<p>The <att>xlink:href</att> attribute is used as defined by <bibref ref="xlink11"/>.</p>
<p>The <att>xlink:href</att> attribute may be used with any <loc href="#content-vocabulary-span"><el>span</el></loc> or
<loc href="#embedded-content-vocabulary-image"><el>image</el></loc> element.</p>
<p>For the purpose of implementing <att>xlink:href</att> semantics, the semantics of
<loc href="https://www.w3.org/TR/2010/REC-xlink11-20100506/#link-types"><code>xlink:type</code></loc>
are fixed to those associated with the <code>simple</code> value and the semantics of
<loc href="https://www.w3.org/TR/2010/REC-xlink11-20100506/#actuate-att"><code>xlink:actuate</code></loc>
are fixed to those associated with the <code>onRequest</code> value as defined by <bibref ref="xlink11"/>.</p>
<note role="clarification">
<p>Neither <code>xlink:type</code> nor <code>xlink:actuate</code> attribute is defined for direct use in
a <loc href="#terms-document-instance">document instance</loc>.</p>
</note>
</div3>
<div3 id="content-attribute-xlink-role">
<head>xlink:role</head>
<p>The <att>xlink:role</att> attribute is used as defined by <bibref ref="xlink11"/>.</p>
<p>The <att>xlink:role</att> attribute may be used with any <loc href="#content-vocabulary-span"><el>span</el></loc> or
<loc href="#embedded-content-vocabulary-image"><el>image</el></loc> element.</p>
</div3>
<div3 id="content-attribute-xlink-show">
<head>xlink:show</head>
<p>The <att>xlink:show</att> attribute is used as defined by <bibref ref="xlink11"/>.</p>
<p>The <att>xlink:show</att> attribute may be used with any <loc href="#content-vocabulary-span"><el>span</el></loc> or
<loc href="#embedded-content-vocabulary-image"><el>image</el></loc> element.</p>
</div3>
<div3 id="content-attribute-xlink-title">
<head>xlink:title</head>
<p>The <att>xlink:title</att> attribute is used as defined by <bibref ref="xlink11"/>.</p>
<p>The <att>xlink:title</att> attribute may be used with any <loc href="#content-vocabulary-span"><el>span</el></loc> or
<loc href="#embedded-content-vocabulary-image"><el>image</el></loc> element.</p>
</div3>
<div3 id="content-attribute-xml-base">
<head>xml:base</head>
<p>The <att>xml:base</att> attribute is used as defined by
<bibref ref="xmlbase"/>.</p>
<p>The <att>xml:base</att> attribute may be used with any element in the core vocabulary catalog
that admits (1) a <loc href="#content-attribute-condition"><att>condition</att></loc> attribute, (2) a descendant
element in the <loc href="#element-vocab-group-metadata"><code>Metadata.class</code></loc> element group, or
(3) a descendant element that admits an <att>xml:base</att> attribute.</p>
</div3>
<div3 id="content-attribute-xml-id">
<head>xml:id</head>
<p>The <att>xml:id</att> attribute is used as defined by
<bibref ref="xmlid"/>.</p>
<p>The <att>xml:id</att> attribute may be used with any element in the core vocabulary catalog.</p>
</div3>
<div3 id="content-attribute-xml-lang">
<head>xml:lang</head>
<p>The <att>xml:lang</att> attribute is used as defined by
<bibref ref="xml10"/>, &sect;2.12, <emph>Language Identification</emph>.</p>
<p>The <att>xml:lang</att> attribute must be specified on the <el>tt</el>
element and may be specified by an instance of any other element type
in the core vocabulary catalog except parameter vocabulary.</p>
<note role="elaboration">
<p>As specified by <bibref ref="xml10"/>, &sect;2.12, the association of language with an element
applies to all of that element&apos;s descendants unless overridden by a descendant. In other words,
the language that is associated with an element is either specified on the element or is effectively
inherited from that element&apos;s nearest ancestor element.</p>
<p>This language association process is based solely on the structure of the
<loc href="#terms-reduced-xml-infoset">reduced xml infoset</loc> of a <loc href="#terms-document-instance">document instance</loc>
and occurs prior to performing <loc href="#semantics-region-layout-step-1">intermediate synchronic document construction</loc>.</p>
</note>
<p>The use of <code>xml:lang</code> on content and metadata elements is illustrated by the following example.</p>
<table id="xml-lang-example-1" role="example">
<caption>Example Fragment &ndash; Language Identification of Content and Metadata</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;tt ... <phrase role="strong">xml:lang=&quot;&quot;</phrase>&gt;
...
&lt;p <phrase role="strong">xml:lang=&quot;en&quot;</phrase>&gt;Jean said hello.&lt;/p&gt;
&lt;p <phrase role="strong">xml:lang=&quot;fr&quot;</phrase>&gt;Jean dit bonjour.&lt;/p&gt;
&lt;p&gt;
  &lt;image src="#talking-image"&gt;
    &lt;ttm:item name="altText" <phrase role="strong">xml:lang="en"</phrase>&gt;Talking&lt;/ttm:item&gt;
    &lt;ttm:item name="altText" <phrase role="strong">xml:lang="fr"</phrase>&gt;Parlant&lt;/ttm:item&gt;
  &lt;/image&gt;
&lt;/p&gt;
...
&lt;/tt&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<note role="explanation">
<p>In this example, the root <code>tt</code> element is identified with the empty language tag, meaning unknown or unspecified language, which
identification is effectively inherited by descendant elements (unless overridden). Next, the first two <code>p</code> (paragraph) elements
are associated with <code>en</code> (English) and <code>fr</code> (French) language identifiers, respectively. Finally, the third <code>p</code>
(paragraph) element consists of a foreground image, which is associated with two alternative text descriptions by use of
<loc href="#metadata-vocabulary-item">named metadata items</loc>,
and these text descriptions are, in turn, associated with <code>en</code> (English) and <code>fr</code> (French) language identifiers.</p>
</note>
<p></p>
</div3>
<div3 id="content-attribute-xml-space">
<head>xml:space</head>
<p>The <att>xml:space</att> attribute is used as defined by
<bibref ref="xml10"/>, &sect;2.10, <emph>White Space Handling</emph>.</p>
<p>The <att>xml:space</att> attribute may be used with any element in
the core vocabulary catalog except parameter vocabulary.</p>
<note role="elaboration">
<p>As specified by <bibref ref="xml10"/>, &sect;2.10, the application whitespace signalling that applies to an element
applies to all of that element&apos;s descendants unless overridden by a descendant. In other words,
the application whitespace signaling that applies to an element is either specified on the element or is effectively
inherited from that element&apos;s nearest ancestor element.</p>
<p>This application whitespace signalling process is based solely on the structure of the
<loc href="#terms-reduced-xml-infoset">reduced xml infoset</loc> of a <loc href="#terms-document-instance">document instance</loc>
and occurs prior to performing <loc href="#semantics-region-layout-step-1">intermediate synchronic document construction</loc>.</p>
</note>
<p>The semantics of the value <code>default</code> are fixed to mean that
when performing presentation processing of a <loc href="#terms-document-instance">document instance</loc> as
described by <specref ref="semantics-region-layout-step-2"/>,
processing must occur as
if the following properties were specified on the affected
elements of an equivalent intermediate XSL-FO document:</p>
<ulist>
<item>
<p><code>suppress-at-line-break="auto"</code></p>
</item>
<item>
<p><code>linefeed-treatment="treat-as-space"</code></p>
</item>
<item>
<p><code>white-space-collapse="true"</code></p>
</item>
<item>
<p><code>white-space-treatment="ignore-if-surrounding-linefeed"</code></p>
</item>
</ulist>
<p>Similarly, the semantics of the value <code>preserve</code> are fixed to mean that
when performing presentation processing, processing must occur as
if the following properties were specified on the affected
elements of an equivalent intermediate XSL-FO document:
</p>
<ulist>
<item>
<p><code>suppress-at-line-break="retain"</code></p>
</item>
<item>
<p><code>linefeed-treatment="preserve"</code></p>
</item>
<item>
<p><code>white-space-collapse="false"</code></p>
</item>
<item>
<p><code>white-space-treatment="preserve"</code></p>
</item>
</ulist>
<p>If an unnormalized horizontal tab <code>&amp;#9;</code> (HT) character appears
in a <loc href="#terms-character-information-item">character information item</loc>
of a <loc href="#terms-reduced-xml-infoset">reduced xml infoset</loc>, then, when presented visually, that tab
character is treated as if it were a single <code>&amp;#20;</code> (SPACE) character.</p>
<p>When performing other types of processing intended to eventually
result in a visual presentation by means other than those described
in this specification, the semantics of space collapsing and
preservation as described above should be respected. For other types
of processing, the treatment of the <att>xml:space</att> attribute
is processor dependent, but should respect the semantics described
above if possible.</p>
<note role="derivation">
<p>The semantics of the above four cited XSL-FO properties are defined by
by <bibref ref="xslfo11"/>, &sect;7.17.3, 7.16.7, 7.16.12, and 7.16.8, respectively.</p>
</note>
<note role="clarification">
<p>No presentation semantics are specified for the TAB (U+0009) character. Furthermore, the TAB (U+0009) character can generate a glyph area.
 As a result, the use of the TAB (U+0009) character in <code>#PCDATA</code> content within <code>p</code> and <code>span</code> elements is
 not recommended.</p>
</note>
</div3>
</div2> <!-- content-attribute-vocabulary -->
<div2 id="content-value-expressions">
<head>Content Value Expressions</head>
<p>Core vocabulary may make use of the following expressions:</p>
<ulist>
<item><p><specref ref="content-value-absolute-profile-designator"/></p></item>
<item><p><specref ref="content-value-arguments"/></p></item>
<item><p><specref ref="content-value-bound-parameter"/></p></item>
<item><p><specref ref="content-value-condition"/></p></item>
<item><p><specref ref="content-value-condition-function"/></p></item>
<item><p><specref ref="content-value-expression"/></p></item>
<item><p><specref ref="content-value-fragment-profile-designator"/></p></item>
<item><p><specref ref="content-value-media-function"/></p></item>
<item><p><specref ref="content-value-parameter-function"/></p></item>
<item><p><specref ref="content-value-profile-designator"/></p></item>
<item><p><specref ref="content-value-quoted-string"/></p></item>
<item><p><specref ref="content-value-relative-profile-designator"/></p></item>
<item><p><specref ref="content-value-supports-function"/></p></item>
<item><p><specref ref="content-value-uri"/></p></item>
</ulist>
<div3 id="content-value-absolute-profile-designator">
<head>&lt;absolute-profile-designator&gt;</head>
<p>An &lt;absolute-profile-designator&gt; value expression is used to either (1) define the absolute designator associated with
a locally defined profile or (2) refer to a remotely defined profile.</p>
<table id="absolute-profile-designator-value-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;absolute-profile-designator&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;absolute-profile-designator&gt;
  : <loc href="#content-value-absolute-uri">&lt;absolute-uri&gt;</loc>
</eg>
</td>
</tr>
</tbody>
</table>
<note role="elaboration">
<p>In the present context, <emph>locally defined</emph> means defined in the current document, while <emph>remotely defined</emph>
means defined in another document.</p>
</note>
</div3>
<div3 id="content-value-absolute-uri">
<head>&lt;absolute-uri&gt;</head>
<p>An &lt;absolute-uri&gt; value expression is used to specify an absolute URI <bibref ref="uri"/>.</p>
<table id="absolute-uri-value-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;absolute-uri&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;absolute-uri&gt;
  : <loc href="#content-value-uri">&lt;uri&gt;</loc>                                     // absolute form only
</eg>
</td>
</tr>
</tbody>
</table>
<p>In the context of an &lt;absolute-uri&gt; value expression, the value syntax of the <loc href="#content-value-uri">&lt;uri&gt;</loc> expression
must adhere to the absolute form of a URI as defined by <bibref ref="uri"/>, &sect;4.3.</p>
</div3>
<div3 id="content-value-arguments">
<head>&lt;arguments&gt;</head>
<p>A &lt;arguments&gt; value is a sub-expression used with a <code>function-expression</code> non-terminal of an
<loc href="#content-value-expression">&lt;expression&gt;</loc> value.</p>
<table id="arguments-value-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;arguments&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;arguments&gt;
  : "(" <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? ")"
  | "(" <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? argument-list <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? ")"

argument-list
  : <loc href="#content-value-expression">&lt;expression&gt;</loc> (<loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? "," <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? <loc href="#content-value-expression">&lt;expression&gt;</loc>)*
</eg>
</td>
</tr>
</tbody>
</table>
</div3>
<div3 id="content-value-bound-parameter">
<head>&lt;bound-parameter&gt;</head>
<p>A &lt;bound-parameter&gt; value is one of an enumerated collection of named parameters bound to a value by the
<loc href="#terms-content-processor">content processor</loc>.</p>
<table id="bound-parameter-value-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;bound-parameter&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;bound-parameter&gt;
  : "forced"
  | "mediaAspectRatio"
  | "mediaLanguage"
  | "userLanguage"
</eg>
</td>
</tr>
</tbody>
</table>
<glist>
<gitem id="bound-parameter-forced">
<label><code>forced</code></label>
<def>
<p>Evaluates to a boolean value that denotes whether the <loc href="#terms-content-processor">content processor</loc> is operating with
<loc href="#terms-forced-subtitle">forced subtitles</loc> enabled.
If used in a <loc href="#terms-document-instance">document instance</loc>, then a <loc href="#named-item-usesForced"><code>usesForced</code></loc>
named metadata item should be specified as a child of the <loc href="#document-structure-vocabulary-head"><el>head</el></loc> element.</p>
</def>
</gitem>
<gitem id="bound-parameter-mediaAspectRatio">
<label><code>mediaAspectRatio</code></label>
<def>
<p>Evaluates to a numeric value equal to the aspect ratio of the <loc href="#terms-related-media-object">related media object</loc>.</p>
</def>
</gitem>
<gitem id="bound-parameter-mediaLanguage">
<label><code>mediaLanguage</code></label>
<def>
<p>Evaluates to a string value equal to the (primary) language of the <loc href="#terms-related-media-object">related media object</loc>.</p>
</def>
</gitem>
<gitem id="bound-parameter-userLanguage">
<label><code>userLanguage</code></label>
<def>
<p>Evaluates to a string value equal to the (primary) language of the user as determined by the
<loc href="#terms-document-processing-context">document processing context</loc>.</p>
</def>
</gitem>
</glist>
</div3>
<div3 id="content-value-condition">
<head>&lt;condition&gt;</head>
<p>A &lt;condition&gt; value is used to specify an expression that evaluates to a binary value
which is used to determine if the semantics of a
<loc href="#terms-conditionalized-element">conditionalized element</loc> is respected or ignored during content processing.</p>
<table id="condition-value-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;condition&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;condition&gt;
  : <loc href="#content-value-expression">&lt;expression&gt;</loc>
</eg>
</td>
</tr>
</tbody>
</table>
<p>A <code>function-expression</code> that appears in a &lt;condition&gt; value must take the form
of a <loc href="#content-value-condition-function">&lt;condition-function&gt;</loc> expression.</p>
</div3>
<div3 id="content-value-condition-function">
<head>&lt;condition-function&gt;</head>
<p>A &lt;condition-function&gt; value is a sub-expression that may be used in a <loc href="#content-value-condition">&lt;condition&gt;</loc> value expression.</p>
<table id="condition-function-value-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;condition-function&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;condition-function&gt;
  : <loc href="#content-value-media-function">&lt;media-function&gt;</loc>
  | <loc href="#content-value-parameter-function">&lt;parameter-function&gt;</loc>
  | <loc href="#content-value-supports-function">&lt;supports-function&gt;</loc>
</eg>
</td>
</tr>
</tbody>
</table>
</div3>
<div3 id="content-value-expression">
<head>&lt;expression&gt;</head>
<p>An &lt;expression&gt; value is a sub-expression of a <loc href="#content-value-condition">&lt;condition&gt;</loc> value.</p>
<table id="expression-value-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;expression&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;expression&gt;
  : logical-or-expression

logical-or-expression
  : logical-and-expression
  | logical-or-expression <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? "||" <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? logical-and-expression

logical-and-expression
  : equality-expression
  | logical-and-expression <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? "&amp;&amp;" <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? equality-expression

equality-expression
  : relational-expression
  | equality-expression <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? "==" <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? relational-expression
  | equality-expression <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? "!=" <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? relational-expression

relational-expression
  : additive-expression
  | relational-expression <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? "&lt;" <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? additive-expression
  | relational-expression <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? "&gt;" <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? additive-expression
  | relational-expression <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? "&lt;=" <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? additive-expression
  | relational-expression <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? "&gt;=" <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? additive-expression

additive-expression
  : multiplicitive-expression
  | additive-expression <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? "+" <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? multiplicitive-expression
  | additive-expression <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? "-" <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? multiplicitive-expression

multiplicitive-expression
  : unary-expression
  | multiplicitive-expression <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? "*" <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? unary-expression
  | multiplicitive-expression <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? "/" <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? unary-expression
  | multiplicitive-expression <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? "%" <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? unary-expression

unary-expression
  : primary-or-function-expression
  | "+" <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? unary-expression
  | "-" <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? unary-expression
  | "!" <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? unary-expression

primary-or-function-expression
  : primary-expression
  | function-expression

primary-expression
  : identifier
  | literal
  | "(" <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? expression <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? ")"

function-expression
  : identifier <loc href="#content-value-arguments">&lt;arguments&gt;</loc>

identifier
  : <loc href="https://www.w3.org/TR/xmlschema-2/#NCName">xsd:NCName</loc>

literal
  : boolean-literal
  | numeric-literal
  | string-literal

boolean-literal
  : "true"
  | "false"

numeric-literal
  : decimal-literal

decimal-literal
  : decimal-integer-literal "." decimal-digits? exponent-part?
  | decimal-integer-literal exponent-part?
  | "." decimal-digits exponent-part?

decimal-integer-literal
  : "0"
  | non-zero-digit decimal-digits?

decimal-digits
  : decimal-digit
  | decimal-digits decimal-digit

decimal-digit
  : "0" | "1" | "2" | "3" | "4" | "5" | "6" | "7" | "8" | "9"

non-zero-digit
  : "1" | "2" | "3" | "4" | "5" | "6" | "7" | "8" | "9"

exponent-part
  : exponent-indicator signed-integer

exponent-indicator
  : "e" | "E"

signed-integer
  : decimal-digits
  | "+" decimal-digits
  | "-" decimal-digits

string-literal
  : <loc href="#content-value-quoted-string">&lt;quoted-string&gt;</loc>
</eg>
</td>
</tr>
</tbody>
</table>
<note role="elaboration">
<p>For avoidance of doubt, take note that no linear whitespace (LWSP) is permitted between the <code>identifier</code> token and the initial open
parenthesis &apos;<code>(</code>&apos; character of the following <loc href="#content-value-arguments">&lt;arguments&gt;</loc> expression of a
<code>function-expression</code>.</p>
</note>
</div3>
<div3 id="content-value-fragment-profile-designator">
<head>&lt;fragment-profile-designator&gt;</head>
<p>A &lt;fragment-profile-designator&gt; value expression is used to designate a local, i.e., an internally defined (inlined), profile by reference.</p>
<table id="fragment-profile-designator-value-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;fragment-profile-designator&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;fragment-profile-designator&gt;
  : <loc href="#content-value-fragment-uri">&lt;fragment-uri&gt;</loc>
</eg>
</td>
</tr>
</tbody>
</table>
</div3>
<div3 id="content-value-fragment-uri">
<head>&lt;fragment-uri&gt;</head>
<p>A &lt;fragment-uri&gt; value expression is used to specify a fragment URI <bibref ref="uri"/>.</p>
<table id="fragment-uri-value-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;fragment-uri&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;fragment-uri&gt;
  : <loc href="#content-value-uri">&lt;uri&gt;</loc>                                     // fragment component only
</eg>
</td>
</tr>
</tbody>
</table>
<p>In the context of a &lt;fragment-uri&gt; value expression, the value syntax of the <loc href="#content-value-uri">&lt;uri&gt;</loc> expression
must adhere to the fragment <loc href="#terms-component">component</loc> of a URI as defined by <bibref ref="uri"/>, &sect;3 and &sect;3.5,
i.e., the scheme, authority, path, and query <loc href="#terms-component">components</loc> are empty (not specified), and only the fragment <loc href="#terms-component">component</loc> is non-empty (specified).</p>
</div3>
<div3 id="content-value-media-function">
<head>&lt;media-function&gt;</head>
<p>A &lt;media-function&gt; value is a sub-expression that may be used in a <loc href="#content-value-condition">&lt;condition&gt;</loc> value expression
in order to perform a media query on the <loc href="#terms-related-media-object">related media object</loc> or the
<loc href="#terms-document-processing-context">document processing context</loc>.</p>
<table id="media-function-value-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;media-function&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;media-function&gt;
  : "media(" <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? media-query <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? ")"

media-query
  : <loc href="#content-value-quoted-string">&lt;quoted-string&gt;</loc>
</eg>
</td>
</tr>
</tbody>
</table>
<p>The <code>media-query</code> argument of a &lt;media-function&gt; value expression must adhere to
the syntax of the <code>media_query_list</code> defined by <bibref ref="media-queries"/>, &sect;3.</p>
<p>A &lt;media-function&gt; value expression evaluates to <code>true</code> if the specified media query
evaluates to <code>true</code>, otherwise, the value expression evaluates to <code>false</code>.</p>
<p>If the semantics of a &lt;media-function&gt; expression is not supported, then that expression must
evaluate to <code>false</code>.</p>
</div3>
<div3 id="content-value-profile-designator">
<head>&lt;profile-designator&gt;</head>
<p>A &lt;profile-designator&gt; value expression is used to designate a profile, either for the purpose of defining a profile
or for the purpose of referencing a defined profile.</p>
<table id="profile-designator-value-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;profile-designator&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;profile-designator&gt;
  : <loc href="#content-value-absolute-profile-designator">&lt;absolute-profile-designator&gt;</loc>
  | <loc href="#content-value-relative-profile-designator">&lt;relative-profile-designator&gt;</loc>
  | <loc href="#content-value-fragment-profile-designator">&lt;fragment-profile-designator&gt;</loc>
</eg>
</td>
</tr>
</tbody>
</table>
<p>If a &lt;profile-designator&gt; takes the form of a <loc href="#content-value-fragment-profile-designator">&lt;fragment-profile-designator&gt;</loc>,
then it must refer to a <loc href="#terms-top-level-profile">top-level profile</loc>, which is to say, it must not refer to a
<loc href="#terms-nested-profile">nested profile</loc>.</p>
</div3>
<div3 id="content-value-parameter-function">
<head>&lt;parameter-function&gt;</head>
<p>A &lt;parameter-function&gt; value is a sub-expression that may be used in a <loc href="#content-value-condition">&lt;condition&gt;</loc> value expression
in order to obtain a named parameter of the <loc href="#terms-document-processing-context">document processing context</loc>.</p>
<table id="parameter-function-value-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;parameter-function&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;parameter-function&gt;
  : "parameter(" <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? parameter-name <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? ")"

parameter-name
  : <loc href="#content-value-quoted-string">&lt;quoted-string&gt;</loc>
</eg>
</td>
</tr>
</tbody>
</table>
<p>When de-quoted, the <code>parameter-name</code> argument of a &lt;parameter-function&gt; value expression must adhere to an
<loc href="https://www.w3.org/TR/xmlschema-2/#NCName">xsd:NCName</loc>, which must, in turn, be one of the values enumerated
by <loc href="#content-value-bound-parameter">&lt;bound-parameter&gt;</loc>.</p>
<p>A &lt;parameter-function&gt; value expression evaluates to the value associated with (bound to) the
specified parameter name.</p>
</div3>
<div3 id="content-value-quoted-string">
<head>&lt;quoted-string&gt;</head>
<p>A &lt;quoted-string&gt; value expression is used to specify a double or single quoted string.</p>
<table id="quoted-string-value-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;quoted-string&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;quoted-string&gt;
  : double-quoted-string
  | single-quoted-string

double-quoted-string
  : &apos;&quot;&apos; ([^&quot;\\] | escape)* &apos;&quot;&apos;

single-quoted-string
  : &quot;&apos;&quot; ([^&apos;\\] | escape)* &quot;&apos;&quot;

escape
  : &apos;\\&apos; <emph>char</emph>
</eg>
</td>
</tr>
</tbody>
</table>
<note role="elaboration">
<p>For avoidance of doubt, take note that linear whitespace (LWSP) is permitted in a quoted string expression, but that it
is subject to <bibref ref="xml10"/>, &sect;3.3.3, <emph>Attribute-Value Normalization</emph>,
when constructing a <loc href="#terms-reduced-xml-infoset">reduced xml infoset</loc> from a
<loc href="#terms-timed-text-content-document-instance">timed text document instance</loc>.</p>
</note>
</div3>
<div3 id="content-value-relative-profile-designator">
<head>&lt;relative-profile-designator&gt;</head>
<p>A &lt;relative-profile-designator&gt; value expression is used to refer to a standardized profile with respect to
the TT Profile Namespace, which serves as the base URI with which relative profile designators are <termref def="defs-absolutize">absolutized</termref>.</p>
<table id="relative-profile-designator-value-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;relative-profile-designator&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;relative-profile-designator&gt;
  : <loc href="#content-value-relative-uri">&lt;relative-uri&gt;</loc>
</eg>
</td>
</tr>
</tbody>
</table>
<note role="clarification">
<p>When absolutizing a &lt;relative-profile-designator&gt;,
<loc href="#content-attribute-xml-base">xml:base</loc> processing does not apply (because the TT Profile Namespace
always serves as the base URI).</p>
</note>
<note role="example">
<p>For example, if a &lt;relative-profile-designator&gt; is expressed as
<code>ttml2-presentation</code>, then the <termref def="defs-absolutize">absolutized</termref> profile designator
would be
<code>http://www.w3.org/ns/ttml/profile/ttml2-presentation</code>.</p>
</note>
</div3>
<div3 id="content-value-relative-uri">
<head>&lt;relative-uri&gt;</head>
<p>A &lt;relative-uri&gt; value expression is used to specify a relative URI <bibref ref="uri"/>.</p>
<table id="relative-uri-value-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;relative-uri&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;relative-uri&gt;
  : <loc href="#content-value-uri">&lt;uri&gt;</loc>                                     // no scheme component present
</eg>
</td>
</tr>
</tbody>
</table>
<p>In the context of a &lt;relative-uri&gt; value expression, the value syntax of the <loc href="#content-value-uri">&lt;uri&gt;</loc> expression
must adhere to the relative form of a URI as defined by <bibref ref="uri"/>, &sect;3,
i.e., the scheme and authority <loc href="#terms-component">components</loc> are empty (not specified), but the path, and, optionally, the query and fragment <loc href="#terms-component">components</loc> are specified.</p>
</div3>
<div3 id="content-value-supports-function">
<head>&lt;supports-function&gt;</head>
<p>A &lt;supports-function&gt; value is a sub-expression that may be used in a <loc href="#content-value-condition">&lt;condition&gt;</loc> value expression
in order to obtain a boolean value that denotes whether a specified <loc href="#terms-feature">feature</loc> or <loc href="#terms-extension">extension</loc>
is supported or not.</p>
<table id="supports-function-value-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;supports-function&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;supports-function&gt;
  : "supports(" <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? feature-or-extension-designator <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? ")"

feature-or-extension-designator
  : <loc href="#content-value-quoted-string">&lt;quoted-string&gt;</loc>
</eg>
</td>
</tr>
</tbody>
</table>
<p>The <code>feature-or-extension-designator</code> argument of a &lt;supports-function&gt; value expression must express
a feature designation or an extension designation as defined by
<specref ref="feature-designations"/> and <specref ref="extension-designations"/>, respectively, and where the
<code>feature-namespace</code> or <code>extension-namespace</code> <loc href="#terms-component">component</loc> of the designation is optional, and, if
not specified, is considered to be equal to the <emph>TT Feature Namespace</emph> or <emph>TT Extension Namespace</emph>,
respectively.</p>
<p>A &lt;supports-function&gt; value expression evaluates to <code>true</code> if the specified feature or extension
designator is (semantically) supported by the <loc href="#terms-content-processor">content processor</loc>.</p>
</div3>
<div3 id="content-value-uri">
<head>&lt;uri&gt;</head>
<p>A &lt;uri&gt; value expression is used to specify a URI <bibref ref="uri"/>.</p>
<table id="uri-value-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;uri&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;uri&gt;
  : <loc href="https://www.w3.org/TR/xmlschema-2/#anyURI">xsd:anyURI</loc>
</eg>
</td>
</tr>
</tbody>
</table>
<p>The value syntax of the <code>xsd:anyURI</code> data type must adhere to the definition specified by <bibref ref="xsd-2"/>, &sect;3.2.17.</p>
<note role="clarification">
  <p>For avoidance of doubt, characters designated to be excluded in a URI by <bibref ref="uri"/>, &sect;2,
  <emph>Characters</emph>, and, more specifically,
  the XML whitespace characters &amp;#9; (HT), &amp;#10; (LF), &amp;#13; (CR), and &amp;#20; (SPACE),
  as specified in <bibref ref="xml10"/>, &sect;3.3.3, step (3), first bullet,
  do not appear in an unescaped form in the lexical representation of a <code>&lt;uri&gt;</code> value.</p>
</note>
</div3>
<div3 id="content-value-uri-list">
<head>&lt;uri-list&gt;</head>
<p>A &lt;uri-list&gt; value expression is used to specify a non-empty list of URI <bibref ref="uri"/> expressions.</p>
<table id="uri-list-value-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;uri-list&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;uri-list&gt;
  : <loc href="#content-value-uri">&lt;uri&gt;</loc> (<loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> <loc href="#content-value-uri">&lt;uri&gt;</loc>)*
</eg>
</td>
</tr>
</tbody>
</table>
</div3>
</div2> <!-- content-value-expressions -->
</div1> <!-- content -->
<div1 id="embedded-content">
<head>Embedded Content</head>
<p>This section specifies the <emph>embedded content</emph> matter of the core
vocabulary catalog, where, in this context,
<emph>content</emph> is to be understood as data of an arbitrary content type (format)
and <emph>embedded</emph> refers to the embedding (inlining) of this data or the embedding
of a reference to external data.</p>
<div2 id="embedded-content-element-vocabulary">
<head>Embedded Content Element Vocabulary</head>
<p>The following elements may be used to specify embedded content:</p>
<ulist>
<item><p><specref ref="embedded-content-vocabulary-audio"/></p></item>
<item><p><specref ref="embedded-content-vocabulary-chunk"/></p></item>
<item><p><specref ref="embedded-content-vocabulary-data"/></p></item>
<item><p><specref ref="embedded-content-vocabulary-font"/></p></item>
<item><p><specref ref="embedded-content-vocabulary-image"/></p></item>
<item><p><specref ref="embedded-content-vocabulary-resources"/></p></item>
<item><p><specref ref="embedded-content-vocabulary-source"/></p></item>
</ulist>
<p>The <specref ref="embedded-content-vocabulary-data"/> element serves as
a generic container element for an <loc href="#terms-embedded-data-resource">embedded data resource</loc>, which may or may not be fragmented into chunks,
in which case a data fragment is represented using the <specref ref="embedded-content-vocabulary-chunk"/> element.
The <specref ref="embedded-content-vocabulary-audio"/>,
<specref ref="embedded-content-vocabulary-font"/>, and
<specref ref="embedded-content-vocabulary-image"/> elements are specialized elements used to
to reference specific types of embedded content.
The <specref ref="embedded-content-vocabulary-resources"/> element is used to
group definitions of embedded content for reference by subsequent elements.
The <specref ref="embedded-content-vocabulary-source"/> element may be used to
express the source of embedded content.</p>
<div3 id="embedded-content-vocabulary-audio">
<head>audio</head>
<p>The <el>audio</el> element is used to define or refer to an <loc href="#terms-audio-resource">audio resource</loc>.</p>
<p>An <el>audio</el> element may appear in two contexts: (1) as a child of a <loc href="#embedded-content-vocabulary-resources"><el>resources</el></loc> element and
(2) as a child of a <loc href="#document-structure-vocabulary-body"><el>body</el></loc> element,
an element in the <loc href="#element-vocab-group-block">Block.class</loc> element group, namely, as a child of a
<loc href="#content-vocabulary-div"><el>div</el></loc> or <loc href="#content-vocabulary-p"><el>p</el></loc> element, or
as a child of a <loc href="#content-vocabulary-span"><el>span</el></loc> element. The former is referred to as an
<loc href="#terms-audio-defining-context">audio defining context</loc>, the latter as an <loc href="#terms-audio-presentation-context">audio presentation context</loc>.</p>
<p>When an <el>audio</el> element appears in an <loc href="#terms-audio-defining-context">audio defining context</loc>, it
serves as a sharable definition of an <loc href="#terms-audio-resource">audio resource</loc> that may be referenced by other <el>audio</el> elements in the
<loc href="#terms-enclosing-document-instance">enclosing document instance</loc>.</p>
<note role="elaboration">
<p>A sharable definition of an <loc href="#terms-audio-resource">audio resource</loc> specifies an <loc href="#content-attribute-xml-id"><att>xml:id</att></loc> attribute in order to be referenced
by <el>audio</el> elements in an <loc href="#terms-audio-presentation-context">audio presentation context</loc>.</p>
</note>
<p>When an <el>audio</el> element appears in an <loc href="#terms-audio-presentation-context">audio presentation context</loc>, it
serves as a non-sharable definition of an <loc href="#terms-audio-resource">audio resource</loc> that implies presentation (rendering) semantics, i.e., that it is intended to be played.</p>
<note role="elaboration">
<p>A non-sharable definition of an <loc href="#terms-audio-resource">audio resource</loc> may or may not specify an <loc href="#content-attribute-xml-id"><att>xml:id</att></loc> attribute, but this
identifier is not referenced by other <el>audio</el> elements, or, if it is, the reference is ignored.</p>
</note>
<p>The <el>audio</el> element accepts as its children
zero or more elements in the <loc href="#element-vocab-group-metadata"><code>Metadata.class</code></loc> element group, followed by
zero or more elements in the <loc href="#element-vocab-group-animation"><code>Animation.class</code></loc> element group, followed by zero or more
<loc href="#embedded-content-vocabulary-source"><el>source</el></loc> elements.</p>
<note role="clarification">
<p>No <termref def="defs-text-node">text node</termref> descendant of an <el>audio</el> element is a <loc href="#terms-significant-text-node">significant text node</loc> for the purpose of performing the
<loc href="#procedure-construct-anonymous-spans">[construct anonymous spans]</loc> procedure.</p>
</note>
<table id="elt-syntax-audio" role="syntax">
<caption>XML Representation &ndash; Element Information Item: audio</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;audio
  <loc href="#animation-attribute-animate">animate</loc> = IDREFS
  <loc href="#timing-attribute-begin">begin</loc> = <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc>
  clipBegin = <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc>
  clipEnd = <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc>
  <loc href="#content-attribute-condition">condition</loc> = <loc href="#content-value-condition">&lt;condition&gt;</loc>
  <loc href="#timing-attribute-dur">dur</loc> = <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc>
  <loc href="#timing-attribute-end">end</loc> = <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc>
  <loc href="#embedded-content-attribute-src">src</loc> = <loc href="#embedded-content-value-audio">&lt;audio&gt;</loc>
  <loc href="#style-attribute-style">style</loc> = IDREFS
  <loc href="#timing-attribute-timeContainer">timeContainer</loc> = (<emph>"par"</emph> | <emph>"seq"</emph>)
  <loc href="#embedded-content-attribute-type">type</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  <loc href="#content-attribute-xml-base">xml:base</loc> = <loc href="#content-value-uri">&lt;uri&gt;</loc>
  <loc href="#content-attribute-xml-id">xml:id</loc> = ID
  <loc href="#content-attribute-xml-lang">xml:lang</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  <loc href="#content-attribute-xml-space">xml:space</loc> = (<emph>"default"</emph> | <emph>"preserve"</emph>)
  {<emph>any <loc href="#terms-styling-attribute">styling attributes</loc></emph>}
  {<emph>any attributes in TT Metadata Namespace</emph>}
  <emph>Content:</emph> <loc href="#element-vocab-group-metadata">Metadata.class</loc>*, <loc
  href="#element-vocab-group-animation">Animation.class</loc>*, <loc href="#embedded-content-vocabulary-source">source</loc>*
&lt;/audio&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>An <el>audio</el> element designates an <loc href="#terms-audio-resource">audio resource</loc> by using either
a <loc href="#terms-reference-data-embedding">reference data embedding</loc> or
a <loc href="#terms-sourced-data-embedding">sourced data embedding</loc>, which entails
(1) referring to a <loc href="#terms-built-in-data-resource">built-in data resource</loc>,
(2) referring to an <loc href="#terms-external-data-resource">external data resource</loc>, or
(3) defining or referring to an <loc href="#terms-embedded-data-resource">embedded data resource</loc>,
where the <loc href="#terms-data-resource">data resource</loc> contains audio content.</p>
<p>If an <el>audio</el> element specifies a <loc href="#embedded-content-attribute-src"><att>src</att></loc> attribute, then it must not specify a
child <loc href="#embedded-content-vocabulary-source"><el>source</el></loc> element. Conversely,
if an <el>audio</el> element does not specify a <loc href="#embedded-content-attribute-src"><att>src</att></loc> attribute, then it must specify one or more
child <loc href="#embedded-content-vocabulary-source"><el>source</el></loc> elements.</p>
<p>If an <el>audio</el> element specifies a <loc href="#embedded-content-attribute-src"><att>src</att></loc> attribute and its value does not refer to
an <loc href="#terms-internal-data-resource">internal data resource</loc>, then it should specify a
<loc href="#embedded-content-attribute-type"><att>type</att></loc> attribute, in which case the value of the
<loc href="#embedded-content-attribute-type"><att>type</att></loc> attribute must correspond with the media (content) type
of the referenced resource. Otherwise, a <loc href="#embedded-content-attribute-type"><att>type</att></loc> attribute must not be specified.</p>
<p>If specified, the value of the <att>clipBegin</att> attribute must adhere to the <emph>offset-time</emph> form of a
<specref ref="timing-value-time-expression"/>, in which case, the value of this expression denotes a normal play time offset relative to the
beginning of the referenced audio content, and designates the point where audio presentation commences.
If this specified value is greater than the intrinsic duration
of the referenced audio content, then the resolved value of <att>clipBegin</att> is considered to be the intrinsic duration.
If no <code>clipBegin</code> attribute is specified, then a value of <code>0</code> applies.</p>
<p>Similarly, if specified, the value of the <att>clipEnd</att> attribute must adhere to the <emph>offset-time</emph> form of a
<specref ref="timing-value-time-expression"/>, in which case, the value of this expression denotes a normal play time offset relative to the
beginning of the referenced audio content, and designates the point where presentation ceases.
If this specified value is greater than the intrinsic duration
of the referenced audio content, then the resolved value of <att>clipEnd</att> is considered to be the intrinsic duration.
If no <code>clipEnd</code> attribute is specified, then a value equal to the intrinsic duration of the audio content applies.</p>
<p>The use of the <el>audio</el> element is illustrated by the following example.</p>
<table id="embedded-content-vocabulary-audio-example-1" role="example">
<caption>Example Fragment &ndash; External Audio Resource</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
...
&lt;audio src="https://example.com/audio/description.mp3" type="audio/mp3"/&gt;
...
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
</div3> <!-- embedded-content-vocabulary-audio -->
<div3 id="embedded-content-vocabulary-chunk">
<head>chunk</head>
<p>The <el>chunk</el> element is used to represent a distinct chunk (fragment) of data.</p>
<p>A <el>chunk</el> element may appear as a child of a <loc href="#embedded-content-vocabulary-data"><el>data</el></loc> element.</p>
<table id="elt-syntax-chunk" role="syntax">
<caption>XML Representation &ndash; Element Information Item: chunk</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;chunk
  <loc href="#embedded-content-attribute-encoding">encoding</loc> = (<emph>"base16"</emph> | <emph>"base32"</emph> | <emph>"base32hex"</emph> | <emph>"base64"</emph> | <emph>"base64url"</emph>) : base64
  length = <loc href="#style-value-non-negative-integer">&lt;non-negative-integer&gt;</loc>
  <loc href="#content-attribute-xml-id">xml:id</loc> = ID
  <emph>Content:</emph> #PCDATA
&lt;/chunk&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>If an <loc href="#embedded-content-attribute-encoding"><att>encoding</att></loc> attribute is specified, then it must denote the actual encoding of the byte sequence represented by the
<el>chunk</el> element. If no <loc href="#embedded-content-attribute-encoding"><att>encoding</att></loc> attribute is specified, then the encoding must be considered to be <code>base64</code>.</p>
<p>Any linear whitespace (<loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>)
character present in the <code>#PCDATA</code> content of this element must be ignored when performing decoding processing.</p>
<p>If a <att>length</att> attribute is specified, then it must denote the number of decoded bytes in the byte sequence represented by the
<el>chunk</el> element. When decoding, if a specified length value does not match the number of decoded bytes, then the chunk and its container <el>data</el>
element must return a zero length byte sequence.
If no <att>length</att> attribute is specified, then the chunk is considered to have a length equal to the actual number of decoded bytes.</p>
<p>The use of chunked data is illustrated by the following example.</p>
<table id="embedded-content-vocabulary-chunk-example-1" role="example">
<caption>Example Fragment &ndash; Chunked Data</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
...
&lt;data type="text/plain; charset=us-ascii" length="44"&gt;
  &lt;chunk length="19"&gt;
    VGhlIHF1aWNrIGJyb3duIGZveA==
  &lt;/chunk&gt;
  &lt;chunk length="25"&gt;
    IGp1bXBzIG92ZXIgdGhlIGxhenkgZG9nLg==
  &lt;/chunk&gt;
&lt;/data&gt;
...
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
</div3> <!-- embedded-content-vocabulary-chunk -->
<div3 id="embedded-content-vocabulary-data">
<head>data</head>
<p>The <el>data</el> element functions as a generic container for or reference to arbitrary data.</p>
<p>A <el>data</el> element may appear in three contexts:
(1) as a child of a <loc href="#embedded-content-vocabulary-resources"><el>resources</el></loc> element,
referred to as a <loc href="#terms-data-defining-context">data defining context</loc>,
(2) as a child of a <loc href="#metadata-vocabulary-metadata"><el>metadata</el></loc> element,
referred to as a <loc href="#terms-data-binding-context-for-metadata">data binding context for metadata</loc>, or
(3) as a child of a <loc href="#embedded-content-vocabulary-source"><el>source</el></loc> element,
referred to as a <loc href="#terms-data-binding-context-for-source">data binding context for source</loc>,
and where these latter two contexts are referred to collectively as <loc href="#terms-data-binding-context">data binding contexts</loc>.</p>
<p>When a <el>data</el> element appears in a <loc href="#terms-data-defining-context">data defining context</loc>, it
serves as a sharable definition of a data resource that may be referenced by the <loc href="#embedded-content-attribute-src"><att>src</att></loc> attribute of
(1) another <el>data</el> element,
(2) an <loc href="#terms-embedded-content-element">embedded content element</loc>, or
(3) a <loc href="#embedded-content-vocabulary-source"><el>source</el></loc> element.
In this case, the contextualized active time interval of the <el>data</el> element is the intersection of
the active time interval of its parent <loc href="#embedded-content-vocabulary-resources"><el>resources</el></loc> element and
the active time interval of its referring element.</p>
<note role="elaboration">
<p>A sharable definition of a data resource specifies an <loc href="#content-attribute-xml-id"><att>xml:id</att></loc> attribute in order to be referenced
by a fragment identifier used in a <loc href="#terms-data-binding-context">data binding context</loc>.</p>
</note>
<p>When a <el>data</el> element appears in a <loc href="#terms-data-binding-context">data binding context</loc>, it
serves as a non-sharable definition of a data resource that implies binding semantics, i.e., that it is intended to bound to (associated with) its immediate context
of reference. In this case, the active time interval of the <el>data</el> element is the same as the active time interval of its closest ancestor <loc href="#terms-timed-element">timed element</loc>.
</p>
<note role="elaboration">
<p>A non-sharable definition of a data resource may or may not specify an <loc href="#content-attribute-xml-id"><att>xml:id</att></loc> attribute, but this
identifier is not referenced in other <loc href="#terms-data-binding-context">data binding contexts</loc>, or, if it is, has no binding semantics.</p>
</note>
<p>The <el>data</el> element accepts one of the following four content models:
(1) one or more <termref def="defs-text-node">text nodes</termref> (i.e., <code>#PCDATA</code>),
(2) zero or more elements in the <loc href="#element-vocab-group-metadata"><code>Metadata.class</code></loc> element group when a <att>src</att>
attribute is specified;
(3) zero or more elements in the <loc href="#element-vocab-group-metadata"><code>Metadata.class</code></loc> element group followed by one or more
<loc href="#embedded-content-vocabulary-chunk"><el>chunk</el></loc> elements, or
(4) zero or more elements in the <loc href="#element-vocab-group-metadata"><code>Metadata.class</code></loc> element group followed by one or more
<loc href="#embedded-content-vocabulary-source"><el>source</el></loc> elements, where
the first is referred to as <loc href="#terms-simple-data-embedding">simple data embedding</loc>,
the second as <loc href="#terms-reference-data-embedding">reference data embedding</loc>,
the third as <loc href="#terms-chunked-data-embedding">chunked data embedding</loc>, and
the fourth as <loc href="#terms-sourced-data-embedding">sourced data embedding</loc>.</p>
<p>When <loc href="#terms-simple-data-embedding">simple data embedding</loc> is used, the data resource is obtained by decoding the <code>#PCDATA</code> content.
When <loc href="#terms-reference-data-embedding">reference data embedding</loc> is used, the data resource is obtained by dereferencing the data resource
referenced by the <att>src</att> attribute.  
When <loc href="#terms-chunked-data-embedding">chunked data embedding</loc> is used, the data resource is obtained by concatenating the byte sequences obtained by decoding each
child <loc href="#embedded-content-vocabulary-chunk"><el>chunk</el></loc> element.
When <loc href="#terms-sourced-data-embedding">sourced data embedding</loc> is used, the data resource is obtained from the first
child <loc href="#embedded-content-vocabulary-source"><el>source</el></loc> element that can be resolved to a
<loc href="#terms-data-resource">data resource</loc>, or if none can be resolved, then the <loc href="#terms-empty-data-resource">empty data resource</loc>.
Furthermore, a child <loc href="#embedded-content-vocabulary-source"><el>source</el></loc> element must not
contain a <loc href="#embedded-content-vocabulary-data"><el>data</el></loc> element, but may refer to a
<loc href="#embedded-content-vocabulary-data"><el>data</el></loc> element in a <loc href="#terms-data-defining-context">data defining context</loc>.</p>
<table id="elt-syntax-data" role="syntax">
<caption>XML Representation &ndash; Element Information Item: data</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;data
  <loc href="#content-attribute-condition">condition</loc> = <loc href="#content-value-condition">&lt;condition&gt;</loc>
  <loc href="#embedded-content-attribute-encoding">encoding</loc> = (<emph>"base16"</emph> | <emph>"base32"</emph> | <emph>"base32hex"</emph> | <emph>"base64"</emph> | <emph>"base64url"</emph>) : <emph>see prose below</emph>
  <loc href="#embedded-content-attribute-format">format</loc> = <loc href="#embedded-content-value-data-format">&lt;data-format&gt;</loc>
  length = <loc href="#style-value-non-negative-integer">&lt;non-negative-integer&gt;</loc>
  <loc href="#embedded-content-attribute-src">src</loc> = <loc href="#embedded-content-value-data">&lt;data&gt;</loc>
  <loc href="#embedded-content-attribute-type">type</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc> : <emph>see prose below</emph>
  <loc href="#content-attribute-xml-base">xml:base</loc> = <loc href="#content-value-uri">&lt;uri&gt;</loc>
  <loc href="#content-attribute-xml-id">xml:id</loc> = ID
  <loc href="#content-attribute-xml-lang">xml:lang</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  <loc href="#content-attribute-xml-space">xml:space</loc> = (<emph>"default"</emph> | <emph>"preserve"</emph>)
  <emph>Content:</emph> #PCDATA | (<loc href="#element-vocab-group-metadata">Metadata.class</loc>*, (<loc href="#embedded-content-vocabulary-chunk">chunk</loc>+ | <loc href="#embedded-content-vocabulary-source">source</loc>+)? )
&lt;/data&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>If <loc href="#terms-simple-data-embedding">simple data embedding</loc> is used, then an
<loc href="#embedded-content-attribute-encoding"><att>encoding</att></loc> attribute
may be specified, and, if not specified, must be considered to be <code>base64</code>.
If <loc href="#terms-reference-data-embedding">reference data embedding</loc>, <loc href="#terms-chunked-data-embedding">chunked data embedding</loc>, or <loc href="#terms-sourced-data-embedding">sourced data embedding</loc> is used, then
an <loc href="#embedded-content-attribute-encoding"><att>encoding</att></loc> attribute must not be specified, and, if specified, must be ignored
for the purpose of content processing.</p>
<p>Furthermore, if simple data embedding is used, then any linear whitespace (<loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>)
character present in the <code>#PCDATA</code> content of this element must be ignored when performing decoding processing.</p>
<p>If a <att>length</att> attribute is specified, then it must denote the number of decoded bytes in the byte sequence represented by the
<el>data</el> element. When decoding, if a specified length value does not match the number of decoded bytes, then a zero length byte sequence must be returned.
If no <att>length</att> attribute is specified, then the data resource is considered to have a length equal to the actual number of decoded bytes.
A <att>length</att> attribute must not be specified when using <loc href="#terms-reference-data-embedding">reference data embedding</loc> or <loc href="#terms-sourced-data-embedding">sourced data embedding</loc>.</p>
<note role="elaboration">
<p>The intention of the <att>length</att> attribute is to provide a means to perform a simple integrity check on decoded data. Note that this check does not guarantee
data integrity during transport, i.e., the data could be modified without modifying the length.</p>
</note>
<p>If <loc href="#terms-reference-data-embedding">reference data embedding</loc> is used, a <att>src</att> attribute must be specified; otherwise (for all other types of data embedding), a
<att>src</att> attribute must not be specified.</p>
<p>If <loc href="#terms-simple-data-embedding">simple data embedding</loc> or <loc href="#terms-chunked-data-embedding">chunked data embedding</loc> is used, a <loc href="#embedded-content-attribute-type"><att>type</att></loc> attribute must be specified,
and must correspond with the media (content) type of the data resource. In these cases, if there is no defined type, the type <code>application/octet-stream</code> should be used.
If <loc href="#terms-reference-data-embedding">reference data embedding</loc> is used, then, if it refers to an
<loc href="#terms-external-data-resource">external data resource</loc>,
a <loc href="#embedded-content-attribute-type"><att>type</att></loc> attribute should be specified, and,
if specified, must correspond with the media (content) type of the referenced data resource;
otherwise (an <loc href="#terms-internal-data-resource">internal data resource</loc> is referenced),
a <loc href="#embedded-content-attribute-type"><att>type</att></loc> attribute must not be specified,
in which case the media (content) type of the referenced <loc href="#embedded-content-vocabulary-data">data</loc> element is used as the type.
If <loc href="#terms-sourced-data-embedding">sourced data embedding</loc> is used,
a <loc href="#embedded-content-attribute-type"><att>type</att></loc> attribute must not be specified,
in which case the media (content) type of the resolved <loc href="#embedded-content-vocabulary-source">source</loc> element is used as the type.</p>
<p>If a <loc href="#embedded-content-attribute-type"><att>type</att></loc> attribute is not specified or resolved or is specified as a generic type,
such as <code>application/octet-stream</code>, and additional format information is known about a referenced data resource that cannot be
expressed in a Media Type <bibref ref="media-types"/> parameter,
then a <loc href="#embedded-content-attribute-format">format</loc> attribute may be specified as a hint to the content processor.</p>
<p>The use of <loc href="#terms-simple-data-embedding">simple data embedding</loc> is illustrated by the following examples.</p>
<table id="embedded-content-vocabulary-data-example-1" role="example">
<caption>Example Fragment &ndash; Simple Data Embedding in Data Defining Context</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;head&gt;
  &lt;resources&gt;
    &lt;data xml:id="sharedImageData" type="image/png" length="119"&gt;
      iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8
      YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAMSURBVBhXY2BgYAAAAAQAAVzN/2kAAAAASUVORK5CYII=
    &lt;/data&gt;
    &lt;image xml:id="sharedImage"&gt;
      &lt;source src="#sharedImageData"/&gt;
    &lt;/image&gt;
  &lt;/resources&gt;
&lt;/head&gt;
&lt;body xmlns:tts="http://www.w3.org/ns/ttml#styling"&gt;
  &lt;div tts:backgroundImage="#sharedImage"/&gt;
  &lt;div tts:backgroundImage="#sharedImage"/&gt;
&lt;/body&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="embedded-content-vocabulary-data-example-2" role="example">
<caption>Example Fragment &ndash; Simple Data Embedding in Data Binding Context for Metadata</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;div&gt;
  &lt;metadata xmlns:ttm="http://www.w3.org/ns/ttml#metadata"&gt;
    &lt;ttm:desc&gt;caption with metadata containing tunneled data&lt;/ttm:desc&gt;
    &lt;data encoding="base64" type="application/octet-stream"&gt;
      TWFuIGlzIGRpc3Rpbmd1aXNoZWQsIG5vdCBvbmx5IGJ5IGhpcyByZWFzb24sIGJ1dCBieSB0aGlz
      IHNpbmd1bGFyIHBhc3Npb24gZnJvbSBvdGhlciBhbmltYWxzLCB3aGljaCBpcyBhIGx1c3Qgb2Yg
      dGhlIG1pbmQsIHRoYXQgYnkgYSBwZXJzZXZlcmFuY2Ugb2YgZGVsaWdodCBpbiB0aGUgY29udGlu
      dWVkIGFuZCBpbmRlZmF0aWdhYmxlIGdlbmVyYXRpb24gb2Yga25vd2xlZGdlLCBleGNlZWRzIHRo
      ZSBzaG9ydCB2ZWhlbWVuY2Ugb2YgYW55IGNhcm5hbCBwbGVhc3VyZS4=
    &lt;/data&gt;
  &lt;/metadata&gt;
  &lt;p&gt;Caption with Tunneled Data&lt;/p&gt;
&lt;/div&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="embedded-content-vocabulary-data-example-3" role="example">
<caption>Example Fragment &ndash; Simple Data Embedding in Data Binding Context for Source</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;div&gt;
  &lt;image&gt;
    &lt;source&gt;
      &lt;data type="image/png" length="119"&gt;
        iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8
        YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAMSURBVBhXY2BgYAAAAAQAAVzN/2kAAAAASUVORK5CYII=
      &lt;/data&gt;
    &lt;/source&gt;
  &lt;/image&gt;
&lt;/div&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>The use of <loc href="#terms-reference-data-embedding">reference data embedding</loc> is illustrated by the following example.</p>
<table id="embedded-content-vocabulary-data-example-4" role="example">
<caption>Example Fragment &ndash; Reference Data Embedding in Data Defining Context</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;head&gt;
  &lt;resources&gt;
    &lt;data xml:id="sharedImageData" src="test.png" type="image/png"/&gt;
    &lt;image xml:id="sharedImage1" src="#sharedImageData"/&gt;
    &lt;image xml:id="sharedImage2" src="#sharedImageData"/&gt;
  &lt;/resources&gt;
&lt;/head&gt;
&lt;body xmlns:tts="http://www.w3.org/ns/ttml#styling"&gt;
  &lt;div tts:backgroundImage="#sharedImage1"/&gt;
  &lt;div tts:backgroundImage="#sharedImage2"/&gt;
&lt;/body&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>The use of <loc href="#terms-chunked-data-embedding">chunked data embedding</loc> is illustrated by the following example.</p>
<table id="embedded-content-vocabulary-data-example-5" role="example">
<caption>Example Fragment &ndash; Chunked Data Embedding in Data Defining Context</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;head&gt;
  &lt;resources&gt;
    &lt;data xml:id="sharedImageData" type="image/png" length="119"&gt;
      &lt;chunk length="60"&gt;
        iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8
      &lt;/chunk&gt;
      &lt;chunk length="59"&gt;
        YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAMSURBVBhXY2BgYAAAAAQAAVzN/2kAAAAASUVORK5CYII=
      &lt;/chunk&gt;
    &lt;/data&gt;
    &lt;image xml:id="sharedImage1" src="#sharedImageData"/&gt;
    &lt;image xml:id="sharedImage2" src="#sharedImageData"/&gt;
  &lt;/resources&gt;
&lt;/head&gt;
&lt;body xmlns:tts="http://www.w3.org/ns/ttml#styling"&gt;
  &lt;div tts:backgroundImage="#sharedImage1"/&gt;
  &lt;div tts:backgroundImage="#sharedImage2"/&gt;
&lt;/body&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>The use of <loc href="#terms-sourced-data-embedding">sourced data embedding</loc> is illustrated by the following example.</p>
<table id="embedded-content-vocabulary-data-example-6" role="example">
<caption>Example Fragment &ndash; Sourced Data Embedding in Data Defining Context</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;head&gt;
  &lt;resources&gt;
    &lt;data xml:id="sharedImageData"&gt;
      &lt;source src="test.svg" type="image/svg+xml"/&gt;
      &lt;source src="test.png" type="image/png"/&gt;
    &lt;/data&gt;
    &lt;image xml:id="sharedImage1" src="#sharedImageData"/&gt;
    &lt;image xml:id="sharedImage2" src="#sharedImageData"/&gt;
  &lt;/resources&gt;
&lt;/head&gt;
&lt;body xmlns:tts="http://www.w3.org/ns/ttml#styling"&gt;
  &lt;div tts:backgroundImage="#sharedImage1"/&gt;
  &lt;div tts:backgroundImage="#sharedImage2"/&gt;
&lt;/body&gt;
</eg>
</td>
</tr>
</tbody>
</table>
</div3> <!-- embedded-content-vocabulary-data -->
<div3 id="embedded-content-vocabulary-font">
<head>font</head>
<p>The <el>font</el> element is used to define or refer to a <loc href="#terms-font-resource">font resource</loc>.</p>
<p>A <el>font</el> element may appear as a child of a <loc href="#embedded-content-vocabulary-resources"><el>resources</el></loc> element, referred to as a
<loc href="#terms-font-defining-context">font defining context</loc>.</p>
<p>The <el>font</el> element accepts as its children
zero or more elements in the <loc href="#element-vocab-group-metadata"><code>Metadata.class</code></loc> element group followed by zero or more
<loc href="#embedded-content-vocabulary-source"><el>source</el></loc> elements.</p>
<table id="elt-syntax-font" role="syntax">
<caption>XML Representation &ndash; Element Information Item: font</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;font
  <loc href="#content-attribute-condition">condition</loc> = <loc href="#content-value-condition">&lt;condition&gt;</loc>
  family = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  range = <loc href="#embedded-content-value-unicode-range">&lt;unicode-range&gt;</loc>
  style = (<emph>"normal"</emph> | <emph>"italic"</emph> | <emph>"oblique"</emph>) : <emph>see prose below</emph>
  <loc href="#embedded-content-attribute-src">src</loc> = <loc href="#embedded-content-value-font">&lt;font&gt;</loc>
  <loc href="#embedded-content-attribute-type">type</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  weight = (<emph>"normal"</emph> | <emph>"bold"</emph>) : <emph>see prose below</emph>
  <loc href="#content-attribute-xml-base">xml:base</loc> = <loc href="#content-value-uri">&lt;uri&gt;</loc>
  <loc href="#content-attribute-xml-id">xml:id</loc> = ID
  <loc href="#content-attribute-xml-lang">xml:lang</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  <loc href="#content-attribute-xml-space">xml:space</loc> = (<emph>"default"</emph> | <emph>"preserve"</emph>)
  <emph>Content:</emph> <loc href="#element-vocab-group-metadata">Metadata.class</loc>*, <loc href="#embedded-content-vocabulary-source">source</loc>*
&lt;/font&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>A <el>font</el> element defines a <loc href="#terms-font-resource">font resource</loc> by using either
a <loc href="#terms-reference-data-embedding">reference data embedding</loc> or
a <loc href="#terms-sourced-data-embedding">sourced data embedding</loc>, which entails
(1) referring to a <loc href="#terms-built-in-data-resource">built-in data resource</loc>,
(2) referring to an <loc href="#terms-external-data-resource">external data resource</loc>, or
(3) defining or referring to an <loc href="#terms-embedded-data-resource">embedded data resource</loc>,
where the <loc href="#terms-data-resource">data resource</loc> contains font content.</p>
<p>If a <el>font</el> element specifies a <loc href="#embedded-content-attribute-src"><att>src</att></loc> attribute, then it must not specify a
child <loc href="#embedded-content-vocabulary-source"><el>source</el></loc> element. Conversely,
if a <el>font</el> element does not specify a <loc href="#embedded-content-attribute-src"><att>src</att></loc> attribute, then it must specify one or more
child <loc href="#embedded-content-vocabulary-source"><el>source</el></loc> elements.</p>
<p>If a <el>font</el> element specifies a <loc href="#embedded-content-attribute-src"><att>src</att></loc> attribute and its value does not refer to
an <loc href="#terms-internal-data-resource">internal data resource</loc>, then it should specify a
<loc href="#embedded-content-attribute-type"><att>type</att></loc> attribute, in which case the value of the
<loc href="#embedded-content-attribute-type"><att>type</att></loc> attribute must correspond with the media (content) type
of the referenced resource. Otherwise, a <loc href="#embedded-content-attribute-type"><att>type</att></loc> attribute must not be specified.</p>
<p>If any of the <att>family</att>, <att>range</att>, <att>style</att>, or <att>weight</att> attributes are specified, then
they override the family name, supported character ranges, style, and weight of the actual <loc href="#terms-font-resource">font resource</loc>. In particular,
if the specified attribute value(s) differ from the value(s) of these font characteristics as encoded in the <loc href="#terms-font-resource">font resource</loc>, then
the specified attribute value(s) are to be used instead of the font characteristics encoded in the <loc href="#terms-font-resource">font resource</loc>.</p>
<p>If any of the <att>family</att>, <att>range</att>, <att>style</att>, or <att>weight</att> attributes are not specified, then their values
must be considered to be equal to the value(s) of the same named font characteristics encoded in the <loc href="#terms-font-resource">font resource</loc>.</p>
<p>If the computed value of the <code>family</code> attribute (whether explicitly specified or not) matches a
<loc href="#style-value-generic-family-name">&lt;generic-family-name&gt;</loc> (by case-sensitive comparison),
then it is <termref def="defs-considered-an-error">considered an error</termref> and the referenced font resource must be ignored for the purpose of presentation processing.</p>
<note role="elaboration">
<p>The effect of the previous paragraph is that a content author may not override a built-in font resource that corresponds to a generic font family.</p>
</note>
<note role="guideline">
<p>Authors are advised to use subset fonts wherever possible. A subset font is a syntactically valid <loc href="#terms-font-resource">font resource</loc> that
removes unreferenced glyphs and unreferenced glyph metrics. In general, a subset font is tied to a specific document, since it may have been generated
based on the actual character content of that document.</p>
</note>
<p>For the purpose of dereferencing (downloading) font resources, a <loc href="#terms-content-processor">content processor</loc>
may defer the downloading process until such time that the content of the font resource is necessary in order to perform the necessary
(transformation or presentation) processing.</p>
<p>The use of the <el>font</el> element is illustrated by the following example.</p>
<table id="embedded-content-vocabulary-font-example-1" role="example">
<caption>Example Fragment &ndash; Font</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
...
&lt;head&gt;
  &lt;resources&gt;
    &lt;data xml:id="lastResortFont" type="application/font-woff"&gt;
      ... <emph>base64 encoded data</emph> ...
    &lt;/data&gt;
    &lt;font family="MyFont" range="u+20-7f,u+90-9f"&gt;
      &lt;source src="https://example.com/fonts/myfont.otf" type="font/otf"/&gt;
      &lt;source src="#lastResortFont"/&gt;
    &lt;/font&gt;
  &lt;/resources&gt;
&lt;/head&gt;
...
&lt;p tts:fontFamily="MyFont"&gt;use my font or last resort font&lt;/p&gt;
...
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
</div3> <!-- embedded-content-vocabulary-font -->
<div3 id="embedded-content-vocabulary-image">
<head>image</head>
<p>The <el>image</el> element is used to define or refer to an <loc href="#terms-image-resource">image resource</loc>.</p>
<p>An <el>image</el> element may appear in two contexts: (1) as a child of a <loc href="#embedded-content-vocabulary-resources"><el>resources</el></loc> element and
(2) as a child of (i) a <loc href="#document-structure-vocabulary-body"><el>body</el></loc> element,
(ii) an element in the <loc href="#element-vocab-group-block">Block.class</loc> element group, namely, as a child of a
<loc href="#content-vocabulary-div"><el>div</el></loc> or <loc href="#content-vocabulary-p"><el>p</el></loc> element, or
(iii) a <loc href="#content-vocabulary-span"><el>span</el></loc> element. The former is referred to as an
<loc href="#terms-image-defining-context">image defining context</loc>, the latter as an <loc href="#terms-image-presentation-context">image presentation context</loc>.</p>
<p>When an <el>image</el> element appears in an <loc href="#terms-image-defining-context">image defining context</loc>, it
serves as a sharable definition of an <loc href="#terms-image-resource">image resource</loc> that may be referenced by another <el>image</el> element or by
a <loc href="#style-attribute-backgroundImage"><att>tts:backgroundImage</att></loc> style attribute
in the <loc href="#terms-enclosing-document-instance">enclosing document instance</loc>.</p>
<note role="elaboration">
<p>A sharable definition of an <loc href="#terms-image-resource">image resource</loc> specifies an <loc href="#content-attribute-xml-id"><att>xml:id</att></loc> attribute in order to be referenced
by an <el>image</el> element or by a <loc href="#style-attribute-backgroundImage"><att>tts:backgroundImage</att></loc> style attribute
in an <loc href="#terms-image-presentation-context">image presentation context</loc>.</p>
</note>
<p>When an <el>image</el> element appears in an <loc href="#terms-image-presentation-context">image presentation context</loc>, it
serves as a non-sharable definition of an <loc href="#terms-image-resource">image resource</loc> that implies presentation (rendering) semantics.</p>
<note role="elaboration">
<p>A non-sharable definition of an <loc href="#terms-image-resource">image resource</loc> may or may not specify an <loc href="#content-attribute-xml-id"><att>xml:id</att></loc> attribute, but this
identifier is not referenced by other <el>image</el> elements, or, if it is, the reference is ignored.</p>
</note>
<p>When an <el>image</el> element appears as a child of the <loc href="#document-structure-vocabulary-body"><el>body</el></loc> element or
a <loc href="#content-vocabulary-div"><el>div</el></loc> element, then its presentation
produces a block area in which the image is rendered; i.e., a block boundary is implied before and after the <el>image</el> element. In contrast,
when an <el>image</el> element appears as a child of a <loc href="#content-vocabulary-p"><el>p</el></loc> or <loc href="#content-vocabulary-span"><el>span</el></loc>
element, then its presentation produces an inline area in which the image is rendered; i.e., no block boundary is implied before and after the <el>image</el> element.</p>
<note role="elaboration">
<p>In <bibref ref="css2"/>, these semantics would correspond to an <el>image</el> element being associated with a <code>display</code> style property with a
value of <code>block</code> or <code>inline</code>, respectively.</p>
</note>
<p>The presentation of an <loc href="#terms-image-resource">image resource</loc> referenced by a
<loc href="#style-attribute-backgroundImage"><att>tts:backgroundImage</att></loc> style attribute must not affect content layout.</p>
<p>The <el>image</el> element accepts as its children
zero or more elements in the <loc href="#element-vocab-group-metadata"><code>Metadata.class</code></loc> element group, followed by
zero or more elements in the <loc href="#element-vocab-group-animation"><code>Animation.class</code></loc> element group, followed by
zero or more <loc href="#embedded-content-vocabulary-source"><el>source</el></loc> elements.</p>
<note role="clarification">
<p>No <termref def="defs-text-node">text node</termref> descendant of an <el>image</el> element is a <loc href="#terms-significant-text-node">significant text node</loc> for the purpose of performing the
<loc href="#procedure-construct-anonymous-spans">[construct anonymous spans]</loc> procedure.</p>
</note>
<table id="elt-syntax-image" role="syntax">
<caption>XML Representation &ndash; Element Information Item: image</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;image
  <loc href="#animation-attribute-animate">animate</loc> = IDREFS
  <loc href="#timing-attribute-begin">begin</loc> = <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc>
  <loc href="#content-attribute-condition">condition</loc> = <loc href="#content-value-condition">&lt;condition&gt;</loc>
  <loc href="#timing-attribute-dur">dur</loc> = <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc>
  <loc href="#timing-attribute-end">end</loc> = <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc>
  <loc href="#layout-attribute-region">region</loc> = IDREF
  <loc href="#embedded-content-attribute-src">src</loc> = <loc href="#embedded-content-value-image">&lt;image&gt;</loc>
  <loc href="#style-attribute-style">style</loc> = IDREFS
  <loc href="#timing-attribute-timeContainer">timeContainer</loc> = (<emph>"par"</emph> | <emph>"seq"</emph>)
  <loc href="#embedded-content-attribute-type">type</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  <loc href="#content-attribute-xlink-arcrole">xlink:arcrole</loc> = <loc href="#content-value-uri-list">&lt;uri-list&gt;</loc>
  <loc href="#content-attribute-xlink-href">xlink:href</loc> = <loc href="#content-value-uri">&lt;uri&gt;</loc>
  <loc href="#content-attribute-xlink-role">xlink:role</loc> = <loc href="#content-value-uri-list">&lt;uri-list&gt;</loc>
  <loc href="#content-attribute-xlink-show">xlink:show</loc> = (<emph>"new"</emph> | <emph>"replace"</emph> | <emph>"embed"</emph> | <emph>"other"</emph> | <emph>"none"</emph>) : none
  <loc href="#content-attribute-xlink-title">xlink:title</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  <loc href="#content-attribute-xml-base">xml:base</loc> = <loc href="#content-value-uri">&lt;uri&gt;</loc>
  <loc href="#content-attribute-xml-id">xml:id</loc> = ID
  <loc href="#content-attribute-xml-lang">xml:lang</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  <loc href="#content-attribute-xml-space">xml:space</loc> = (<emph>"default"</emph> | <emph>"preserve"</emph>)
  {<emph>any <loc href="#terms-styling-attribute">styling attributes</loc></emph>}
  {<emph>any attributes in TT Metadata Namespace</emph>}
  <emph>Content:</emph> <loc href="#element-vocab-group-metadata">Metadata.class</loc>*, <loc
  href="#element-vocab-group-animation">Animation.class</loc>*, <loc href="#embedded-content-vocabulary-source">source</loc>*
&lt;/image&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>An <el>image</el> element defines an <loc href="#terms-image-resource">image resource</loc> by using either
a <loc href="#terms-reference-data-embedding">reference data embedding</loc> or
a <loc href="#terms-sourced-data-embedding">sourced data embedding</loc>, which entails
(1) referring to a <loc href="#terms-built-in-data-resource">built-in data resource</loc>,
(2) referring to an <loc href="#terms-external-data-resource">external data resource</loc>, or
(3) defining or referring to an <loc href="#terms-embedded-data-resource">embedded data resource</loc>,
where the <loc href="#terms-data-resource">data resource</loc> contains image content.</p>
<p>If an <el>image</el> element specifies a <loc href="#embedded-content-attribute-src"><att>src</att></loc> attribute, then it must not specify a
child <loc href="#embedded-content-vocabulary-source"><el>source</el></loc> element. Conversely,
if an <el>image</el> element does not specify a <loc href="#embedded-content-attribute-src"><att>src</att></loc> attribute, then it must specify one or more
child <loc href="#embedded-content-vocabulary-source"><el>source</el></loc> elements.</p>
<p>If an <el>image</el> element specifies a <loc href="#embedded-content-attribute-src"><att>src</att></loc> attribute and its value does not refer to
an <loc href="#terms-internal-data-resource">internal data resource</loc>, then it should specify a
<loc href="#embedded-content-attribute-type"><att>type</att></loc> attribute, in which case the value of the
<loc href="#embedded-content-attribute-type"><att>type</att></loc> attribute must correspond with the media (content) type
of the referenced resource. Otherwise, a <loc href="#embedded-content-attribute-type"><att>type</att></loc> attribute must not be specified.</p>
<p>An <el>image</el> element may specify a <loc href="#style-attribute-extent"><att>tts:extent</att></loc>
style attribute in order to specify the presentation width or height of the image
when intrinsic width or height information is not available or is intended to be overridden. If this attribute is specified on both an
<el>image</el> element in an <loc href="#terms-image-presentation-context">image presentation context</loc> and on the
<el>image</el> element in an <loc href="#terms-image-defining-context">image defining context</loc> to which the former refers, then
the attribute specified on the former takes precedence over the one specified on the latter. Presentation of an image to which a
<loc href="#style-attribute-extent"><att>tts:extent</att></loc> style attribute applies is subject to a (possibly anamorphic)
scaling operation in order to obtain the width and height of the specified extent.</p>
<p>The linking attributes <att>xlink:*</att> may be used to link an <el>image</el> element with related content, using the
specified location (<code>href</code>), roles, and title. The behavior of link activation is affected by the <att>xlink:show</att> attribute,
the precise meaning of which is determined by the <loc href="#terms-document-processing-context">document processing context</loc>.</p>
<note role="historical">
<p>The default value for the <att>xlink:show</att> was originally specified
(in <xspecref href="https://www.w3.org/TR/2018/REC-ttml2-20181108/">TTML2 First Edition</xspecref>)
as <code>new</code>; however, further consideration suggested that the value <code>none</code> better reflects implementation practice,
particularly since the semantics of <code>none</code> is entirely implementation dependent and since the semantics of <code>new</code>
is merely one possible implementation of the semantics of <code>none</code>.</p>
</note>
<p>When an <el>image</el> appears in an <loc href="#terms-image-defining-context">image defining context</loc> the following additional
constraints apply:</p>
<olist>
  <item><p>attributes
  <loc href="#animation-attribute-animate"><att>animate</att></loc>,
  <loc href="#timing-attribute-begin"><att>begin</att></loc>,
  <loc href="#timing-attribute-dur"><att>dur</att></loc>,
  <loc href="#timing-attribute-end"><att>end</att></loc>,
  <loc href="#layout-attribute-region"><att>region</att></loc>, and
  <loc href="#timing-attribute-timeContainer"><att>timeContainer</att></loc>
  must not be specified, and, if they appear, must be ignored for the purpose of presentation processing;</p></item>
  <item><p>elements from the <loc href="#element-vocab-group-animation"><code>Animation.class</code></loc> element group must
  not appear as child elements, and, if they appear, must be ignored for the purpose of presentation processing.</p></item>
</olist>
<p>The use of the <el>image</el> element is illustrated by the following examples.</p>
<table id="embedded-content-vocabulary-image-example-1" role="example">
<caption>Example Fragment &ndash; External Image Resources</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;div&gt;
  &lt;p&gt;This division has a content image that appears as a block area after this paragraph.&lt;/p&gt;
  &lt;image src="https://example.com/images/caption.png" type="image/png"/&gt;
&lt;div&gt;
...
&lt;div tts:backgroundImage="https://example.com/images/background.png"&gt;
  &lt;p&gt;This division has a background image that appears under this paragraph.&lt;/p&gt;
&lt;div&gt;
...
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="embedded-content-vocabulary-image-example-2" role="example">
<caption>Example Fragment &ndash; Sharable Embedded Image Resource</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;head&gt;
  &lt;resources&gt;
    &lt;data xml:id="caption" type="image/png" length="119"&gt;
      iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8
      YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAMSURBVBhXY2BgYAAAAAQAAVzN/2kAAAAASUVORK5CYII=
    &lt;/data&gt;
  &lt;/resources&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div&gt;
    &lt;p&gt;
      &lt;image&gt;
        &lt;source src="#caption"/&gt;
      &lt;/image&gt;
    &lt;p&gt;
    ...
    &lt;p&gt;
      &lt;image&gt;
        &lt;source src="#caption"/&gt;
      &lt;/image&gt;
    &lt;p&gt;
  &lt;/div&gt;
&lt;/body&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="embedded-content-vocabulary-image-example-3" role="example">
<caption>Example Fragment &ndash; External Image Resource with Non-Sharable Image Fallback</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;div&gt;
  &lt;image&gt;
    &lt;source src="https://example.com/images/caption.png" type="image/png"/&gt;
    &lt;source&gt;
      &lt;data type="image/png" length="119"&gt;
        iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8
        YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAMSURBVBhXY2BgYAAAAAQAAVzN/2kAAAAASUVORK5CYII=
      &lt;/data&gt;
    &lt;/source&gt;
  &lt;/image&gt;
&lt;/div&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<note role="clarification">
<p>The <code>image</code> element incorporates and expands the capabilities of the 
<code>#image</code> extension introduced in <bibref ref="smpte2052-1"/>. In particular, 
a <code>smpte:backgroundImage</code> attribute that references a <loc href=
"#terms-content-image">content image</loc> can be mapped to an <code>image</code> element 
whose <code>src</code> attribute is equal to the value of the <code>smpte:backgroundImage</code> attribute.</p>
</note>
</div3> <!-- embedded-content-vocabulary-image -->
<div3 id="embedded-content-vocabulary-resources">
<head>resources</head>
<p>The <el>resources</el> element is a container element used to group
definitions of embedded content, including metadata that applies to this embedded content.</p>
<p>The <el>resources</el> element accepts as its children zero or more
elements in the <loc href="#element-vocab-group-metadata"><code>Metadata.class</code></loc> element group,
followed by zero or more elements in the
<loc href="#element-vocab-group-data"><code>Data.class</code></loc>,
<loc href="#element-vocab-group-data"><code>Embedded.class</code></loc>, or
<loc href="#element-vocab-group-data"><code>Font.class</code></loc> element groups.</p>
<table id="elt-syntax-resources" role="syntax">
<caption>XML Representation &ndash; Element Information Item: resources</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;resources
  <loc href="#content-attribute-xml-base">xml:base</loc> = <loc href="#content-value-uri">&lt;uri&gt;</loc>
  <loc href="#content-attribute-xml-id">xml:id</loc> = ID
  <loc href="#content-attribute-xml-lang">xml:lang</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  <loc href="#content-attribute-xml-space">xml:space</loc> = (<emph>"default"</emph> | <emph>"preserve"</emph>)
  <emph>Content:</emph> <loc href="#element-vocab-group-metadata">Metadata.class</loc>*, (<loc href="#element-vocab-group-data">Data.class</loc>|<loc href="#element-vocab-group-embedded">Embedded.class</loc>|<loc href="#element-vocab-group-font">Font.class</loc>)*
&lt;/resources&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>To the extent that time semantics apply to the content of the
<el>resources</el> element, the implied time interval of this element is
defined to be coterminous with the <loc href="#terms-root-temporal-extent">root temporal extent</loc>.</p>
</div3> <!-- embedded-content-vocabulary-resources -->
<div3 id="embedded-content-vocabulary-source">
<head>source</head>
<p>The <el>source</el> element is used to specify the source of an <loc href="#terms-embedded-content-resource">embedded content resource</loc>.</p>
<p>The <el>source</el> element accepts as its children
zero or more elements in the <loc href="#element-vocab-group-metadata"><code>Metadata.class</code></loc> element group followed by zero or one
<loc href="#embedded-content-vocabulary-data"><el>data</el></loc> element.</p>
<p>If a <el>source</el> element specifies a <loc href="#embedded-content-attribute-src"><att>src</att></loc> attribute, then it must not specify a
child <loc href="#embedded-content-vocabulary-data"><el>data</el></loc> element, in which case it is referred to as
an <loc href="#terms-external-source">external source</loc> if the <loc href="#embedded-content-attribute-src"><att>src</att></loc> attribute refers to an external resource, or
a <loc href="#terms-non-nested-embedded-source">non-nested embedded source</loc>
if the <loc href="#embedded-content-attribute-src"><att>src</att></loc> attribute refers to an embedded resource
in the <loc href="#terms-enclosing-document-instance">enclosing document instance</loc>.</p>
<p>If a <el>source</el> element does not specify a <loc href="#embedded-content-attribute-src"><att>src</att></loc> attribute, then it must specify a
child <loc href="#embedded-content-vocabulary-data"><el>data</el></loc> element, in which case it is referred to as
a <loc href="#terms-nested-embedded-source">nested embedded source</loc>.</p>
<p>A <el>source</el> element must not have an ancestor <el>source</el> element.</p>
<table id="elt-syntax-source" role="syntax">
<caption>XML Representation &ndash; Element Information Item: source</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;source
  <loc href="#content-attribute-condition">condition</loc> = <loc href="#content-value-condition">&lt;condition&gt;</loc>
  <loc href="#embedded-content-attribute-format">format</loc> = <loc href="#embedded-content-value-data-format">&lt;data-format&gt;</loc>
  <loc href="#embedded-content-attribute-src">src</loc> = <loc href="#embedded-content-value-data">&lt;data&gt;</loc>
  <loc href="#embedded-content-attribute-type">type</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  <loc href="#content-attribute-xml-base">xml:base</loc> = <loc href="#content-value-uri">&lt;uri&gt;</loc>
  <loc href="#content-attribute-xml-id">xml:id</loc> = ID
  <loc href="#content-attribute-xml-lang">xml:lang</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  <loc href="#content-attribute-xml-space">xml:space</loc> = (<emph>"default"</emph> | <emph>"preserve"</emph>)
  <emph>Content:</emph> <loc href="#element-vocab-group-metadata">Metadata.class</loc>*, <loc href="#embedded-content-vocabulary-data">data</loc>?
&lt;/source&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>If a <loc href="#embedded-content-attribute-format"><att>format</att></loc> attribute is specified, then it provides additional hint information about the format (i.e., formal syntax) of the
embedded content. Such information may be useful in cases where no standard media (content) type label has been defined or the information cannot be
expressed in a Media Type parameter <bibref ref="media-types"/>. Depending on the
context of use of a <el>source</el> element, the values of this attribute may be further constrained.</p>
<p>If a <loc href="#embedded-content-attribute-src"><att>src</att></loc> attribute is specified and its value refers to a fragment of the <loc href="#terms-enclosing-document-instance">enclosing document instance</loc>,
then there must be a <loc href="#embedded-content-vocabulary-data"><el>data</el></loc> element child of a <loc href="#embedded-content-vocabulary-resources"><el>resources</el></loc>
element which is identified by that fragment, i.e., has an <att>xml:id</att> attribute, the value of which matches the fragment identifier.</p>
<p>If a <loc href="#embedded-content-attribute-src"><att>src</att></loc> attribute is specified and its value does not refer to a fragment of the
<loc href="#terms-enclosing-document-instance">enclosing document instance</loc>, then
a <loc href="#embedded-content-attribute-type"><att>type</att></loc> attribute should be specified, in which case it must correspond with the media (content) type
of the referenced resource.</p>
<p>If a <loc href="#embedded-content-attribute-src"><att>src</att></loc> attribute is specified and its value does refer to a fragment of the
<loc href="#terms-enclosing-document-instance">enclosing document instance</loc>, then
a <loc href="#embedded-content-attribute-type"><att>type</att></loc> attribute must not be specified; rather, the content type of the embedded resource is determined by
the value of the <loc href="#embedded-content-attribute-type"><att>type</att></loc> attribute on the referenced or embedded
<loc href="#embedded-content-vocabulary-data"><el>data</el></loc> element.</p>
<p>The use of the <el>source</el> element is illustrated by the following examples.</p>
<table id="embedded-content-vocabulary-source-example-1" role="example">
<caption>Example Fragment &ndash; External Source</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
...
&lt;image&gt;
  &lt;source src="https://example.com/images/caption.png" type="image/png"/&gt;
&lt;/image&gt;
...
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="embedded-content-vocabulary-source-example-2" role="example">
<caption>Example Fragment &ndash; Non-Nested Embedded Source</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
...
&lt;data xml:id="caption" type="image/png" length="119"&gt;
  iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8
  YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAMSURBVBhXY2BgYAAAAAQAAVzN/2kAAAAASUVORK5CYII=
&lt;/data&gt;
...
&lt;image&gt;
  &lt;source src="#caption"/&gt;
&lt;/image&gt;
...
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="embedded-content-vocabulary-source-example-3" role="example">
<caption>Example Fragment &ndash; Nested Embedded Source</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
...
&lt;image&gt;
  &lt;source&gt;
    &lt;data type="image/png" length="119"&gt;
      iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8
      YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAMSURBVBhXY2BgYAAAAAQAAVzN/2kAAAAASUVORK5CYII=
    &lt;/data&gt;
  &lt;/source&gt;
&lt;/image&gt;
...
</eg>
</td>
</tr>
</tbody>
</table>
</div3> <!-- embedded-content-vocabulary-source -->
</div2> <!-- embedded-content-element-vocabulary -->
<div2 id="embedded-content-attribute-vocabulary">
<head>Embedded Content Attribute Vocabulary</head>
<p>This section defines the following attributes for use with certain embedded content element vocabulary:</p>
<ulist>
<item><p><specref ref="embedded-content-attribute-encoding"/></p></item>
<item><p><specref ref="embedded-content-attribute-format"/></p></item>
<item><p><specref ref="embedded-content-attribute-src"/></p></item>
<item><p><specref ref="embedded-content-attribute-type"/></p></item>
</ulist>
<div3 id="embedded-content-attribute-encoding">
<head>encoding</head>
<p>The <att>encoding</att> attribute is used to specify the encoding format of data.</p>
<p>The <att>encoding</att> attribute may be specified by an instance of the following
element types:</p>
<ulist>
<item><p><loc href="#embedded-content-vocabulary-chunk"><el>chunk</el></loc></p></item>
<item><p><loc href="#embedded-content-vocabulary-data"><el>data</el></loc></p></item>
</ulist>
<p>If specified, the value of an <att>encoding</att> attribute must take one of the following values as defined by
<bibref ref="data-encodings"/>:</p>
<ulist>
<item><p><code>base16</code></p></item>
<item><p><code>base32</code></p></item>
<item><p><code>base32hex</code></p></item>
<item><p><code>base64</code></p></item>
<item><p><code>base64url</code></p></item>
</ulist>
<p>If not specified, then <code>base64</code> semantics apply.</p>
</div3>
<div3 id="embedded-content-attribute-format">
<head>format</head>
<p>The <att>format</att> attribute is used to specify hints about the media (content) format of
an embedded content resource beyond media (content) type information
provided by a <loc href="#embedded-content-attribute-type"><att>type</att></loc> attribute.</p>
<note role="clarification">
<p>A <att>format</att> attribute is useful in the absence of a registered media (content) type,
e.g., when no media (content) type is available or a generic type is used, such as
<code>application/octet-stream</code>.</p>
</note>
<p>The <att>format</att> attribute may be specified by an instance of the following
element types:</p>
<ulist>
<item><p><loc href="#embedded-content-vocabulary-data"><el>data</el></loc></p></item>
<item><p><loc href="#embedded-content-vocabulary-source"><el>source</el></loc></p></item>
</ulist>
<p>The value of a <att>format</att> attribute must adhere to a
<loc href="#embedded-content-value-data-format">&lt;data-format&gt;</loc> expression.</p>
<p>Depending on the context of use, additional constraints may apply.</p>
</div3>
<div3 id="embedded-content-attribute-src">
<head>src</head>
<p>The <att>src</att> attribute is used to specify the location or an identifier that maps to the location of data resource.</p>
<p>The <att>src</att> attribute may be specified by an instance of the following
element types:</p>
<ulist>
<item><p><loc href="#embedded-content-vocabulary-audio"><el>audio</el></loc></p></item>
<item><p><loc href="#embedded-content-vocabulary-data"><el>data</el></loc></p></item>
<item><p><loc href="#embedded-content-vocabulary-font"><el>font</el></loc></p></item>
<item><p><loc href="#embedded-content-vocabulary-image"><el>image</el></loc></p></item>
<item><p><loc href="#embedded-content-vocabulary-source"><el>source</el></loc></p></item>
</ulist>
<p>If specified, the value of a <att>src</att> attribute must adhere to the value syntax of the
<loc href="#content-value-uri">&lt;uri&gt;</loc> value syntax.</p>
<p>Depending on the context of use, additional constraints may apply.</p>
</div3>
<div3 id="embedded-content-attribute-type">
<head>type</head>
<p>The <att>type</att> attribute is used to specify the media (content) type of data resource, and may express additional
parameters that characterize the data.</p>
<p>The <att>type</att> attribute may be specified by an instance of the following
element types:</p>
<ulist>
<item><p><loc href="#embedded-content-vocabulary-audio"><el>audio</el></loc></p></item>
<item><p><loc href="#embedded-content-vocabulary-data"><el>data</el></loc></p></item>
<item><p><loc href="#embedded-content-vocabulary-font"><el>font</el></loc></p></item>
<item><p><loc href="#embedded-content-vocabulary-image"><el>image</el></loc></p></item>
</ulist>
<p>If specified, the value of a <att>type</att> attribute must adhere to the value syntax of the <code>Content-Type</code>
MIME header defined by <bibref ref="mime"/>, &sect;5.1.</p>
<p>If not specified, then the media (content) type is unknown or deliberately unspecified.</p>
<p>When decoding a data resource for which a <att>type</att> attribute is specified, then content processing
must respect the specified type whether it is correct or not. That is, if a <att>type</att> attribute mis-specifies the
type of a data resource, then content processing must not attempt to override that type by performing content
sniffing.</p>
</div3>
</div2> <!-- embedded-content-attribute-vocabulary -->
<div2 id="embedded-content-value-expressions">
<head>Embedded Content Value Expressions</head>
<p>Embedded content elements as well as certain style property values make use of the following expressions:</p>
<ulist>
<item><p><specref ref="embedded-content-value-audio"/></p></item>
<item><p><specref ref="embedded-content-value-data"/></p></item>
<item><p><specref ref="embedded-content-value-data-format"/></p></item>
<item><p><specref ref="embedded-content-value-font"/></p></item>
<item><p><specref ref="embedded-content-value-image"/></p></item>
<item><p><specref ref="embedded-content-value-unicode-range"/></p></item>
</ulist>
<div3 id="embedded-content-value-audio">
<head>&lt;audio&gt;</head>
<p>An &lt;audio&gt; value expression is used to specify an <loc href="#terms-audio-resource">audio resource</loc> by reference.</p>
<table id="audio-value-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;audio&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;audio&gt;
  : <loc href="#content-value-uri">&lt;uri&gt;</loc>
</eg>
</td>
</tr>
</tbody>
</table>
<p>If an &lt;audio&gt; value expression takes the form of a bare <loc href="#terms-fragment-identifier">fragment identifier</loc>,
then that fragment identifier must reference an <loc href="#embedded-content-vocabulary-audio"><el>audio</el></loc> element that is a child of a
<loc href="#embedded-content-vocabulary-resources"><el>resources</el></loc> element in the <loc href="#terms-enclosing-document-instance">enclosing document instance</loc>.</p>
<p>If an &lt;audio&gt; value expression takes the value <code>http://www.w3.org/ns/ttml/resource/#empty</code>,
then the referenced <loc href="#terms-audio-resource">audio resource</loc> is the
<loc href="#terms-empty-data-resource">empty data resource</loc>.</p>
<p>If an &lt;audio&gt; value expression takes the value <code>http://www.w3.org/ns/ttml/resource/#speech</code>, then, if a 
<loc href="#terms-speech-synthesis-processor">speech synthesis processor</loc> is supported and enabled, the
referenced <loc href="#terms-audio-resource">audio resource</loc> is the
<loc href="#terms-speech-data-resource">speech data resource</loc>;
otherwise (if a <loc href="#terms-speech-synthesis-processor">speech synthesis processor</loc> is not supported or is supported but disabled),
then the referenced <loc href="#terms-audio-resource">audio resource</loc> is the
<loc href="#terms-empty-data-resource">empty data resource</loc>.</p>
</div3>
<div3 id="embedded-content-value-data">
<head>&lt;data&gt;</head>
<p>A &lt;data&gt; value expression is used to specify a data resource by reference.</p>
<table id="data-value-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;data&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;data&gt;
  : <loc href="#content-value-uri">&lt;uri&gt;</loc>
</eg>
</td>
</tr>
</tbody>
</table>
<p>If a &lt;data&gt; value expression takes the form of a <loc href="#terms-fragment-identifier">fragment identifier</loc>,
then that fragment identifier must reference a <loc href="#embedded-content-vocabulary-data"><el>data</el></loc> element that is a child of a
<loc href="#embedded-content-vocabulary-resources"><el>resources</el></loc> element in the <loc href="#terms-enclosing-document-instance">enclosing document instance</loc>.</p>
</div3>
<div3 id="embedded-content-value-data-format">
<head>&lt;data-format&gt;</head>
<p>A &lt;data-format&gt; expression is used to specify the format of a data resource. Additional format information is useful in the case
of data resources that lack a registered media (content) type.</p>
<table id="data-format-value-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;data-format&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;data-format&gt;
  : <loc href="https://www.w3.org/TR/xmlschema-2/#NCName">xsd:NCName</loc>
  | <loc href="#content-value-uri">&lt;uri&gt;</loc>
</eg>
</td>
</tr>
</tbody>
</table>
<p>If a format expression takes the form of a <loc href="#content-value-uri">&lt;uri&gt;</loc> value,
then it must express an absolute URI.</p>
<note role="elaboration">
<p>This specification does not standardize the set of format tokens for use with data content. Authors are encouraged to
use tokens in common use, or absent that, to add a prefix <code>"x-"</code> to form a private use token.</p>
</note>
</div3>
<div3 id="embedded-content-value-font">
<head>&lt;font&gt;</head>
<p>A &lt;font&gt; expression is used to specify a <loc href="#terms-font-resource">font resource</loc> by reference.</p>
<table id="font-value-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;font&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;font&gt;
  : <loc href="#content-value-uri">&lt;uri&gt;</loc>
</eg>
</td>
</tr>
</tbody>
</table>
<p>If a &lt;font&gt; expression takes the form of a <loc href="#terms-fragment-identifier">fragment identifier</loc>,
then that fragment identifier must reference a <loc href="#embedded-content-vocabulary-font"><el>font</el></loc> element that is a child of a
<loc href="#embedded-content-vocabulary-resources"><el>resources</el></loc> element in the <loc href="#terms-enclosing-document-instance">enclosing document instance</loc>.</p>
</div3>
<div3 id="embedded-content-value-image">
<head>&lt;image&gt;</head>
<p>An &lt;image&gt; expression is used to specify an <loc href="#terms-image-resource">image resource</loc> by reference.</p>
<table id="image-value-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;image&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;image&gt;
  : <loc href="#content-value-uri">&lt;uri&gt;</loc>
</eg>
</td>
</tr>
</tbody>
</table>
<p>If an &lt;image&gt; expression takes the form of a <loc href="#terms-fragment-identifier">fragment identifier</loc>,
then that fragment identifier must reference an <loc href="#embedded-content-vocabulary-image"><el>image</el></loc> element that is a child of a
<loc href="#embedded-content-vocabulary-resources"><el>resources</el></loc> element in the <loc href="#terms-enclosing-document-instance">enclosing document instance</loc>.</p>
</div3>
<div3 id="embedded-content-value-unicode-range">
<head>&lt;unicode-range&gt;</head>
<p>A &lt;unicode-range&gt; expression is used to specify a collection of Unicode codepoints by enumerating singleton codepoints or ranges of codepoints.</p>
<table id="unicode-range-value-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;unicode-range&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;unicode-range&gt;
  : range (<loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? "," <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? range)*

range
  : codepoint
  | codepoint "-" codepoint

codepoint
  : ("U"|"u") "+" hexdigit-or-wildcard{1,6}

hexdigit-or-wildcard
  : <loc href="#style-value-hex-digit">&lt;hex-digit&gt;</loc>
  | "?"
</eg>
</td>
</tr>
</tbody>
</table>
</div3>
</div2> <!-- embedded-content-value-expressions -->
</div1> <!-- embedded-content -->
<div1 id="styling">
<head>Styling</head>
<p>This section specifies the <emph>styling</emph> matter of the core
vocabulary catalog, where
styling is to be understood as a separable layer of information that applies to
content and that denotes authorial intentions about the presentation of
that content.</p>
<p><loc href="#terms-styling-attribute">Styling attributes</loc> are included in TTML to enable authorial intent of presentation
to be included within a self-contained document. This section describes
the semantics of style presentation in terms of a standard processing
model. TTML Processors are not required to present <loc href="#terms-document-instance">document instances</loc> in any particular way; 
but an implementation of this model by a TTML <loc href="#terms-presentation-processor">presentation processor</loc>
that provides externally observable results that are consistent with this model is
likely to lead to a user experience that closely resembles the experience intended by
the documents&apos; authors.</p>
<note role="explanation">
<p>The semantics of TTML style presentation are described in terms of the layout and formatting model defined
in <bibref ref="xslfo11"/>. The effects of the attributes in this section 
are intended to be compatible with this model; however, presentation agents
may use any technology to satisfy the authorial intent of the document. For example, a <bibref ref="css2"/> processor may be used 
to implement features it has in common with this model.</p>
</note>
<p>No normative use of an
<code>&lt;?xml-stylesheet ... ?&gt;</code> processing instruction is defined
by this specification.</p>
<p>The <loc href="#terms-styling-attribute">styling attributes</loc> defined in this section may be specified by any element type
that permits use of attributes in the <termref def="defs-tt-style-namespaces">TT Style Namespaces</termref>; however, these attributes apply
as style properties only to those element types indicated by the definition of each attribute. Furthermore,
unless explicitly permitted by an element type definition, an attribute in the <termref def="defs-tt-style-namespaces">TT Style Namespaces</termref>
should not be specified on an element unless it either applies to that element or denotes an inheritable style property.
If it does not apply to that element and does not denote an inheritable style property, then it must be ignored for the purpose
of non-validation processing. In the case of <loc href="#terms-validation-processing">validation processing</loc>,
such usage should be reported as a warning.</p>
<p>For the purpose of determining the applicability of a style property, if the style property is defined so as to apply to a
<loc href="#content-vocabulary-span"><el>span</el></loc> element, then it also applies to
<loc href="#terms-anonymous-span">anonymous span</loc> elements.</p>
<div2 id="styling-element-vocabulary">
<head>Styling Element Vocabulary</head>
<p>The following elements specify the structure and principal styling aspects of a
<loc href="#terms-document-instance">document instance</loc>:</p>
<ulist>
<item><p><specref ref="styling-vocabulary-initial"/></p></item>
<item><p><specref ref="styling-vocabulary-style"/></p></item>
<item><p><specref ref="styling-vocabulary-styling"/></p></item>
</ulist>
<div3 id="styling-vocabulary-initial">
<head>initial</head>
<p>The <el>initial</el> element is used to modify the initial value of one or more style properties, i.e, to specify use of different value(s) than
the specification defined initial value(s).</p>
<p>The <el>initial</el> element accepts as its children zero or more <el>metadata</el> elements.</p>
<table id="elt-syntax-initial" role="syntax">
<caption>XML Representation &ndash; Element Information Item: initial</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;initial
  <loc href="#content-attribute-condition">condition</loc> = <loc href="#content-value-condition">&lt;condition&gt;</loc>
  <loc href="#content-attribute-xml-base">xml:base</loc> = <loc href="#content-value-uri">&lt;uri&gt;</loc>
  <loc href="#content-attribute-xml-id">xml:id</loc> = ID
  <loc href="#content-attribute-xml-lang">xml:lang</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  <loc href="#content-attribute-xml-space">xml:space</loc> = (<emph>"default"</emph> | <emph>"preserve"</emph>)
  {<emph>any <loc href="#terms-styling-attribute">styling attributes</loc></emph>}
  <emph>Content:</emph> <loc href="#element-vocab-group-metadata">Metadata.class</loc>*
&lt;/initial&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>If more than one <el>initial</el> element specifies an initial value for the same style property, then
the last value specified (in pre-traversal order) applies.</p>
<p>The <el>initial</el> element is illustrated by the following example, wherein
the initial value of the <att>tts:color</att> property is defined to be <code>yellow</code>.</p>
<table id="style-vocabulary-initial-example-1" role="example">
<caption>Example Fragment &ndash; <el>initial</el></caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
...
&lt;head&gt;
  &lt;styling&gt;
    <phrase role="strong">&lt;initial tts:color="yellow"/&gt;</phrase>
  &lt;styling&gt;
&lt;head&gt;
...
</eg>
</td>
</tr>
</tbody>
</table>
</div3>
<div3 id="styling-vocabulary-style">
<head>style</head>
<p>The <el>style</el> element is used to define
a set of style specifications expressed as a
specified style set in accordance with
<specref ref="semantics-style-resolution-processing-sss"/>.</p>
<p>The <el>style</el> element accepts as its children zero or more <el>metadata</el> elements.</p>
<table id="elt-syntax-style" role="syntax">
<caption>XML Representation &ndash; Element Information Item: style</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;style
  <loc href="#content-attribute-condition">condition</loc> = <loc href="#content-value-condition">&lt;condition&gt;</loc>
  <loc href="#style-attribute-style">style</loc> = IDREFS
  <loc href="#content-attribute-xml-base">xml:base</loc> = <loc href="#content-value-uri">&lt;uri&gt;</loc>
  <loc href="#content-attribute-xml-id">xml:id</loc> = ID
  <loc href="#content-attribute-xml-lang">xml:lang</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  <loc href="#content-attribute-xml-space">xml:space</loc> = (<emph>"default"</emph> | <emph>"preserve"</emph>)
  {<emph>any <loc href="#terms-styling-attribute">styling attributes</loc></emph>}
  <emph>Content:</emph> <loc href="#element-vocab-group-metadata">Metadata.class</loc>*
&lt;/style&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>If a <el>style</el> element appears as a descendant of a
<el>region</el> element, then the <el>style</el> element must be
ignored for the purpose of computing referential styles as defined by
<specref ref="semantics-style-association-referential"/> and <specref
ref="semantics-style-association-chained-referential"/>.</p>
<note role="explanation">
<p>That is to say, when referential styling is used by an element to
refer to a <el>style</el> element, then the referenced <el>style</el>
element must appear as a descendant of the <el>styling</el> element, and
not in any other context.</p>
</note>
<note role="elaboration">
<p>If a <loc href="#content-attribute-condition"><att>condition</att></loc> attribute applies to
a <el>style</el> element and that condition evaluates to <code>false</code>,
then its nested and inline styles are ignored; however, styles that would
be included by means of referential or chained referential styling are not ignored.
See <specref ref="semantics-style-resolution-processing-sss"/> for further details.</p>
</note>
</div3>
<div3 id="styling-vocabulary-styling">
<head>styling</head>
<p>The <el>styling</el> element is a container element used to group
styling matter, including metadata that applies to styling matter.</p>
<p>The <el>styling</el> element accepts as its children zero or more
elements in the <loc href="#element-vocab-group-metadata"><code>Metadata.class</code></loc> element group,
followed by zero or more <el>initial</el> elements,
followed by zero or more <el>style</el> elements.</p>
<table id="elt-syntax-styling" role="syntax">
<caption>XML Representation &ndash; Element Information Item: styling</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;styling
  <loc href="#content-attribute-xml-base">xml:base</loc> = <loc href="#content-value-uri">&lt;uri&gt;</loc>
  <loc href="#content-attribute-xml-id">xml:id</loc> = ID
  <loc href="#content-attribute-xml-lang">xml:lang</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  <loc href="#content-attribute-xml-space">xml:space</loc> = (<emph>"default"</emph> | <emph>"preserve"</emph>)
  <emph>Content:</emph> <loc href="#element-vocab-group-metadata">Metadata.class</loc>*, <loc href="#styling-vocabulary-initial">initial</loc>*, <loc href="#styling-vocabulary-style">style</loc>*
&lt;/styling&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>To the extent that time semantics apply to the content of the
<el>styling</el> element, the implied time interval of this element is
defined to be coterminous with the <loc href="#terms-root-temporal-extent">root temporal extent</loc>.</p>
</div3>
</div2> <!-- styling-element-vocabulary -->
<div2 id="styling-attribute-vocabulary">
<head>Styling Attribute Vocabulary</head>
<p>This section defines the <specref ref="style-attribute-style"/> attribute used
with certain animation elements, <loc href="#terms-content-element">content elements</loc>, certain layout elements, and style definition elements.</p>
<p>In addition, this section specifies the following attributes in the TT Style Namespace
for use with style definition elements, certain layout elements, and <loc href="#terms-content-element">content elements</loc>
that support inline style specifications:</p>
<ulist>
<item><p><specref ref="style-attribute-backgroundClip"/></p></item>
<item><p><specref ref="style-attribute-backgroundColor"/></p></item>
<item><p><specref ref="style-attribute-backgroundExtent"/></p></item>
<item><p><specref ref="style-attribute-backgroundImage"/></p></item>
<item><p><specref ref="style-attribute-backgroundOrigin"/></p></item>
<item><p><specref ref="style-attribute-backgroundPosition"/></p></item>
<item><p><specref ref="style-attribute-backgroundRepeat"/></p></item>
<item><p><specref ref="style-attribute-border"/></p></item>
<item><p><specref ref="style-attribute-bpd"/></p></item>
<item><p><specref ref="style-attribute-color"/></p></item>
<item><p><specref ref="style-attribute-direction"/></p></item>
<item><p><specref ref="style-attribute-disparity"/></p></item>
<item><p><specref ref="style-attribute-display"/></p></item>
<item><p><specref ref="style-attribute-displayAlign"/></p></item>
<item><p><specref ref="style-attribute-extent"/></p></item>
<item><p><specref ref="style-attribute-fontFamily"/></p></item>
<item><p><specref ref="style-attribute-fontKerning"/></p></item>
<item><p><specref ref="style-attribute-fontSelectionStrategy"/></p></item>
<item><p><specref ref="style-attribute-fontShear"/></p></item>
<item><p><specref ref="style-attribute-fontSize"/></p></item>
<item><p><specref ref="style-attribute-fontStyle"/></p></item>
<item><p><specref ref="style-attribute-fontVariant"/></p></item>
<item><p><specref ref="style-attribute-fontWeight"/></p></item>
<item><p><specref ref="style-attribute-ipd"/></p></item>
<item><p><specref ref="style-attribute-letterSpacing"/></p></item>
<item><p><specref ref="style-attribute-lineHeight"/></p></item>
<item><p><specref ref="style-attribute-lineShear"/></p></item>
<item><p><specref ref="style-attribute-luminanceGain"/></p></item>
<item><p><specref ref="style-attribute-opacity"/></p></item>
<item><p><specref ref="style-attribute-origin"/></p></item>
<item><p><specref ref="style-attribute-overflow"/></p></item>
<item><p><specref ref="style-attribute-padding"/></p></item>
<item><p><specref ref="style-attribute-position"/></p></item>
<item><p><specref ref="style-attribute-ruby"/></p></item>
<item><p><specref ref="style-attribute-rubyAlign"/></p></item>
<item><p><specref ref="style-attribute-rubyPosition"/></p></item>
<item><p><specref ref="style-attribute-rubyReserve"/></p></item>
<item><p><specref ref="style-attribute-shear"/></p></item>
<item><p><specref ref="style-attribute-showBackground"/></p></item>
<item><p><specref ref="style-attribute-textAlign"/></p></item>
<item><p><specref ref="style-attribute-textCombine"/></p></item>
<item><p><specref ref="style-attribute-textDecoration"/></p></item>
<item><p><specref ref="style-attribute-textEmphasis"/></p></item>
<item><p><specref ref="style-attribute-textOrientation"/></p></item>
<item><p><specref ref="style-attribute-textOutline"/></p></item>
<item><p><specref ref="style-attribute-textShadow"/></p></item>
<item><p><specref ref="style-attribute-unicodeBidi"/></p></item>
<item><p><specref ref="style-attribute-visibility"/></p></item>
<item><p><specref ref="style-attribute-wrapOption"/></p></item>
<item><p><specref ref="style-attribute-writingMode"/></p></item>
<item><p><specref ref="style-attribute-zIndex"/></p></item>
</ulist>
<p>In addition to the above visual styling attribues, this section specifies the following audio
<loc href="#terms-styling-attribute">styling attributes</loc> in the TT Audio Style Namespace
for use with style definition elements and <loc href="#terms-content-element">content elements</loc>
that support inline style specifications:</p>
<ulist>
<item><p><specref ref="audio-style-attribute-gain"/></p></item>
<item><p><specref ref="audio-style-attribute-pan"/></p></item>
<item><p><specref ref="audio-style-attribute-pitch"/></p></item>
<item><p><specref ref="audio-style-attribute-speak"/></p></item>
</ulist>
<p>Each style attribute (and corresponding property) defined in this section makes use of a
<termdef id="defs-style-property-definition-table" term=""><term>style property definition table</term></termdef>, which
specifies one or more of the following aspects of the style: value syntax, initial value,
elements to which style semantically applies, whether style is inherited or not, how percentage values are interpreted (if applicable),
whether (and how) style is animatable, and semantic basis (derivation).</p>
<note role="elaboration">
<p>For the purpose of interpreting the entries of a
<termref def="defs-style-property-definition-table">style property definition table</termref>, the definition of <emph>applies to</emph>
specified by <bibref ref="css2"/>, &sect;1.4.2.3, applies to this specification.</p>
</note>
<p>For <loc href="#terms-animatable-style">animatable styles</loc>, the term <termdef id="defs-discrete" term=""><term>discrete</term></termdef> refers to the use of either a <loc href="#animation-vocabulary-set"><el>set</el></loc>
element or an <loc href="#animation-vocabulary-animate"><el>animate</el></loc> element with the <code>discrete</code> value for its
<loc href="#animation-value-calculation-mode">&lt;calculation-mode&gt;</loc>. The term <termdef id="defs-continuous" term=""><term>continuous</term></termdef> refers to
the use of an <loc href="#animation-vocabulary-animate"><el>animate</el></loc> element with a <code>linear</code>, <code>paced</code>, or <code>spline</code>
value for its <loc href="#animation-value-calculation-mode">&lt;calculation-mode&gt;</loc>. The term <emph>none</emph> indicates the style
is not animatable.</p>
<note role="explanation">
<p>This specification makes use of <emph>lowerCamelCased</emph> local
names for style attributes that
are based upon like-named properties defined by <bibref ref="xslfo11"/>.
This convention is likewise extended to token values of such
properties.</p>
</note>
<note role="clarification">
<p>An inheritable style property may be expressed as a specified attribute on a
<loc href="#document-structure-vocabulary-tt"><el>region</el></loc> element or on a
<loc href="#terms-content-element">content element</loc> type
independently of whether the property applies to that
element type. This capability permits the expression of an inheritable
style property on ancestor elements to which the property
does not apply.</p>
</note>
<note role="usage">
<p>Due to the general syntax of this specification (and the schemas it references) with respect
to how style attributes are specified, particularly for the purpose of supporting inheritance,
it is possible for an author to inadvertently specify a non-inheritable style attribute on
an element that applies neither to that element or any of its descendants while still remaining
conformant from a content validity perspective. Content authors may wish to make use of TTML
content verification tools that detect and warn about such usage.</p>
</note>
<div3 id="style-attribute-style">
<head>style</head>
<p>The <att>style</att> attribute is used by referential style association
to reference one or more <el>style</el> elements each of which define a style (property) set.</p>
<p>The <att>style</att> attribute may be specified by an instance of the following
element types:</p>
<ulist>
<item><p><loc href="#embedded-content-vocabulary-audio"><el>audio</el></loc></p></item>
<item><p><loc href="#document-structure-vocabulary-body"><el>body</el></loc></p></item>
<item><p><loc href="#content-vocabulary-br"><el>br</el></loc></p></item>
<item><p><loc href="#content-vocabulary-div"><el>div</el></loc></p></item>
<item><p><loc href="#embedded-content-vocabulary-image"><el>image</el></loc></p></item>
<item><p><loc href="#content-vocabulary-p"><el>p</el></loc></p></item>
<item><p><loc href="#layout-vocabulary-region"><el>region</el></loc></p></item>
<item><p><loc href="#content-vocabulary-span"><el>span</el></loc></p></item>
<item><p><loc href="#styling-vocabulary-style"><el>style</el></loc></p></item>
</ulist>
<p>If specified, the value of a <att>style</att> attribute must
adhere to the <code>IDREFS</code> data type defined by <bibref ref="xsd-2"/>,
&sect;3.3.10, and, furthermore, each IDREF must reference a <el>style</el> element
which has a <el>styling</el> element as an ancestor.</p>
<p>If the same IDREF, <emph>ID<sub>1</sub></emph>&thinsp;, appears more than one time in the value of a <att>style</att>
attribute, then there should be an intervening IDREF, <emph>ID<sub>2</sub></emph>&thinsp;, where 
<emph>ID<sub>2</sub></emph> is not equal to <emph>ID<sub>1</sub></emph>.</p>
<note role="explanation">
<p>This constraint is intended to discourage the use of redundant referential styling while still
allowing the same style to be referenced multiple times in order to potentially override prior
referenced styles, e.g., when an intervening, distinct style is referenced in the IDREFS list.</p>
</note>
<note role="usage">
<p>See the specific element type definitions that permit use of the
<att>style</att> attribute, as well as <specref
ref="semantics-style-association-referential"/> and <specref
ref="semantics-style-association-chained-referential"/>, for
further information on its semantics.</p>
</note>
</div3>
<div3 id="style-attribute-backgroundClip">
<head>tts:backgroundClip</head>
<p>The <att>tts:backgroundClip</att> attribute is used to specify a style property that
determines the <loc href="#terms-background-painting-rectangle">background painting rectangle</loc> within
which the background is painted.</p>
<table id="style-property-details-backgroundClip" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>"border"</code> |
<code>"content"</code> |
<code>"padding"</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>border</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#document-structure-vocabulary-body"><el>body</el></loc>,
<loc href="#content-vocabulary-div"><el>div</el></loc>,
<loc href="#embedded-content-vocabulary-image"><el>image</el></loc>,
<loc href="#content-vocabulary-p"><el>p</el></loc>,
<loc href="#layout-vocabulary-region"><el>region</el></loc>,
<loc href="#content-vocabulary-span"><el>span</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-backgroundClip">backgroundClip derivation</loc></td>
</tr>
</tbody>
</table>
<p>The <att>tts:backgroundClip</att> style is illustrated by the following example.</p>
<table id="style-attribute-backgroundClip-example-1" role="example">
<caption>Example Fragment &ndash; Background Clip</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="306px 114px"/&gt;
  &lt;style tts:backgroundColor="red"/&gt;
  &lt;style tts:backgroundOrigin="padding"/&gt;
  &lt;style tts:padding="27px 72px"/&gt;
  &lt;style tts:backgroundRepeat="noRepeat"/&gt;
  &lt;style <phrase role="strong">tts:backgroundImage="#blue102px57px"</phrase>/&gt;
  &lt;style <phrase role="strong">tts:backgroundClip="content"</phrase>/&gt;
&lt;/region&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="style-attribute-backgroundClip-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Background Clip</caption>
<tbody>
<tr>
<td><graphic source="images/backgroundClip.png" alt="TTML backgroundClip style property"/></td>
</tr>
</tbody>
</table>
<p></p>
</div3>
<div3 id="style-attribute-backgroundColor">
<head>tts:backgroundColor</head>
<p>The <att>tts:backgroundColor</att> attribute is used to specify a style property that
defines the background color of a region or an area generated by content flowed into a region.</p>
<p></p>
<table id="style-property-details-backgroundColor" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<loc href="#style-value-color">&lt;color&gt;</loc>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>transparent</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#document-structure-vocabulary-body"><el>body</el></loc>,
<loc href="#content-vocabulary-div"><el>div</el></loc>,
<loc href="#embedded-content-vocabulary-image"><el>image</el></loc>,
<loc href="#content-vocabulary-p"><el>p</el></loc>,
<loc href="#layout-vocabulary-region"><el>region</el></loc>,
<loc href="#content-vocabulary-span"><el>span</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete; continuous</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-backgroundColor">backgroundColor derivation</loc></td>
</tr>
</tbody>
</table>
<p>The <att>tts:backgroundColor</att> style is illustrated by the following example.</p>
<table id="style-attribute-backgroundColor-example-1" role="example">
<caption>Example Fragment &ndash; Background Color</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="306px 114px"/&gt;
  &lt;style <phrase role="strong">tts:backgroundColor="red"</phrase>/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style tts:displayAlign="after"/&gt;
  &lt;style tts:padding="3px 30px"/&gt;
&lt;/region&gt;
...
&lt;p region="r1" <phrase role="strong">tts:backgroundColor="purple"</phrase> tts:textAlign="center"&gt;
  Twinkle, twinkle, little bat!&lt;br/&gt;
  How &lt;span <phrase role="strong">tts:backgroundColor="green"</phrase>&gt;I wonder&lt;/span&gt; where you&apos;re at!
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="style-attribute-backgroundColor-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Background Color</caption>
<tbody>
<tr>
<td><graphic source="images/backgroundColor.png" alt="TTML backgroundColor style property"/></td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-attribute-backgroundExtent">
<head>tts:backgroundExtent</head>
<p>The <att>tts:backgroundExtent</att> attribute may be used to specify the extent (size) of a background image
independently of the image&apos;s intrinsic extent (size).</p>
<table id="style-property-details-backgroundExtent" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td><loc href="#style-value-extent">&lt;extent&gt;</loc></td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>auto</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#document-structure-vocabulary-body"><el>body</el></loc>,
<loc href="#content-vocabulary-div"><el>div</el></loc>,
<loc href="#embedded-content-vocabulary-image"><el>image</el></loc>,
<loc href="#content-vocabulary-p"><el>p</el></loc>,
<loc href="#layout-vocabulary-region"><el>region</el></loc>,
<loc href="#content-vocabulary-span"><el>span</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>relative to width and height of the applicable <loc href="#terms-background-positioning-rectangle">background positioning rectangle</loc></td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-backgroundExtent">backgroundExtent derivation</loc></td>
</tr>
</tbody>
</table>
<p>If the value of this attribute is <code>auto</code>, then the computed value
of the style property must be considered to be the same as the intrinsic extent (size) of the associated background image.</p>
<p>If the value of this attribute is <code>contain</code>, then the computed value
of the style property is determined by performing the
<loc href="#semantics-style-procedures-contain"><phrase role="strong">[compute containment scaling]</phrase></loc> procedure,
where the target rectangle <emph>TR</emph> is initialized to the intrinsic width and height of the image,
the reference rectangle <emph>RR</emph> is set to the <loc href="#terms-background-positioning-rectangle">background positioning rectangle</loc>,
and the resulting output value of the target rectangle <emph>TR</emph> is the computed value.</p>
<p>If the value of this attribute is <code>cover</code>, then the computed value
of the style property is determined by performing the
<loc href="#semantics-style-procedures-cover"><phrase role="strong">[compute cover scaling]</phrase></loc> procedure,
where the target rectangle <emph>TR</emph> is initialized to the intrinsic width and height of the image,
the reference rectangle <emph>RR</emph> is set to the <loc href="#terms-background-positioning-rectangle">background positioning rectangle</loc>,
and the resulting output value of the target rectangle <emph>TR</emph> is the computed value.</p>
<p>If the value of this attribute consists of two <loc href="#style-value-measure">&lt;measure&gt;</loc>
specifications, then the first specification is the <emph>width</emph> and the second specification is the <emph>height</emph>,
respectively, of the computed value of this property, in which case both <loc href="#style-value-measure">&lt;measure&gt;</loc> specifications
must resolve (or be resolvable) to non-negative lengths.</p>
<p>If the computed value of this style property differs from the image&apos;s intrinsic extent (size), then the image raster is scaled independently
in each dimension to match the computed extent value.</p>
<p>If a computed value of the property associated with this attribute is not supported,
then a <loc href="#terms-presentation-processor">presentation processor</loc> must use the closest supported value.</p>
<note role="elaboration">
<p>In this context, the phrase <emph>closest supported value</emph> means the value for which the Euclidean distance between
the computed background extent and the supported background extent is minimized. If there are multiple closest supported values equally distant from
the computed value, then the value most distant from [0,0], i.e., of greatest extent, is used.</p>
<p>This rule for resolving <emph>closest supported value</emph> makes use of the nearest larger rather than nearest smaller supported distance.</p>
</note>
<p>The <att>tts:backgroundExtent</att> style is illustrated by the following example.</p>
<table id="style-attribute-backgroundExtent-example-1" role="example">
<caption>Example Fragment &ndash; Background Extent</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="306px 114px"/&gt;
  &lt;style tts:backgroundColor="red"/&gt;
  &lt;style tts:backgroundRepeat="noRepeat"/&gt;
  &lt;style <phrase role="strong">tts:backgroundImage="#blue102px57px"</phrase>/&gt;
  &lt;style <phrase role="strong">tts:backgroundExtent="cover"</phrase>/&gt;
&lt;/region&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="style-attribute-backgroundExtent-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Background Extent</caption>
<tbody>
<tr>
<td><graphic source="images/backgroundExtent.png" alt="TTML backgroundExtent style property"/></td>
</tr>
</tbody>
</table>
<p></p>
</div3>
<div3 id="style-attribute-backgroundImage">
<head>tts:backgroundImage</head>
<p>The <att>tts:backgroundImage</att> attribute is used to specify a style property that
designates a background <loc href="#terms-non-content-image">non-content image</loc> to be rendered as
the background image of a region or an area generated by content flowed into a region.</p>
<p>A <att>tts:backgroundImage</att> attribute should not make reference to a <loc href="#terms-content-image">content image</loc>
used to represent actual content, such as a raster image rendering of a caption. Rather, the use of <att>tts:backgroundImage</att>
should be limited to styling the background of an element where the content is represented by other means. If it is necessary
to represent content using a raster image, then it should be expressed by means of an <loc href="#embedded-content-vocabulary-image"><el>image</el></loc>
element in a block or inline context.</p>
<table id="style-property-details-backgroundImage" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>"none"</code> | <loc href="#embedded-content-value-image">&lt;image&gt;</loc>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>none</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#document-structure-vocabulary-body"><el>body</el></loc>,
<loc href="#content-vocabulary-div"><el>div</el></loc>,
<loc href="#embedded-content-vocabulary-image"><el>image</el></loc>,
<loc href="#content-vocabulary-p"><el>p</el></loc>,
<loc href="#layout-vocabulary-region"><el>region</el></loc>,
<loc href="#content-vocabulary-span"><el>span</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-backgroundImage">backgroundImage derivation</loc></td>
</tr>
</tbody>
</table>
<p>An <loc href="#embedded-content-value-image">&lt;image&gt;</loc> expression used with this style property may directly reference an external <loc href="#terms-image-resource">image resource</loc>;
however, authors should refrain from doing so, and instead, constrain their usage to refer only to <loc href="#embedded-content-vocabulary-image"><el>image</el></loc>
children of a <loc href="#embedded-content-vocabulary-resources"><el>resources</el></loc> element.</p>
<note role="explanation">
<p>Referring indirectly to an image by means of an <loc href="#embedded-content-vocabulary-image"><el>image</el></loc> element makes it possible to
specify an image as an <loc href="#terms-embedded-data-resource">embedded data resource</loc>, and specify
additional information about the image, such as its content type, etc. Furthermore, by exploiting the use of multiple
<loc href="#embedded-content-vocabulary-source"><el>source</el></loc> children in an <loc href="#embedded-content-vocabulary-image"><el>image</el></loc> element,
it becomes possible to specify resolution specific images and fallback <loc href="#terms-image-resource">image resources</loc>.</p>
</note>
<note role="clarification">
<p>Due to the use of the value <code>none</code> as a keyword, it is not possible to use this value as an
<loc href="#embedded-content-vocabulary-image"><el>image</el></loc> expression; consequently, if one desires to use such an expression, it must
be disambiguated from the keyword <code>none</code> by employing an absolute URI or a different but equivalent relative URI,
such as <code>./none</code>.</p>
</note>
<p>The extent of the content rectangle of an area generated by an element associated with a background image is not affected by the resolved
extent of the background image.</p>
<note role="interoperability">
<p>Some profiles of TTML1, such as <bibref ref="smpte2052-1"/> and its dependent profiles, specify that a background image affects the
extent of the content rectangle of an area generated by an associated element. When transforming between these profiles and TTML2,
such a background image should be mapped to an <loc href="#embedded-content-vocabulary-image"><el>image</el></loc> element,
and not a <loc href="#style-attribute-backgroundImage"><att>tts:backgroundImage</att></loc> attribute.</p></note>
<p>The <att>tts:backgroundImage</att> style is illustrated by the following example.</p>
<table id="style-attribute-backgroundImage-example-1" role="example">
<caption>Example Fragment &ndash; Background Image using Embedded Image Resource</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;head&gt;
  &lt;resources&gt;
    &lt;image xml:id="blue102px57px"&gt;
      &lt;source&gt;
        &lt;data type="image/png" length="119"&gt;
          iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8
          YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAMSURBVBhXY2BgYAAAAAQAAVzN/2kAAAAASUVORK5CYII=
        &lt;/data&gt;
      &lt;/source&gt;
    &lt;/image&gt;
  &lt;/resources&gt;
&lt;/head&gt;
...
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="306px 114px"/&gt;
  &lt;style tts:backgroundColor="red"/&gt;
  &lt;style tts:backgroundClip="padding"/&gt;
  &lt;style tts:backgroundRepeat="noRepeat"/&gt;
  &lt;style <phrase role="strong">tts:backgroundImage="#blue102px57px"</phrase>/&gt;
  &lt;style tts:padding="27px 72px"/&gt;
&lt;/region&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="style-attribute-backgroundImage-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Background Image</caption>
<tbody>
<tr>
<td><graphic source="images/backgroundImage.png" alt="TTML backgroundImage style property"/></td>
</tr>
</tbody>
</table>
<p></p>
</div3>
<div3 id="style-attribute-backgroundOrigin">
<head>tts:backgroundOrigin</head>
<p>The <att>tts:backgroundOrigin</att> attribute is used to specify a style property that
determines the <loc href="#terms-background-positioning-rectangle">background positioning rectangle</loc> within
which the background is positioned.</p>
<table id="style-property-details-backgroundOrigin" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>"border"</code> |
<code>"content"</code> |
<code>"padding"</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>padding</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#document-structure-vocabulary-body"><el>body</el></loc>,
<loc href="#content-vocabulary-div"><el>div</el></loc>,
<loc href="#embedded-content-vocabulary-image"><el>image</el></loc>,
<loc href="#content-vocabulary-p"><el>p</el></loc>,
<loc href="#layout-vocabulary-region"><el>region</el></loc>,
<loc href="#content-vocabulary-span"><el>span</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-backgroundOrigin">backgroundOrigin derivation</loc></td>
</tr>
</tbody>
</table>
<p>The <att>tts:backgroundOrigin</att> style is illustrated by the following example.</p>
<table id="style-attribute-backgroundOrigin-example-1" role="example">
<caption>Example Fragment &ndash; Background Origin</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="306px 114px"/&gt;
  &lt;style tts:backgroundColor="red"/&gt;
  &lt;style tts:backgroundRepeat="noRepeat"/&gt;
  &lt;style <phrase role="strong">tts:backgroundImage="#blue102px57px"</phrase>/&gt;
  &lt;style <phrase role="strong">tts:backgroundOrigin="content"</phrase>/&gt;
&lt;/region&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="style-attribute-backgroundOrigin-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Background Origin</caption>
<tbody>
<tr>
<td><graphic source="images/backgroundOrigin.png" alt="TTML backgroundOrigin style property"/></td>
</tr>
</tbody>
</table>
<p></p>
</div3>
<div3 id="style-attribute-backgroundPosition">
<head>tts:backgroundPosition</head>
<p>The <att>tts:backgroundPosition</att> attribute is used to specify a style property that
defines whether and how a background image is positioned in a region or an area generated by content flowed into a region.</p>
<table id="style-property-details-backgroundPosition" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<loc href="#style-value-position">&lt;position&gt;</loc>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>0% 0%</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#document-structure-vocabulary-body"><el>body</el></loc>,
<loc href="#content-vocabulary-div"><el>div</el></loc>,
<loc href="#embedded-content-vocabulary-image"><el>image</el></loc>,
<loc href="#content-vocabulary-p"><el>p</el></loc>,
<loc href="#layout-vocabulary-region"><el>region</el></loc>,
<loc href="#content-vocabulary-span"><el>span</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>see prose</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-backgroundPosition">backgroundPosition derivation</loc></td>
</tr>
</tbody>
</table>
<p>A percentage value <loc href="#terms-component">component</loc> for a horizontal position offset is relative to the width of the
<loc href="#terms-background-positioning-rectangle">background positioning rectangle</loc> minus the width of the background image.
A percentage value <loc href="#terms-component">component</loc> for a vertical position offset is relative to the height of the
<loc href="#terms-background-positioning-rectangle">background positioning rectangle</loc> minus the height of the background image.</p>
<p>The <att>tts:backgroundPosition</att> style is illustrated by the following example.</p>
<table id="style-attribute-backgroundPosition-example-1" role="example">
<caption>Example Fragment &ndash; Background Position</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="306px 114px"/&gt;
  &lt;style tts:backgroundColor="red"/&gt;
  &lt;style tts:backgroundRepeat="noRepeat"/&gt;
  &lt;style <phrase role="strong">tts:backgroundImage="#blue102px57px"</phrase>/&gt;
  &lt;style <phrase role="strong">tts:backgroundPosition="center"</phrase>/&gt;
&lt;/region&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="style-attribute-backgroundPosition-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Background Position</caption>
<tbody>
<tr>
<td><graphic source="images/backgroundPosition.png" alt="TTML backgroundPosition style property"/></td>
</tr>
</tbody>
</table>
<p></p>
</div3>
<div3 id="style-attribute-backgroundRepeat">
<head>tts:backgroundRepeat</head>
<p>The <att>tts:backgroundRepeat</att> attribute is used to specify a style property that
defines whether and how a background image is repeated (tiled) into a region or an area generated by content flowed into a region.</p>
<table id="style-property-details-backgroundRepeat" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>"repeat"</code> |
<code>"repeatX"</code> |
<code>"repeatY"</code> |
<code>"noRepeat"</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>repeat</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#document-structure-vocabulary-body"><el>body</el></loc>,
<loc href="#content-vocabulary-div"><el>div</el></loc>,
<loc href="#embedded-content-vocabulary-image"><el>image</el></loc>,
<loc href="#content-vocabulary-p"><el>p</el></loc>,
<loc href="#layout-vocabulary-region"><el>region</el></loc>,
<loc href="#content-vocabulary-span"><el>span</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-backgroundRepeat">backgroundRepeat derivation</loc></td>
</tr>
</tbody>
</table>
<p>The <att>tts:backgroundRepeat</att> style is illustrated by the following example.</p>
<table id="style-attribute-backgroundRepeat-example-1" role="example">
<caption>Example Fragment &ndash; Background Repeat</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="306px 114px"/&gt;
  &lt;style tts:backgroundColor="red"/&gt;
  &lt;style <phrase role="strong">tts:backgroundImage="#blue102px57px"</phrase>/&gt;
  &lt;style <phrase role="strong">tts:backgroundRepeat="repeatX"</phrase>/&gt;
&lt;/region&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="style-attribute-backgroundRepeat-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Background Repeat</caption>
<tbody>
<tr>
<td><graphic source="images/backgroundRepeat.png" alt="TTML backgroundRepeat style property"/></td>
</tr>
</tbody>
</table>
<p></p>
</div3>
<div3 id="style-attribute-border">
<head>tts:border</head>
<p>The <att>tts:border</att> attribute is used to specify a style property that
defines the border of a region or an area generated by content flowed into a region.</p>
<note role="clarification">
<p>When applied to a region, a border is applied as an inset to a region&apos;s extent, which is to say, the content rectangle of a region area is reduced by
the presence of a border applied to the region.</p>
</note>
<table id="style-property-details-border" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<loc href="#style-value-border">&lt;border&gt;</loc>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>none</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#document-structure-vocabulary-body"><el>body</el></loc>,
<loc href="#content-vocabulary-div"><el>div</el></loc>,
<loc href="#embedded-content-vocabulary-image"><el>image</el></loc>,
<loc href="#content-vocabulary-p"><el>p</el></loc>,
<loc href="#layout-vocabulary-region"><el>region</el></loc>,
<loc href="#content-vocabulary-span"><el>span</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete; continuous (color only)</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-border">border derivation</loc></td>
</tr>
</tbody>
</table>
<p>If no border thickness is specified in the value of the <att>tts:border</att> property,
then the border thickness must be interpreted as if a thickness of
<code>medium</code> were specified.</p>
<p>If a computed value of the border thickness associated with this attribute is not supported,
then a <loc href="#terms-presentation-processor">presentation processor</loc> must use the closest supported value.</p>
<note role="elaboration">
<p>In this context, the phrase <emph>closest supported value</emph> means the value for which the one-dimensional Euclidean distance between
the computed border thickness and the supported border thickness is minimized on a per-edge basis. If there are multiple closest supported values equally distant from
the computed value for a given edge, then the value least distant from 0, i.e., the least border thickness, is used.</p>
</note>
<p>If no border style is specified in the value of the <att>tts:border</att> property,
then the border style must be interpreted as if a style of
<code>none</code> were specified.</p>
<p>If a computed value of the border style associated with this attribute is not supported,
then a <loc href="#terms-presentation-processor">presentation processor</loc> must use the value <code>solid</code>.</p>
<p>If no border color is specified in the value of the <att>tts:border</att> property,
then the border color must be interpreted as if a color equal
to the computed value of the element&apos;s <code>tts:color</code> style property were specified.</p>
<p>If no border radii is specified in the value of the <att>tts:border</att> property,
then the border radii must be interpreted as if a radii of
<code>0</code> were specified.</p>
<p>If a computed value of the border radii associated with this attribute is not supported,
then a <loc href="#terms-presentation-processor">presentation processor</loc> must use the closest supported value.</p>
<note role="elaboration">
<p>In this context, the phrase <emph>closest supported value</emph> means the value for which the computed border radii and the supported border radii
is minimized.</p>
</note>
<p>The <att>tts:border</att> style is illustrated by the following example.</p>
<table id="style-attribute-border-example-1" role="example">
<caption>Example Fragment &ndash; Border</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="306px 114px"/&gt;
  &lt;style <phrase role="strong">tts:border="2px solid red"</phrase>/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style tts:displayAlign="center"/&gt;
  &lt;style tts:padding="3px 30px"/&gt;
&lt;/region&gt;
...
&lt;p region="r1" <phrase role="strong">tts:border="4px solid green"</phrase> tts:textAlign="center"&gt;
  Twinkle, twinkle, little bat!&lt;br/&gt;
  How &lt;span <phrase role="strong">tts:border="8px solid blue"</phrase>&gt;I wonder&lt;/span&gt; where you&apos;re at!
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="style-attribute-border-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Border</caption>
<tbody>
<tr>
<td>
<graphic source="images/border.png" alt="TTML border style property"/>
</td>
</tr>
</tbody>
</table>
<p>The <att>tts:border</att> style with rounding is illustrated by the following example.</p>
<table id="style-attribute-border-example-2" role="example">
<caption>Example Fragment &ndash; Border with Rounding</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;style xml:id="roundedBorder" <phrase role="strong">tts:border="2px solid lime 10px"</phrase> tts:backgroundColor="black"/&gt;
...
&lt;div tts:color="white" tts:textAlign="center"&gt;
  &lt;p style="roundedBorder"&gt;Border rounding on a &lt;br/&gt;p element.&lt;/p&gt;
  &lt;p&gt;
    &lt;span style="roundedBorder"&gt;Border rounding on span&lt;/span&gt;
    &lt;br/&gt;
    &lt;span style="roundedBorder"&gt;A shorter span&lt;/span&gt;
  &lt;/p&gt;
&lt;/div&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="style-attribute-border-example-2-images" role="example-images">
<caption>Example Rendition &ndash; Border rounding</caption>
<tbody>
<tr>
<td>
<graphic source="images/border-rounding.png" alt="TTML border style property"/>
</td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-attribute-bpd">
<head>tts:bpd</head>
<p>The <att>tts:bpd</att> attribute is used to specify the
<emph>block progression dimension</emph>, or, more succinctly, the <emph>bpd</emph> of an area generated by content flowed into a region.</p>
<note role="clarification">
<p>The term <emph>block progression dimension</emph> is interpreted in a writing mode relative manner
such that <emph>bpd</emph> always corresponds to a distance in the block
progression direction. Therefore, in horizontal writing modes, <emph>bpd</emph> expresses a vertical distance,
while, in vertical writing mode, <emph>bpd</emph> expresses a horizontal distance,
where horizontal and vertical are always interpreted in an absolute sense.</p>
</note>
<table id="style-property-details-bpd" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<loc href="#style-value-measure">&lt;measure&gt;</loc>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>auto</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#document-structure-vocabulary-body"><el>body</el></loc>,
<loc href="#content-vocabulary-div"><el>div</el></loc>,
<loc href="#content-vocabulary-p"><el>p</el></loc>,
<loc href="#content-vocabulary-span"><el>span</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>see prose</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-bpd">bpd derivation</loc></td>
</tr>
</tbody>
</table>
<p>If a <loc href="#style-value-measure">&lt;measure&gt;</loc> is expressed as a <loc href="#style-value-length">&lt;length&gt;</loc> value, then it must be non-negative.</p>
<p>If a <att>tts:bpd</att> attribute is specified on a <loc href="#content-vocabulary-span"><el>span</el></loc> element
and the computed value of the <att>tts:display</att> property that applies to that element is not <code>inlineBlock</code>,
then the semantics of <att>tts:bpd</att> only apply when computing the block progression dimension of any applicable background color or image;
however, the dimensions of the content rectangles of the generated areas are not changed.</p>
<p>If a percentage value is used in a <loc href="#style-value-length">&lt;length&gt;</loc> expression of this attribute,
it is resolved with respect to the applicable <loc href="#terms-absolute-dimension">absolute dimension</loc> of the generated area&apos;s containing area
(the nearest ancestor area).</p>
<note role="clarification">
  <p>A <loc href="#style-value-length">&lt;length&gt;</loc> expression used with this attribute is associated with
  a specific, writing mode relative dimension, which is then resolved to an <loc href="#terms-absolute-dimension">absolute dimension</loc>
  in accordance with the applicable writing mode. If that <loc href="#terms-absolute-dimension">absolute dimension</loc> is vertical (horizontal),
  then a percentage value is resolved in terms of the same vertical (horizontal) <loc href="#terms-absolute-dimension">absolute dimension</loc> of
  the reference area (the nearest ancestor area).</p>
</note>
<p>The <att>tts:bpd</att> style is illustrated by the following example.</p>
<table id="style-attribute-bpd-example-1" role="example">
<caption>Example Fragment &ndash; Block Progression Dimension</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;p tts:fontSize="24px" tts:lineHeight="48px" <phrase role="strong">tts:bpd="96px"</phrase>&gt;
  the woods are &lt;span tts:display="inlineBlock" <phrase role="strong">tts:bpd="36px"</phrase>&gt;getting green&lt;/span&gt; ...
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<note role="explanation">
<p>In the above example, the <att>tts:bpd</att> attribute on the <loc href="#content-vocabulary-p"><el>p</el></loc> element
assigns a fixed dimension to the height of the content rectangle of the block area generated by the paragraph, while
the <att>tts:bpd</att> attribute on the <loc href="#content-vocabulary-span"><el>span</el></loc> element assigns a fixed
dimension to the height of the content rectangle of the inline block area generated by the span.</p>
</note>
</div3>
<div3 id="style-attribute-color">
<head>tts:color</head>
<p>The <att>tts:color</att> attribute is used to specify a style property that
defines the foreground color of marks associated with an area generated by content flowed into a region.</p>
<table id="style-property-details-color" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<loc href="#style-value-color">&lt;color&gt;</loc>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td>see prose</td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#content-vocabulary-span"><el>span</el></loc>; see also <loc href="#note-ruby-container-span-styles">Note</loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>yes</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete; continuous</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-color">color derivation</loc></td>
</tr>
</tbody>
</table>
<p>The initial value of the <att>tts:color</att> property
is considered to be implementation dependent. In the absence of
end-user preference information, a conformant <loc href="#terms-presentation-processor">presentation processor</loc>
should use an initial value that is highly contrastive to the
background color of the <loc href="#terms-root-container-region">root container region</loc>.</p>
<p>The <att>tts:color</att> style is illustrated by the following example.</p>
<table id="style-attribute-color-example-1" role="example">
<caption>Example Fragment &ndash; Color</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style <phrase role="strong">tts:color="white"</phrase>/&gt;
  &lt;style tts:displayAlign="after"/&gt;
  &lt;style tts:textAlign="center"/&gt;
&lt;/region&gt;
...
&lt;p region="r1"&gt;
  In spring, when woods are &lt;span <phrase role="strong">tts:color="green"</phrase>&gt;getting green&lt;/span&gt;,&lt;br/&gt;
  I&apos;ll try and tell you what I mean.
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="style-attribute-color-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Color</caption>
<tbody>
<tr>
<td><graphic source="images/color.png" alt="TTML color style property"/></td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-attribute-direction">
<head>tts:direction</head>
<p>The <att>tts:direction</att> attribute is used to specify a style property that, depending on the context of use,
determines (1) the bidirectional paragraph level, or (2) the directionality of a bidirectional embedding or override,
about which see <bibref ref="uax9"/>.</p>
<table id="style-property-details-direction" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>"ltr"</code> |
<code>"rtl"</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td>
<code>ltr</code>
</td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#content-vocabulary-p"><el>p</el></loc>,
<loc href="#content-vocabulary-span"><el>span</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>yes, but see <loc href="#style-attribute-direction-special-semantics">special semantics</loc></td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-direction">direction derivation</loc></td>
</tr>
</tbody>
</table>
<p>When applied to a <el>p</el> element, the computed value of this property explicitly establishes the
<emph>paragraph level</emph> as specified by <bibref ref="uax9"/>, &sect;4.3, Higher Level Protocol <phrase role="strong">HL1</phrase>.</p>
<p>When applied to a <el>span</el> element (or <loc href="#terms-anonymous-span">anonymous span</loc>), the computed value of this property, in combination with the computed value
of the <att>tts:unicodeBidi</att> style property, determines the directionality of a bidirectional embedding or override as specified by
<bibref ref="uax9"/>, &sect;4.3, Higher Level Protocol <phrase role="strong">HL3</phrase>.</p>
<p>If a computed value of the property associated with this attribute is not supported,
then a <loc href="#terms-presentation-processor">presentation processor</loc> must use the value <code>ltr</code>.</p>
<p>The <att>tts:direction</att> style is illustrated by the following example.</p>
<table id="style-attribute-direction-example-1" role="example">
<caption>Example Fragment &ndash; Direction</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;p&gt;
The title of the book is
&quot;&lt;span tts:unicodeBidi=&quot;embed&quot; <phrase role="strong">tts:direction=&quot;rtl&quot;</phrase>&gt;  W3C&lt;/span&gt;&quot;
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="style-attribute-direction-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Direction</caption>
<tbody>
<tr>
<td>
<graphic source="images/direction.png" alt="TTML direction style property"/>
</td>
</tr>
</tbody>
</table>
<div4 id="style-attribute-direction-special-semantics">
<head>Special Semantics of Direction</head>
<p>When performing style resolution processing (see <specref ref="semantics-style-resolution-processing"/>),
the resolution of the computed value of <att>tts:direction</att> on a <loc href="#layout-vocabulary-region"><el>region</el></loc> element
<emph><code>R</code></emph> is determined according to the following ordered rules, where the first applicable rule applies:</p>
<olist>
  <item><p>if a <att>tts:direction</att> attribute is specified on <emph><code>R</code></emph>, then the computed value
  <att>tts:direction</att> is the specified value;</p></item>
  <item><p>if a <att>tts:writingMode</att> attribute is specified on <emph><code>R</code></emph>, then the computed value
  <att>tts:direction</att> is the
  <loc href="#terms-inline-progression-dimension">inline progression direction</loc> determined by the computed value of
  <att>tts:writingMode</att> on <emph><code>R</code></emph>;</p></item>
  <item><p>otherwise, the computed value of <att>tts:direction</att> is the initial value.</p></item>
</olist>
<note role="elaboration">
<p>The computed value of <att>tts:direction</att> on a <loc href="#layout-vocabulary-region"><el>region</el></loc> element
as determined above effectively becomes the value of <att>tts:direction</att> inherited by elements that are subject to
<loc href="#semantics-style-inheritance-region">region style inheritance</loc> semantics.</p>
</note>
<p>In the case of any other element <emph><code>E</code></emph>, where <emph><code>E</code></emph> is not a
<loc href="#layout-vocabulary-region"><el>region</el></loc> element, the presence or absence of a <att>tts:writingMode</att> attribute
has no affect on the resolution of the computed value of <att>tts:direction</att> on <emph><code>E</code></emph>.</p>
<note role="clarification">
<p>The semantics described above correspond to the <emph>XSL modifications to the CSS definition</emph> of the
<code>direction</code> property as defined by <bibref ref="xslfo11"/> &sect;7.29.1, and, as such, are included in the scope of the
<loc href="#feature-direction"><code>#direction</code></loc> feature.</p>
</note>
</div4>
</div3>
<div3 id="style-attribute-disparity">
<head>tts:disparity</head>
<p>The <att>tts:disparity</att> attribute is used to specify the binocular disparity to be applied
in order to simulate stereopsis (stereoscopic depth).  A disparity of zero corresponds to the plane of display; a negative value corresponds to depths in front
 of the plane of display; and a positive value corresponds to depths behind the plane of display. See <bibref ref="smiththreed"/> for details on the relationship
between disparity and perceived depth.</p>
<table id="style-property-details-disparity" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<loc href="#style-value-length">&lt;length&gt;</loc>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>0px</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#layout-vocabulary-region"><el>region</el></loc>; see 
<loc href="#style-attribute-disparity-special-usage">special usage</loc> for
<loc href="#content-vocabulary-div"><el>div</el></loc> and
<loc href="#content-vocabulary-p"><el>p</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>relative to width of <loc href="#terms-root-container-region">root container region</loc></td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete; continuous</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-disparity">disparity derivation</loc></td>
</tr>
</tbody>
</table>
<p>When rendering a region on the right (left) image of a stereoscopic image pair, the center of the region is offset along the horizontal axis by a value equal to  (-) the computed value of <att>tts:disparity</att>, where a positive offset is to the right, and a negative offset is to the left.</p>
<p>Unless rendering onto a stereoscopic image pair, the <att>tts:disparity</att> attribute is ignored for the purpose of presentation processing.</p>
<p>The author should ensure that the perceived depth of a region is positioned in front of any object in the scene during the entire time the region is visible. The stereoscopic effect will be broken if an object in the scene is perceived to be in front of the region.</p>
<p>If a computed value of the property associated with this attribute is not supported,
then a <loc href="#terms-presentation-processor">presentation processor</loc> must use the closest supported value.</p>
<note role="elaboration">
<p>In this context, the phrase <emph>closest supported value</emph> means the value for which the Euclidean distance between
the computed disparity and the supported disparity is minimized. If there are multiple closest supported values equally distant from
the computed value, then the value least distant from 0 is used.</p>
</note>
<note role="elaboration">
<p>In general, the presentation of stereoscopic content depends on the use
of sub-pixel (anti-aliasing) rendering techniques; as such, implementations
that quantize disparity adjusted positions to an integral value
may produce undesirable side effects. This is particularly
disconcerting when smooth animation of disparity applies, e.g.,
when the author is attempting to maintain a constant distance between a subject and
its associated text.</p>
</note>
<p>The <att>tts:disparity</att> style is illustrated by the following example fragment and rendition. Note that, in typical television scenarios, disparity ranges from -1% to 2% of screen width. This example, which uses a disparity of 5%, exaggerates the effects of disparity for clarity of illustration.</p>
<table id="style-attribute-disparity-example-1" role="example">
<caption>Example Fragment &ndash; Disparity</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="80% 10%"/&gt;
  &lt;style tts:origin="10% 10%"/&gt;
  &lt;style <phrase role="strong">tts:disparity="5%"</phrase>/&gt;
	...
&lt;/region&gt;
...
&lt;p region="r1"&gt;
  Stereoscopic
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="style-attribute-disparity-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Disparity (Left and Right Images)</caption>
<tbody>
<tr>
<td><graphic source="images/disparity.png" alt="TTML disparity style property"/></td>
</tr>
</tbody>
</table>
<div4 id="style-attribute-disparity-special-usage">
<head>Special Usage of Disparity</head>
<p>When <att>tts:disparity</att> is specified exceptionally on <loc href="#content-vocabulary-div"><el>div</el></loc> or
<loc href="#content-vocabulary-p"><el>p</el></loc>, <specref ref="layout-vocabulary-region-special-inline-animation-semantics"/> applies.</p>
</div4>
</div3>
<div3 id="style-attribute-display">
<head>tts:display</head>
<p>The <att>tts:display</att> attribute is used to specify a style property that
defines whether an element is a candidate for layout and composition
in a region.</p>
<table id="style-property-details-display" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>"auto"</code> |
<code>"none"</code> |
<code>"inlineBlock"</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td>
<code>auto</code>
</td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#document-structure-vocabulary-body"><el>body</el></loc>,
<loc href="#content-vocabulary-div"><el>div</el></loc>,
<loc href="#embedded-content-vocabulary-image"><el>image</el></loc>,
<loc href="#content-vocabulary-p"><el>p</el></loc>,
<loc href="#layout-vocabulary-region"><el>region</el></loc>,
<loc href="#content-vocabulary-span"><el>span</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-display">display derivation</loc></td>
</tr>
</tbody>
</table>
<p>If the value of this attribute is <code>auto</code>,
then the affected element is a candidate for region layout and
presentation; however, if the value is <code>none</code>, then the
affected element and its descendants must be considered ineligible for region
layout and presentation.</p>
<p>If the value of this attribute is <code>inlineBlock</code> and this attribute is applied
to a <loc href="#content-vocabulary-span"><el>span</el></loc> element, then
<loc href="#terms-inline-block-display">inline block display</loc> semantics apply and the element
is a candidate for region layout and presentation. Furthermore, it is <termref def="defs-considered-an-error">considered an error</termref> if the
<code>inlineBlock</code> value is applied to any element which is not a <loc href="#content-vocabulary-span"><el>span</el></loc> element.</p>
<p>The <att>tts:display</att> style is illustrated by the following example.</p>
<table id="style-attribute-display-example-1" role="example">
<caption>Example Fragment &ndash; Display</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="369px 119px"
            tts:backgroundColor="black"
            tts:color="white"
            tts:displayAlign="before"
            tts:textAlign="start"/&gt;
&lt;/region&gt;
...
&lt;div region="r1"&gt;
  &lt;p dur="5s"&gt;
    [[[
    &lt;span <phrase role="strong">tts:display="none"</phrase>&gt;
      &lt;set begin="1s" dur="1s" <phrase role="strong">tts:display="auto"</phrase>/&gt;
      Beautiful soup,
    &lt;/span&gt;
    &lt;span <phrase role="strong">tts:display="none"</phrase>&gt;
      &lt;set begin="2s" dur="1s" <phrase role="strong">tts:display="auto"</phrase>/&gt;
      so rich and green,
    &lt;/span&gt;
    &lt;span <phrase role="strong">tts:display="none"</phrase>&gt;
      &lt;set begin="3s" dur="1s" <phrase role="strong">tts:display="auto"</phrase>/&gt;
      waiting in a hot tureen!
    &lt;/span&gt;
    ]]]
  &lt;/p&gt;
&lt;/div&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="style-attribute-display-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Display</caption>
<tbody>
<tr>
<td>
<graphic source="images/display_0.png" alt="TTML display style property - [0,1)"/>
</td>
</tr>
<tr>
<td>
<graphic source="images/display_1.png" alt="TTML display style property - [1,2)"/>
</td>
</tr>
<tr>
<td>
<graphic source="images/display_2.png" alt="TTML display style property - [2,3)"/>
</td>
</tr>
<tr>
<td>
<graphic source="images/display_3.png" alt="TTML display style property - [3,4)"/>
</td>
</tr>
<tr>
<td>
<graphic source="images/display_4.png" alt="TTML display style property - [4,5)"/>
</td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-attribute-displayAlign">
<head>tts:displayAlign</head>
<p>The <att>tts:displayAlign</att> attribute is used to specify a style property that
defines the alignment of block areas in the block progression direction.</p>
<table id="style-property-details-displayAlign" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>"before"</code> |
<code>"center"</code> |
<code>"after"</code> |
<code>"justify"</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td>
<code>before</code>
</td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#document-structure-vocabulary-body"><el>body</el></loc>,
<loc href="#content-vocabulary-div"><el>div</el></loc>,
<loc href="#content-vocabulary-p"><el>p</el></loc>,
<loc href="#layout-vocabulary-region"><el>region</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-displayAlign">displayAlign derivation</loc></td>
</tr>
</tbody>
</table>
<p>If the value of this attribute is <code>justify</code>, then (unused) available space in the
<loc href="#terms-block-progression-dimension">block progression dimension</loc> is evenly distributed between block area children of
the block area generated by the element to which this attribute applies.</p>
<p>If a computed value of the property associated with this attribute is not supported,
then a <loc href="#terms-presentation-processor">presentation processor</loc> must use the value <code>before</code>.</p>
<p>The <att>tts:displayAlign</att> style is illustrated by the following example.</p>
<table id="style-attribute-displayAlign-example-1" role="example">
<caption>Example Fragment &ndash; Display Align</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="128px 66px" tts:origin="0px 0px"
       tts:backgroundColor="black" tts:color="white"/&gt;
  &lt;style <phrase role="strong">tts:displayAlign="before"</phrase>/&gt;
  &lt;style tts:textAlign="start"/&gt;
&lt;/region&gt;
&lt;region xml:id="r2"&gt;
  &lt;style tts:extent="192px 66px" tts:origin="128px 66px"/&gt;
       tts:backgroundColor="green" tts:color="white"/&gt;
  &lt;style <phrase role="strong">tts:displayAlign="after"</phrase>/&gt;
  &lt;style tts:textAlign="start"/&gt;
&lt;/region&gt;
&lt;region xml:id="r3"&gt;
  &lt;style tts:extent="128px 66px"/&gt; style tts:origin="0px 132px"
       tts:backgroundColor="black" tts:color="white"/&gt;
  &lt;style <phrase role="strong">tts:displayAlign="before"</phrase>/&gt;
  &lt;style tts:textAlign="start"/&gt;
&lt;/region&gt;
&lt;region xml:id="r4"&gt;
  &lt;style tts:extent="192px 66px" tts:origin="128px 198px"/&gt;
       tts:backgroundColor="green" tts:color="white"/&gt;
  &lt;style <phrase role="strong">tts:displayAlign="after"</phrase>/&gt;
  &lt;style tts:textAlign="start"/&gt;
&lt;/region&gt;
...
&lt;div&gt;
  &lt;p region="r1"&gt;I sent a message to the fish:&lt;/p&gt;
  &lt;p region="r2"&gt;I told them&lt;br/&gt; "This is what I wish."&lt;/p&gt;
  &lt;p region="r3"&gt;The little fishes of the sea,&lt;/p&gt;
  &lt;p region="r4"&gt;They sent an&lt;br/&gt; answer back to me.&lt;/p&gt;
&lt;/div&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="style-attribute-displayAlign-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Display Align</caption>
<tbody>
<tr>
<td><graphic source="images/displayAlign.png" alt="TTML displayAlign style property"/></td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-attribute-extent">
<head>tts:extent</head>
<p>The <att>tts:extent</att> attribute may be used for the following purposes:</p>
<olist>
<item><p>to specify the <loc href="#terms-width"><emph>width</emph></loc> and <loc href="#terms-height"><emph>height</emph></loc>
of the <loc href="#terms-root-container-region">root container region</loc>,
which has the effect of defining
the <loc href="#terms-document-coordinate-space">document coordinate space</loc>,
about which see <specref ref="root-container-region-semantics-coordinate-space"/>;</p></item>
<item><p>to specify or override the
<loc href="#terms-width"><emph>width</emph></loc> and <loc href="#terms-height"><emph>height</emph></loc>
of a <loc href="#terms-content-region">content region</loc>;</p></item>
<item><p>to specify the
<loc href="#terms-width"><emph>width</emph></loc> and <loc href="#terms-height"><emph>height</emph></loc>
of an image, overriding its intrinsic extent.</p></item>
</olist>
<note role="clarification">
<p>If a border and (or) padding are applied to a region, then the region&apos;s extent includes that border and padding,
i.e., border and padding are both applied as insets, and, therefore, are interior to the extent of the region.</p>
</note>
<table id="style-property-details-extent" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td><loc href="#style-value-extent">&lt;extent&gt;</loc></td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>auto</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#document-structure-vocabulary-tt"><el>tt</el></loc>,
<loc href="#layout-vocabulary-region"><el>region</el></loc>,
<loc href="#embedded-content-vocabulary-image"><el>image</el></loc>; see 
<loc href="#style-attribute-extent-special-usage">special usage</loc> for
<loc href="#content-vocabulary-div"><el>div</el></loc> and
<loc href="#content-vocabulary-p"><el>p</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>relative to width and height of <loc href="#terms-root-container-region">root container region</loc></td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-extent">extent derivation</loc></td>
</tr>
</tbody>
</table>
<p>If a <att>tts:extent</att> attribute is specified on the <loc href="#document-structure-vocabulary-tt"><el>tt</el></loc> element,
then the specified value is restricted to one of the following:
(1) the <code>auto</code> keyword,
(2) the <code>contain</code> keyword, or
(3) two <loc href="#style-value-length">&lt;length&gt;</loc> specifications,
where these specifications are expressed as non-percentage, definite lengths using pixel units.
All other syntactically legal values must not be used in this context, and,
if used, must be <termref def="defs-considered-an-error">considered an error</termref> and must be ignored
for the purpose of presentation processing, in which case the initial value (<code>auto</code>) applies.</p>
<p>If a <att>tts:extent</att> attribute is specified on a <loc href="#layout-vocabulary-region"><el>region</el></loc> element,
then its computed value determines the <loc href="#terms-width">width</loc> and <loc href="#terms-height">height</loc>
of the associated <loc href="#terms-content-region">content region</loc>.</p>
<p>If a <att>tts:extent</att> attribute is specified on an <loc href="#embedded-content-vocabulary-image"><el>image</el></loc> element, then its computed value determines the <loc href="#terms-width">width</loc> and <loc href="#terms-height">height</loc> of the image.</p>
<p>If a <att>tts:extent</att> attribute is specified on a <loc href="#content-vocabulary-div"><el>div</el></loc> or <loc href="#content-vocabulary-p"><el>p</el></loc> element, then the semantics specified by
<specref ref="style-attribute-extent-special-usage"/> apply.</p>
<p>If the value of this attribute is <code>auto</code>, then the computed value of its associated property is determined as follows:</p>
<olist>
  <item><p>if the property applies to the <loc href="#document-structure-vocabulary-tt"><el>tt</el></loc> element, then <code>auto</code> is interpreted as if the value <code>contain</code>
  were specified;</p></item>
  <item><p>if the property applies to a <loc href="#layout-vocabulary-region"><el>region</el></loc> element, either directly or indirectly, then <code>auto</code> is interpreted as if
  the value "<code>100%</code> <code>100%</code>" were specified;</p></item>
  <item><p>if the property applies to an <loc href="#embedded-content-vocabulary-image"><el>image</el></loc> element, then <code>auto</code>
  is interpreted as if a value equal to the image&apos;s intrinsic extent were specified using two pixel-based <loc href="#style-value-length">&lt;length&gt;</loc> <loc href="#terms-component">components</loc>, for example, "<code>200px</code> <code>100px</code>".</p></item>
</olist>
<note role="clarification"><p>This attribute permits a value consisting of a single keyword <code>"auto"</code> and
another value consisting of two keywords <code>"auto auto"</code>. These two different values have distinct meanings and are not equivalent.
In particular, the single keyword value <code>"auto"</code> has the semantics described immediately above; however, the two keywords value
<code>"auto auto"</code> consists of two <loc href="#style-value-measure">&lt;measure&gt;</loc> expressions, each using the
<loc href="#style-value-measure">&lt;measure&gt;</loc> keyword <code>auto</code> as defined in <specref ref="style-value-measure"/>.</p></note>
<p>If the value of this attribute is <code>contain</code>, then the computed value of its associated property is determined as follows:</p>
<olist>
  <item><p>if the property applies to the <loc href="#document-structure-vocabulary-tt"><el>tt</el></loc> element, then <code>contain</code> is interpreted as specified in
  <specref ref="root-container-region-semantics"/>;</p></item>
  <item><p>if the property applies to a <loc href="#layout-vocabulary-region"><el>region</el></loc> element,
  then the computed value is determined by performing the
  <loc href="#semantics-style-procedures-contain"><phrase role="strong">[compute containment scaling]</phrase></loc> procedure,
  where the target rectangle <emph>TR</emph> is initialized to the
  <loc href="#terms-intrinsic-block-content-extent">intrinsic block content extent</loc> of the region&apos;s content,
  the reference rectangle <emph>RR</emph> is set to the extent of the <loc href="#terms-root-container-region">root container region</loc>,
  and the resulting output value of the target rectangle <emph>TR</emph> is the computed value;</p></item>
  <item><p>if the property applies to an <loc href="#embedded-content-vocabulary-image"><el>image</el></loc> element,
  then the computed value is determined by performing the
  <loc href="#semantics-style-procedures-contain"><phrase role="strong">[compute containment scaling]</phrase></loc> procedure,
  where the target rectangle <emph>TR</emph> is initialized to the
  <loc href="#terms-intrinsic-image-extent">intrinsic image extent</loc> of the image,
  the reference rectangle <emph>RR</emph> is set to the available content space in the containing block area or line area
  in accordance to whether the current formatting context is a block or inline formatting context, respectively,
  and the resulting output value of the target rectangle <emph>TR</emph> is the computed value.</p></item>
</olist>
<p>If the value of this attribute is <code>cover</code>, then the computed value of its associated property is determined as follows:</p>
<olist>
  <item><p>if the property applies to a <loc href="#layout-vocabulary-region"><el>region</el></loc> element,
  then the computed value is determined by performing the
  <loc href="#semantics-style-procedures-cover"><phrase role="strong">[compute cover scaling]</phrase></loc> procedure,
  where the target rectangle <emph>TR</emph> is initialized to the
  <loc href="#terms-intrinsic-block-content-extent">intrinsic block content extent</loc> of the region&apos;s content,
  the reference rectangle <emph>RR</emph> is set to the extent of the <loc href="#terms-root-container-region">root container region</loc>,
  and the resulting output value of the target rectangle <emph>TR</emph> is the computed value;</p></item>
  <item><p>if the property applies to an <loc href="#embedded-content-vocabulary-image"><el>image</el></loc> element,
  then the computed value is determined by performing the
  <loc href="#semantics-style-procedures-cover"><phrase role="strong">[compute cover scaling]</phrase></loc> procedure,
  where the target rectangle <emph>TR</emph> is initialized to the
  <loc href="#terms-intrinsic-image-extent">intrinsic image extent</loc> of the image,
  the reference rectangle <emph>RR</emph> is set to the available content space in the containing block area or line area
  in accordance to whether the current formatting context is a block or inline formatting context, respectively,
  and the resulting output value of the target rectangle <emph>TR</emph> is the computed value.</p></item>
</olist>
<p>If the value of this attribute consists of two <loc href="#style-value-measure">&lt;measure&gt;</loc>
specifications, then they must be interpreted as
<loc href="#terms-width"><emph>width</emph></loc> and <loc href="#terms-height"><emph>height</emph></loc>, where the first specification is the
<loc href="#terms-width"><emph>width</emph></loc>, and the second specification is the <loc href="#terms-height"><emph>height</emph></loc>,
in which case both <loc href="#style-value-measure">&lt;measure&gt;</loc>
specifications must resolve (or be resolvable) to non-negative lengths.</p>
<p>If a computed value of the property associated with this attribute is not supported,
then a <loc href="#terms-presentation-processor">presentation processor</loc> must use the closest supported value.</p>
<note role="elaboration">
<p>In this context, the phrase <emph>closest supported value</emph> means the value for which the Euclidean distance between
the computed extent and the supported extent is minimized. If there are multiple closest supported values equally distant from
the computed value, then the value most distant from [0,0], i.e., of greatest extent, is used.</p>
<p>This rule for resolving <emph>closest supported value</emph> makes use of the nearest larger rather than nearest smaller supported distance.
The rationale for this difference in treatment is
that use of a larger extent ensures that the affected content will be contained in the region area without causing region overflow,
while use of a smaller extent makes region overflow more likely.</p>
</note>
<p>The <att>tts:extent</att> style is illustrated by the following example.</p>
<table id="style-attribute-extent-example-1" role="example">
<caption>Example Fragment &ndash; Extent</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style <phrase role="strong">tts:extent="330px 122px"</phrase>/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style tts:displayAlign="after"/&gt;
  &lt;style tts:textAlign="center"/&gt;
&lt;/region&gt;
...
&lt;p region="r1"&gt;
  &apos;Tis the voice of the Lobster:&lt;br/&gt;
  I heard him declare,&lt;br/&gt;
  "You have baked me too brown,&lt;br/&gt;
  I must sugar my hair."
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="style-attribute-extent-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Extent</caption>
<tbody>
<tr>
<td><graphic source="images/extent.png" alt="TTML extent style property"/></td>
</tr>
</tbody>
</table>
<div4 id="style-attribute-extent-special-usage">
<head>Special Usage of Extent</head>
<p>When <att>tts:extent</att> is specified exceptionally on <loc href="#content-vocabulary-div"><el>div</el></loc> or
<loc href="#content-vocabulary-p"><el>p</el></loc>, <specref ref="layout-vocabulary-region-special-inline-animation-semantics"/> applies.</p>
</div4>
</div3>
<div3 id="style-attribute-fontFamily">
<head>tts:fontFamily</head>
<p>The <att>tts:fontFamily</att> attribute is used to specify a style property that
defines the font family from which glyphs are selected for <loc href="#terms-glyph-area">glyph areas</loc> generated
by content flowed into a region.</p>
<table id="style-property-details-fontFamily" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td><loc href="#style-value-font-families">&lt;font-families&gt;</loc></td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>default</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#content-vocabulary-p"><el>p</el></loc>,
<loc href="#content-vocabulary-span"><el>span</el></loc>; see also <loc href="#note-ruby-container-span-styles">Note</loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>yes</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-fontFamily">fontFamily derivation</loc></td>
</tr>
</tbody>
</table>
<note role="clarification">
<p>The initial value, <code>default</code>, is a generic font family name, and is
further described in <specref ref="style-value-generic-family-name"/> below.</p>
</note>
<note role="clarification">
<p>In addition to applying to <loc href="#content-vocabulary-span"><el>span</el></loc>, the computed value of this property
on a <loc href="#content-vocabulary-p"><el>p</el></loc> element is used to resolve the value of the
style property associated with the <loc href="#style-attribute-lineHeight">tts:lineHeight</loc> attribute as specified in
<specref ref="style-attribute-lineHeight"/>.</p>
</note>
<p>If a computed value of the property associated with this attribute is not supported, then a
<loc href="#terms-presentation-processor">presentation processor</loc> must attempt to map the computed font family
to a supported font family that has similar typographic
characteristics, or, in the absence of such a mapping, it must
use the value <code>default</code>.</p>
<p>The <att>tts:fontFamily</att> style is illustrated by the following example.</p>
<table id="style-attribute-fontFamily-example-1" role="example">
<caption>Example Fragment &ndash; Font Family</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="474px 146px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style tts:displayAlign="center"/&gt;
  &lt;style tts:textAlign="start"/&gt;
  &lt;style <phrase role="strong">tts:fontFamily="proportionalSansSerif"</phrase>/&gt;
&lt;/region&gt;
...
&lt;div region="r1"&gt;
  &lt;p&gt;
    &quot;The time has come,&quot; the Walrus said,&lt;br/&gt;
    &quot;to talk of many things:
  &lt;/p&gt;
  &lt;p tts:textAlign="end" <phrase role="strong">tts:fontFamily="monospaceSerif"</phrase>&gt;
    Of shoes, and ships, and sealing wax,&lt;br/&gt;
    Of cabbages and kings,
  &lt;/p&gt;
  &lt;p&gt;
    And why the sea is boiling hot,&lt;br/&gt;
    and whether pigs have wings.&quot;
  &lt;/p&gt;
&lt;/div&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="style-attribute-fontFamily-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Font Family</caption>
<tbody>
<tr>
<td><graphic source="images/fontFamily.png" alt="TTML fontFamily style property"/></td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-attribute-fontKerning">
<head>tts:fontKerning</head>
<p>The <att>tts:fontKerning</att> attribute is used to specify a style property that
determines whether font kerning is applied when positioning <loc href="#terms-glyph-area">glyph areas</loc>.</p>
<table id="style-property-details-fontKerning" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>"none"</code> |
<code>"normal"</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>normal</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#content-vocabulary-span"><el>span</el></loc>; see also <loc href="#note-ruby-container-span-styles">Note</loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>yes</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-fontKerning">fontKerning derivation</loc></td>
</tr>
</tbody>
</table>
<p>If the value of this attribute is <code>normal</code>, then kerning should be applied if kerning data is available.
If the value of this attribute is <code>none</code>, then kerning should not be applied whether or not kerning data is available.</p>
<p>If a computed value of the property associated with this attribute is not supported,
then a <loc href="#terms-presentation-processor">presentation processor</loc> must use the value <code>normal</code>.</p>
<p>The <att>tts:fontKerning</att> style is illustrated by the following
example.</p>
<table id="style-attribute-fontKerning-example-1" role="example">
<caption>Example Fragment &ndash; Font Kerning</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;p&gt;
  WAVE&lt;br/&gt;
  &lt;span <phrase role="strong">tts:fontKerning="none"</phrase>&gt;WAVE&lt;/span&gt;
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="style-attribute-fontKerning-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Font Kerning</caption>
<tbody>
<tr>
<td><graphic source="images/fontKerning.png" alt="TTML fontKerning style property"/></td>
</tr>
</tbody>
</table>
<p></p>
</div3>
<div3 id="style-attribute-fontSelectionStrategy">
<head>tts:fontSelectionStrategy</head>
<p>The <att>tts:fontSelectionStrategy</att> attribute is used to specify a style property that
determines the strategy to be applied to <loc href="#terms-glyph-area">glyph areas</loc> when selecting a font from a list of possible fonts during
presentation processing.</p>
<table id="style-property-details-fontSelectionStrategy" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>"auto"</code> |
<code>"character"</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>auto</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#content-vocabulary-p"><el>p</el></loc>,
<loc href="#content-vocabulary-span"><el>span</el></loc>; see also <loc href="#note-ruby-container-span-styles">Note</loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>yes</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-fontSelectionStrategy">fontSelectionStrategy derivation</loc></td>
</tr>
</tbody>
</table>
<p>The presentation semantics of this property are those defined by <bibref ref="xslfo11"/>, &sect;7.9.3,
where the set of selection criteria are extended to include the following properties:</p>
<ulist>
  <item><p><loc href="#style-attribute-fontKerning"><att>tts:fontKerning</att></loc></p></item>
  <item><p><loc href="#style-attribute-fontShear"><att>tts:fontShear</att></loc></p></item>
</ulist>
<p>When selecting among font resources that satisfy the font selection criteria, font resources that are referenced
by a <loc href="#embedded-content-vocabulary-font"><el>font</el></loc> element have priority over application or system supplied
font resources.</p>
<note role="clarification">
<p>In addition to applying to <loc href="#content-vocabulary-span"><el>span</el></loc>, the computed value of this property
on a <loc href="#content-vocabulary-p"><el>p</el></loc> element is used to resolve the value of the
style property associated with the <loc href="#style-attribute-lineHeight">tts:lineHeight</loc> attribute as specified in
<specref ref="style-attribute-lineHeight"/>.</p>
</note>
<p>If a computed value of the property associated with this attribute is not supported,
then a <loc href="#terms-presentation-processor">presentation processor</loc> must use the value <code>auto</code>.</p>
<p>The <att>tts:fontSelectionStrategy</att> style is illustrated by the following
example.</p>
<table id="style-attribute-fontSelectionStrategy-example-1" role="example">
<caption>Example Fragment &ndash; Font Selection Strategy</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;p tts:fontFamily="font1,font2"&gt;
  &lt;span <phrase role="strong">tts:fontSelectionStrategy="character"</phrase>&gt;&amp;#xE000;&amp;#x20DD;&lt;/span&gt;
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<note role="explanation">
<p>In the above example, consider that the font resource associated with the <code>font1</code> font family contains a glyph that
maps the single character <code>&amp;#xE000;</code>, but does not contain a glyph that maps either the entire contextual character sequence
<code>&amp;#xE000;&amp;#x20DD;</code> or the single character <code>&amp;#x20DD;</code>. Consider further that the font resource associated with
the <code>font2</code> font family contains a mapping for the complete contextual character sequence and a mapping for the single character
<code>&amp;#x20DD;</code>.</p>
<p>If the author is willing to accept the mapping for the complete contextual character sequence via <code>font2</code>, then the value
<code>auto</code> would be used (either explicitly or by initial value defaulting). However, if the author wishes that <code>&amp;#xE000;</code>
be mapped via <code>font1</code> and <code>&amp;#x20DD;</code> be mapped via <code>font2</code>, then the value <code>character</code> would
be specified. In this example, the author wishes the latter behavior, so specifies the value <code>character</code>.</p>
</note>
</div3>
<div3 id="style-attribute-fontShear">
<head>tts:fontShear</head>
<p>The <att>tts:fontShear</att> attribute is used to specify a style property that
determines whether and how a shear transformation is applied to <loc href="#terms-glyph-area">glyph areas</loc>.</p>
<table id="style-property-details-fontShear" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<loc href="#style-value-percentage">&lt;percentage&gt;</loc>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>0%</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#content-vocabulary-span"><el>span</el></loc>; see also <loc href="#note-ruby-container-span-styles">Note</loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>yes</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>see prose</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-fontShear">fontShear derivation</loc></td>
</tr>
</tbody>
</table>
<p>For each <loc href="#terms-glyph-area">glyph area</loc> to which this attribute applies, apply a 2D shear transformation
to the <loc href="#terms-glyph-area">glyph area</loc> as specified by <specref ref="semantics-style-procedures-shear"/>.</p>
<p>The <att>tts:fontShear</att> style is illustrated by the following example.</p>
<table id="font-shear-example-1" role="example">
<caption>Example Fragment &ndash; Font Shear</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;p region="horizontal"&gt;
  &lt;span <phrase role="strong">tts:fontShear="16.78842%"</phrase>&gt;&lt;/span&gt;&lt;br/&gt;
  &lt;span <phrase role="strong">tts:fontShear="50%"</phrase>&gt;&lt;/span&gt;&lt;br/&gt;
  &lt;span <phrase role="strong">tts:fontShear="64.333%"</phrase>&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;p region="vertical"&gt;
  &lt;span <phrase role="strong">tts:fontShear="16.78842%"</phrase>&gt;&lt;/span&gt;&lt;br/&gt;
  &lt;span <phrase role="strong">tts:fontShear="50%"</phrase>&gt;&lt;/span&gt;&lt;br/&gt;
  &lt;span <phrase role="strong">tts:fontShear="64.333%"</phrase>&gt;&lt;/span&gt;
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="font-shear-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Font Shear</caption>
<tbody>
<tr>
<td><graphic source="images/fontShear_1.png" alt="TTML fontShear style property"/></td>
</tr>
</tbody>
</table>
<table id="font-shear-example-2" role="example">
<caption>Example Fragment &ndash; Font Shear w/negative values</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;p region="horizontal"&gt;
  &lt;span <phrase role="strong">tts:fontShear="-16.78842%"</phrase>&gt;&lt;/span&gt;&lt;br/&gt;
  &lt;span <phrase role="strong">tts:fontShear="-50%"</phrase>&gt;&lt;/span&gt;&lt;br/&gt;
  &lt;span <phrase role="strong">tts:fontShear="-64.333%"</phrase>&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;p region="vertical"&gt;
  &lt;span <phrase role="strong">tts:fontShear="-16.78842%"</phrase>&gt;&lt;/span&gt;&lt;br/&gt;
  &lt;span <phrase role="strong">tts:fontShear="-50%"</phrase>&gt;&lt;/span&gt;&lt;br/&gt;
  &lt;span <phrase role="strong">tts:fontShear="-64.333%"</phrase>&gt;&lt;/span&gt;
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="font-shear-example-2-images" role="example-images">
<caption>Example Rendition &ndash; Font Shear w/negative values</caption>
<tbody>
<tr>
<td><graphic source="images/fontShear_2.png" alt="TTML fontShear style property"/></td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-attribute-fontSize">
<head>tts:fontSize</head>
<p>The <att>tts:fontSize</att> attribute is used to specify a style property
that defines the font size for glyphs that are selected for <loc href="#terms-glyph-area">glyph areas</loc>
generated by content flowed into a region.</p>
<table id="style-property-details-fontSize" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td><loc href="#style-value-font-size">&lt;font-size&gt;</loc></td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>1c</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#content-vocabulary-p"><el>p</el></loc>,
<loc href="#content-vocabulary-span"><el>span</el></loc>; see also <loc href="#note-ruby-container-span-styles">Note</loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>yes, excepting <specref ref="style-attribute-fontSize-special-semantics"/></td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>if not <loc href="#layout-vocabulary-region"><el>region</el></loc> element,
then relative to nearest ancestor <loc href="#terms-styled-element">styled element&apos;s</loc> computed font size; otherwise, relative to the
<loc href="#terms-computed-cell-size">computed cell size</loc></td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-fontSize">fontSize derivation</loc></td>
</tr>
</tbody>
</table>
<p>If a single <loc href="#style-value-length">&lt;length&gt;</loc> value is specified, then this length 
equally determines the horizontal and vertical size of a glyph&apos;s EM square;
if two <loc href="#style-value-length">&lt;length&gt;</loc> values are specified, then the first determines the horizontal
size and the second determines the vertical size.</p>
<p>If horizontal and vertical sizes are expressed independently, then the
units of the <loc href="#style-value-length">&lt;length&gt;</loc> values must be the same.</p>
<note role="clarification">
<p>A glyph&apos;s EM square is conventionally defined as the EM square of the font that contains the glyph. That is,
glyphs do not have an EM square that is distinct from their font&apos;s EM square.</p>
</note>
<p>Relative <loc href="#style-value-length">&lt;length&gt;</loc> values
that appear in this attribute, i.e., values expressed in percentage (<code>%</code>), cell (<code>c</code>), or EM (<code>em</code>) units,
are resolved in relation to a referenced 2-dimensional size value consisting of two <loc href="#terms-component">components</loc>, a width <loc href="#terms-component">component</loc> and
a height <loc href="#terms-component">component</loc>. If the relative unit is a percentage, then the referenced value is either the computed value
of the font size of the nearest styled ancestor element or the <loc href="#terms-computed-cell-size">computed cell size</loc>.
If the relative unit is cells (<code>c</code>), then the referenced value is the
<loc href="#terms-computed-cell-size">computed cell size</loc>.
If the relative unit is EMs (<code>em</code>), then the referenced value is determined as if percentage units
were used, where <code>1em</code> equals <code>100%</code>.</p>
<p>When a single relative <loc href="#style-value-length">&lt;length&gt;</loc> value is specified, then
this <loc href="#style-value-length">&lt;length&gt;</loc> is resolved in terms of the height <loc href="#terms-component">component</loc> of the referenced value;
when two relative
<loc href="#style-value-length">&lt;length&gt;</loc> values are specified,
the first <loc href="#style-value-length">&lt;length&gt;</loc> is resolved in terms of the width <loc href="#terms-component">component</loc> of the referenced value and
the second <loc href="#style-value-length">&lt;length&gt;</loc> is resolved in terms of the height <loc href="#terms-component">component</loc> of the referenced value.</p>
<note role="example">
<p>Anamorphic font scaling, i.e., fonts scaled to independent (and distinct) horizontal and vertical sizes,
is expected to be used in a number of contexts, such as
when an author desires to synthesize a narrow or wide font face,
when an author desires to employ font sizes based on non-square cell units, etc.</p>
</note>
<note role="clarification">
<p><loc href="#terms-presentation-processor">Presentation processors</loc> are expected to scale glyphs so that the height of the EM square 
as defined in the font resource matches the computed font size height, using an appropriate algorithm for the font. If anamorphic font scaling
is used, i.e. the computed font size width differs from the computed font size height, then presentation processors additionally are expected
to scale the EM square anamorphically by the ratio of the width to the height, and by extension, ensure that the presented glyphs are also 
scaled by the same ratio.</p>
</note>
<p>The <loc href="#style-value-length">&lt;length&gt;</loc> value(s) used to express font size must be non-negative.</p>
<p>If the value of this attribute specifies a <code>c</code> unit on a <loc href="#style-value-length">&lt;length&gt;</loc> <loc href="#terms-component">component</loc>,
then it is resolved in terms of the height (only) or (both) the width and height of a
<emph>cell</emph> length unit as defined by <specref ref="style-value-length"/>, which is to say, in terms of
the <loc href="#terms-computed-cell-size">computed cell size</loc>.</p>
<note role="example">
<p>For example, consider a paragraph (<code>p</code>) element <code>P</code>.
If the <loc href="#terms-computed-cell-size">computed cell size</loc> is (24px,36px), and if
<code>tts:fontSize="1c"</code> is specified on <code>P</code>, then the computed value of <code>tts:fontSize</code>
resolves to (36px,36px), while if <code>tts:fontSize="1c 1c"</code> is specified on <code>P</code>,
then the computed value resolves to (24px,36px).</p>
</note>
<p>If the value of this attribute specifies an <code>em</code> unit on a <loc href="#style-value-length">&lt;length&gt;</loc> <loc href="#terms-component">component</loc>,
then it is treated as if an equivalent percentage value were specified, where <code>1em</code> is equal to <code>100%</code>.</p>
<note role="example">
<p>For example, consider a span element <code>S</code>, a child of a paragraph (<code>p</code>) element <code>P</code>.
If the computed value of <code>tts:fontSize</code> on <code>P</code> is (18px,24px), and if
<code>tts:fontSize="1em"</code> is specified on <code>S</code>, then this is equivalent to specifying <code>100%</code>,
which resolves to (24px,24px). However, if <code>tts:fontSize="1em 1em"</code> is specified on <code>S</code>,
then this is equivalent to specifying <code>100% 100%</code>  which resolves to (18px,24px).</p>
</note>
<note role="clarification">
<p>In addition to applying to <loc href="#content-vocabulary-span"><el>span</el></loc>, the computed value of this property
on a <loc href="#content-vocabulary-p"><el>p</el></loc> element is used to resolve the value of the
style property associated with the <loc href="#style-attribute-lineHeight">tts:lineHeight</loc> attribute as specified in
<specref ref="style-attribute-lineHeight"/>.</p>
</note>
<p>If a computed value of the property associated with this attribute is not supported,
then a <loc href="#terms-presentation-processor">presentation processor</loc> must use the closest supported value.</p>
<note role="elaboration">
<p>In this context, the phrase <emph>closest supported value</emph> means the value for which the Euclidean distance between
the computed font size and the supported font size is minimized. If there are multiple closest supported values equally distant from
the computed value, then the value most distant from 0 (single length specification) or [0,0] (two length specifications) is used,
i.e., the largest font size, is used.</p>
</note>
<p>The <att>tts:fontSize</att> style is illustrated by the following example.</p>
<table id="style-attribute-fontSize-example-1" role="example">
<caption>Example Fragment &ndash; Font Size</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="299px 97px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style tts:displayAlign="center"/&gt;
  &lt;style tts:textAlign="center"/&gt;
  &lt;style tts:fontFamily="proportionalSansSerif"/&gt;
  &lt;style <phrase role="strong">tts:fontSize="18px"</phrase>/&gt;
&lt;/region&gt;
...
&lt;p region="r1"&gt;
  Then fill up the glasses&lt;br/&gt;
  with treacle and ink,&lt;br/&gt;
  Or anything else&lt;br/&gt;
  that is &lt;span <phrase role="strong">tts:fontSize="24px"</phrase>&gt;pleasant&lt;/span&gt; to drink.
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="style-attribute-fontSize-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Font Size</caption>
<tbody>
<tr>
<td><graphic source="images/fontSize.png" alt="TTML fontSize style property"/></td>
</tr>
</tbody>
</table>
<div4 id="style-attribute-fontSize-special-semantics">
<head>Special Semantics of Font Size</head>
<p>The computed value of the property associated with this attribute consists of a 2-tuple
the entries of which denote the computed values of the width and height <loc href="#terms-component">components</loc> of the font size respectively.</p>
<p>When applied to a <loc href="#content-vocabulary-span"><el>span</el></loc> element
for which the computed value of <loc href="#style-attribute-ruby"><att>tts:ruby</att></loc> is
either <code>textContainer</code> or <code>text</code>, then, when resolving the computed value
of <loc href="#style-attribute-fontSize"><att>tts:fontSize</att></loc>, the following special inheritance
rules apply.</p>
<p>A <termref def="defs-ruby-text-container">ruby text container</termref>, regardless of whether it is
<termref def="defs-explicit-ruby-text-container">explicit</termref> or <termref def="defs-implied-ruby-text-container">implied</termref>,
does not inherit <loc href="#style-attribute-fontSize"><att>tts:fontSize</att></loc> from its parent.
Instead, if it is an <termref def="defs-explicit-ruby-text-container">explicit ruby text container</termref> and does not specify
a <loc href="#style-attribute-fontSize"><att>tts:fontSize</att></loc> attribute, or if it is an
<termref def="defs-implied-ruby-text-container">implied ruby text container</termref>, then
a value equal to 50% of the computed value of <loc href="#style-attribute-fontSize"><att>tts:fontSize</att></loc>
on the nearest ancestor <termref def="defs-ruby-container">ruby container</termref> applies;
otherwise, the specified value applies.</p>
<p>If a <loc href="#content-vocabulary-span"><el>span</el></loc> element for which the computed value of
<loc href="#style-attribute-ruby"><att>tts:ruby</att></loc> is <code>text</code> does not specify a 
<loc href="#style-attribute-fontSize"><att>tts:fontSize</att></loc> attribute, then it inherits the computed
value of <loc href="#style-attribute-fontSize"><att>tts:fontSize</att></loc> from its parent <termref def="defs-ruby-text-container">ruby text container</termref>,
regardless of whether it is an <termref def="defs-explicit-ruby-text-container">explicit</termref> or
<termref def="defs-implied-ruby-text-container">implied</termref> <termref def="defs-ruby-text-container">ruby text container</termref>.</p>
</div4>
</div3>
<div3 id="style-attribute-fontStyle">
<head>tts:fontStyle</head>
<p>The <att>tts:fontStyle</att> attribute is used to specify a style property that
defines the font style to apply to glyphs that are selected for <loc href="#terms-glyph-area">glyph areas</loc> generated
by content flowed into a region, where the mapping from font
style value to specific font face or style parameterization is not determined
by this specification.</p>
<table id="style-property-details-fontStyle" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>"normal"</code> |
<code>"italic"</code> |
<code>"oblique"</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>normal</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#content-vocabulary-p"><el>p</el></loc>,
<loc href="#content-vocabulary-span"><el>span</el></loc>; see also <loc href="#note-ruby-container-span-styles">Note</loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>yes</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-fontStyle">fontStyle derivation</loc></td>
</tr>
</tbody>
</table>
<p>Use of the value <code>oblique</code>
denotes a shear transformation (at an unspecified
angle) in the inline progression direction.</p>
<note role="clarification">
<p>In addition to applying to <loc href="#content-vocabulary-span"><el>span</el></loc>, the computed value of this property
on a <loc href="#content-vocabulary-p"><el>p</el></loc> element is used to resolve the value of the
style property associated with the <loc href="#style-attribute-lineHeight">tts:lineHeight</loc> attribute as specified in
<specref ref="style-attribute-lineHeight"/>.</p>
</note>
<p>If a computed value of the property associated with this attribute is not supported,
then a <loc href="#terms-presentation-processor">presentation processor</loc> must use the value <code>normal</code>.</p>
<p>The <att>tts:fontStyle</att> style is illustrated by the following example.</p>
<table id="style-attribute-fontStyle-example-1" role="example">
<caption>Example Fragment &ndash; Font Style</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="331px 84px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style tts:displayAlign="after"/&gt;
  &lt;style tts:textAlign="center"/&gt;
  &lt;style tts:fontFamily="proportionalSansSerif"/&gt;
&lt;/region&gt;
...
&lt;p region="r1"&gt;
  In autumn, when the leaves are brown,&lt;br/&gt;
  Take pen and ink, and &lt;span <phrase role="strong">tts:fontStyle="italic"</phrase>&gt;write it down.&lt;/span&gt;
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="style-attribute-fontStyle-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Font Style</caption>
<tbody>
<tr>
<td><graphic source="images/fontStyle.png" alt="TTML fontStyle style property"/></td>
</tr>
</tbody>
</table>
<p></p>
</div3>
<div3 id="style-attribute-fontVariant">
<head>tts:fontVariant</head>
<p>The <att>tts:fontVariant</att> attribute is used to enable the selection
of typographic glyph variants for <loc href="#terms-glyph-area">glyph areas</loc> generated by content flowed into a region.</p>
<table id="style-property-details-fontVariant" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<loc href="#style-value-font-variant">&lt;font-variant&gt;</loc>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>normal</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#content-vocabulary-p"><el>p</el></loc>,
<loc href="#content-vocabulary-span"><el>span</el></loc>; see also <loc href="#note-ruby-container-span-styles">Note</loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>yes</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-fontVariant">fontVariant derivation</loc></td>
</tr>
</tbody>
</table>
<note role="clarification">
<p>In addition to applying to <loc href="#content-vocabulary-span"><el>span</el></loc>, the computed value of this property
on a <loc href="#content-vocabulary-p"><el>p</el></loc> element is used to resolve the value of the
style property associated with the <loc href="#style-attribute-lineHeight">tts:lineHeight</loc> attribute as specified in
<specref ref="style-attribute-lineHeight"/>.</p>
</note>
<p>If a computed value of the property associated with this attribute is not supported,
then a <loc href="#terms-presentation-processor">presentation processor</loc> must use the value <code>normal</code>.</p>
<p>The <att>tts:fontVariant</att> style is illustrated by the following example.</p>
<table id="style-attribute-fontVariant-example-1" role="example">
<caption>Example Fragment &ndash; Font Variant</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="376px 95px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style tts:displayAlign="center"/&gt;
  &lt;style tts:textAlign="center"/&gt;
  &lt;style tts:fontFamily="proportionalSansSerif"/&gt;
&lt;/region&gt;
...
&lt;p region="r1"&gt;
  jumping &lt;span <phrase role="strong">tts:fontVariant="super"</phrase>&gt;up&lt;/span&gt; and
  &lt;span <phrase role="strong">tts:fontVariant="sub"</phrase>&gt;down&lt;/span&gt; in an agony of terror.
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="style-attribute-fontVariant-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Font Variant</caption>
<tbody>
<tr>
<td><graphic source="images/fontVariant.png" alt="TTML fontVariant style property"/></td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-attribute-fontWeight">
<head>tts:fontWeight</head>
<p>The <att>tts:fontWeight</att> attribute is used to specify a style property
that defines the font weight to apply to glyphs that are selected for <loc href="#terms-glyph-area">glyph areas</loc>
generated by content flowed into a region, where the mapping from font
weight value to specific font face or weight parameterization is not determined
by this specification.</p>
<table id="style-property-details-fontWeight" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>"normal"</code> |
<code>"bold"</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>normal</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#content-vocabulary-p"><el>p</el></loc>,
<loc href="#content-vocabulary-span"><el>span</el></loc>; see also <loc href="#note-ruby-container-span-styles">Note</loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>yes</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-fontWeight">fontWeight derivation</loc></td>
</tr>
</tbody>
</table>
<note role="clarification">
<p>In addition to applying to <loc href="#content-vocabulary-span"><el>span</el></loc>, the computed value of this property
on a <loc href="#content-vocabulary-p"><el>p</el></loc> element is used to resolve the value of the
style property associated with the <loc href="#style-attribute-lineHeight">tts:lineHeight</loc> attribute as specified in
<specref ref="style-attribute-lineHeight"/>.</p>
</note>
<p>If a computed value of the property associated with this attribute is not supported,
then a <loc href="#terms-presentation-processor">presentation processor</loc> must use the value <code>normal</code>.</p>
<p>The <att>tts:fontWeight</att> style is illustrated by the following example.</p>
<table id="style-attribute-fontWeight-example-1" role="example">
<caption>Example Fragment &ndash; Font Weight</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="376px 95px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style tts:displayAlign="center"/&gt;
  &lt;style tts:textAlign="center"/&gt;
  &lt;style tts:fontFamily="proportionalSansSerif"/&gt;
&lt;/region&gt;
...
&lt;p region="r1"&gt;
  They told me you had been to her,&lt;br/&gt;
  &lt;span <phrase role="strong">tts:fontWeight="bold"</phrase>&gt;and mentioned me to him:&lt;/span&gt;&lt;br/&gt;
  She gave me a good character&lt;br/&gt;
  &lt;span <phrase role="strong">tts:fontWeight="bold"</phrase>&gt;but said I could not swim.&lt;/span&gt;
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="style-attribute-fontWeight-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Font Weight</caption>
<tbody>
<tr>
<td><graphic source="images/fontWeight.png" alt="TTML fontWeight style property"/></td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-attribute-ipd">
<head>tts:ipd</head>
<p>The <att>tts:ipd</att> attribute is used to specify the
<emph>inline progression dimension</emph>, or, more succinctly, the <emph>ipd</emph> of an area generated by content flowed into a region.</p>
<note role="clarification">
<p>The term <emph>inline progression dimension</emph> is interpreted in a writing mode relative manner
such that <emph>ipd</emph> always corresponds to a distance in the inline
progression direction. Therefore, in horizontal writing modes, <emph>ipd</emph> expresses a horizontal distance,
while, in vertical writing mode, <emph>ipd</emph> expresses a vertical distance,
where horizontal and vertical are always interpreted in an absolute sense.</p>
</note>
<table id="style-property-details-ipd" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<loc href="#style-value-measure">&lt;measure&gt;</loc>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>auto</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#document-structure-vocabulary-body"><el>body</el></loc>,
<loc href="#content-vocabulary-div"><el>div</el></loc>,
<loc href="#content-vocabulary-p"><el>p</el></loc>,
<loc href="#content-vocabulary-span"><el>span</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>see prose</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-ipd">ipd derivation</loc></td>
</tr>
</tbody>
</table>
<p>If a <loc href="#style-value-measure">&lt;measure&gt;</loc> is expressed as a <loc href="#style-value-length">&lt;length&gt;</loc> value, then it must be non-negative.</p>
<p>If a <att>tts:ipd</att> attribute is specified on a <loc href="#content-vocabulary-span"><el>span</el></loc> element
and the computed value of the <att>tts:display</att> property that applies to that element is not <code>inlineBlock</code>,
then the semantics of <att>tts:ipd</att> only apply when computing the inline progression dimension of any applicable background color or image;
however, the dimensions of the content rectangles of the generated areas are not changed.</p>
<p>If a percentage value is used in a <loc href="#style-value-length">&lt;length&gt;</loc> expression of this attribute,
it is resolved with respect to the applicable <loc href="#terms-absolute-dimension">absolute dimension</loc> of the generated area&apos;s containing area
(the nearest ancestor area).</p>
<note role="clarification">
  <p>A <loc href="#style-value-length">&lt;length&gt;</loc> expression used with this attribute is associated with
  a specific, writing mode relative dimension, which is then resolved to an <loc href="#terms-absolute-dimension">absolute dimension</loc>
  in accordance with the applicable writing mode. If that <loc href="#terms-absolute-dimension">absolute dimension</loc> is horizontal (vertical),
  then a percentage value is resolved in terms of the same horizontal (vertical) <loc href="#terms-absolute-dimension">absolute dimension</loc> of
  the reference area (the nearest ancestor area).</p>
</note>
<p>The <att>tts:ipd</att> style is illustrated by the following example.</p>
<table id="style-attribute-ipd-example-1" role="example">
<caption>Example Fragment &ndash; Inline Progression Dimension</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;p tts:fontSize="24px" tts:lineHeight="48px" <phrase role="strong">tts:ipd="300px"</phrase>&gt;
  the woods are &lt;span tts:display="inlineBlock" <phrase role="strong">tts:ipd="150px"</phrase>&gt;getting green&lt;/span&gt; ...
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<note role="explanation">
<p>In the above example, the <att>tts:ipd</att> attribute on the <loc href="#content-vocabulary-p"><el>p</el></loc> element
assigns a fixed dimension to the width of the content rectangle of the block area generated by the paragraph, while
the <att>tts:ipd</att> attribute on the <loc href="#content-vocabulary-span"><el>span</el></loc> element assigns a fixed
dimension to the width of the content rectangle of the inline block area generated by the span.</p>
</note>
</div3>
<div3 id="style-attribute-letterSpacing">
<head>tts:letterSpacing</head>
<p>The <att>tts:letterSpacing</att> attribute is used to specify a style property that
increases or decreases the nominal distance between <loc href="#terms-glyph-area">glyph areas</loc>.</p>
<p>Letter spacing has no affect at the beginning or ending of a line area, and must not
be applied to zero-advance glyphs. Furthermore, letter spacing must not cause normally connected glyphs,
e.g., as used in cursive scripts or with cursive fonts, to become disconnected.</p>
<p>Letter spacing is applied independently from kerning and justification. Depending upon the font(s) in use,
the script(s) being presented, and the capabilities of a presentation processor, either or both kerning and
justification may be applied in addition to letter spacing.</p>
<table id="style-property-details-letterSpacing" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>"normal"</code> |
<loc href="#style-value-length">&lt;length&gt;</loc>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>normal</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#content-vocabulary-span"><el>span</el></loc>; see also <loc href="#note-ruby-container-span-styles">Note</loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>yes</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-letterSpacing">letterSpacing derivation</loc></td>
</tr>
</tbody>
</table>
<p>The value <code>normal</code> corresponds to specifying a <loc href="#style-value-length">&lt;length&gt;</loc> value of zero (0),
i.e., neither expand nor compress adjacent glyph spacing.</p>
<p>If a <loc href="#style-value-length">&lt;length&gt;</loc> value is expressed as a positive scalar,
then the spaces between adjacent glyphs are expanded by an additional amount equal to that scalar value.
If expressed as a negative scalar,
then the spaces between adjacent glyphs are compressed by an additional amount equal to that scalar value, possibly resulting
in overlapping <loc href="#terms-glyph-area">glyph areas</loc>, up to a maximum amount that results an effective advance of zero (0).</p>
<p>If a computed value of the letter spacing associated with this attribute is not supported,
then a <loc href="#terms-presentation-processor">presentation processor</loc> must use the closest supported value.</p>
<note role="elaboration">
<p>In this context, the phrase <emph>closest supported value</emph> means the value for which the one-dimensional Euclidean distance between
the computed letter spacing and the supported letter spacing is minimized. If there are multiple closest supported values equally distant from
the computed value for a given edge, then the value least distant from 0 is used.</p>
</note>
<p>The <att>tts:letterSpacing</att> style is illustrated by the following
example.</p>
<table id="style-attribute-letterSpacing-example-1" role="example">
<caption>Example Fragment &ndash; Letter Spacing</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;p&gt;
  WAVE&lt;br/&gt;
  &lt;span <phrase role="strong">tts:letterSpacing="20px"</phrase>&gt;WAVE&lt;/span&gt;
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="style-attribute-letterSpacing-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Letter Spacing</caption>
<tbody>
<tr>
<td><graphic source="images/letterSpacing.png" alt="TTML letterSpacing style property"/></td>
</tr>
</tbody>
</table>
<p></p>
</div3>
<div3 id="style-attribute-lineHeight">
<head>tts:lineHeight</head>
<p>The <att>tts:lineHeight</att> attribute is used to specify a style property that
defines the inter-baseline separation between line areas generated by content flowed into a region.</p>
<note role="exception">
<p>Exceptionally, the term <emph>height</emph> in the token <code>lineHeight</code> or the phrase <emph>line height</emph> refers to
the axis that corresponds with the <emph>block progression dimension</emph> of an associated line area, which is the vertical axis in
horizontal writing modes, but is the horizontal axis in vertical writing modes.</p>
</note>
<note role="seealso">
<p>See <specref ref="semantics-line-stacking"/> for additional information related to <emph>line height</emph>.</p>
</note>
<table id="style-property-details-lineHeight" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>"normal"</code> |
<loc href="#style-value-length">&lt;length&gt;</loc>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>normal</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#content-vocabulary-p"><el>p</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>yes, but see <loc href="#style-attribute-lineHeight-special-semantics">special semantics</loc></td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>relative to this element&apos;s font size</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-lineHeight">lineHeight derivation</loc></td>
</tr>
</tbody>
</table>
<note role="clarification">
<p>In addition to explicitly applying to <loc href="#content-vocabulary-p"><el>p</el></loc> elements, the value of this
style property inherited by <loc href="#content-vocabulary-span"><el>span</el></loc> element and <loc href="#terms-anonymous-span">anonymous span</loc>
descendants of a <loc href="#content-vocabulary-p"><el>p</el></loc> element is used to compute the <emph>half leading</emph> of their generated
<loc href="#terms-inline-area">inline areas</loc>, about which see <bibref ref="xslfo11"/>, &sect;4.5, and <bibref ref="css2"/>, &sect;10.8.1.</p>
</note>
<p>If the value of this attribute is <code>normal</code>, then the
<termref def="defs-used-value">used value</termref> of this style property is determined as follows:</p>
<olist>
<item><p>
Let <emph>P</emph> be the <loc href="#content-vocabulary-p"><el>p</el></loc> element to which this style property applies.
</p></item>
<item><p>
Let <emph>FF</emph> be the computed value of the <loc href="#style-attribute-fontFamily"><att>tts:fontFamily</att></loc>
style property of <emph>P</emph>.
</p></item>
<item><p>
Let <emph>FS</emph> be the computed value of the <loc href="#style-attribute-fontSize"><att>tts:fontSize</att></loc> style property of <emph>P</emph>.
</p></item>
<item><p>
Let <emph>F0</emph> be the first font obtained when sequentially mapping each font family in <emph>FF</emph> to a set of available fonts,
where this set of available fonts is constrained as needed to satisfy the computed values of the
<loc href="#style-attribute-fontSelectionStrategy"><att>tts:fontSelectionStrategy</att></loc>,
<loc href="#style-attribute-fontStyle"><att>tts:fontStyle</att></loc>,
<loc href="#style-attribute-fontWeight"><att>tts:fontWeight</att></loc>, and
<loc href="#style-attribute-fontVariant"><att>tts:fontVariant</att></loc>,
style properties of <emph>P</emph>.
</p></item>
<item><p>
If <emph>F0</emph> is associated with font metrics that specify altitude <emph>A</emph>, depth <emph>D</emph>, and line gap <emph>G</emph>,
then set <emph>LH</emph> to the sum of scaled(<emph>A</emph>), scaled(<emph>D</emph>), and scaled(<emph>G</emph>),
where scaled(<emph>X</emph>) denotes font metric <emph>X</emph> scaled according to font size <emph>FS</emph>.</p>
<note role="clarification">
<p>The altitude, depth, and line gap parameters referenced here are intended to correspond with the <code>sTypoAscender</code>,
<code>-sTypoDescender</code>, i.e., minus one (-1) times <code>sTypoDescender</code>, and <code>sTypoLineGap</code> fields of the <code>OS/2</code> table
of an OpenType <bibref ref="off"/> font (or their equivalent in other font formats). Moreover, in general, the expressions
scaled(A) and scaled(D) are intended to correspond with the <code>text-altitude</code> and <code>text-depth</code>
area traits employed by <bibref ref="xslfo11"/> when the value <code>use-font-metrics</code> is used with the associated properties
<code>text-altitude</code> and <code>text-depth</code>, respectively.</p>
</note>
</item>
<item><p>Otherwise, <emph>LH</emph> is considered to be implementation dependent; however, in the absence of implementation specific requirements,
<emph>LH</emph> is recommended to be set to 125% of <emph>FS</emph>.
</p></item>
<item><p>
Set the <termref def="defs-used-value">used value</termref> of this style property to <emph>LH</emph>.
</p></item>
</olist>
<note role="elaboration">
<p>If a content author wishes to avoid the possibility of different interpretations of <code>normal</code>, for example, due to differences in
the set of available fonts, then it is recommended that a 
<loc href="#style-value-length">&lt;length&gt;</loc> value expression be used to explicitly specify line height value.</p>
<p>It is the intention of this specification that the above algorithm be compatible with <bibref ref="xslfo11"/> and
<bibref ref="css2"/>.</p>
</note>
<p>If specified as a <loc
href="#style-value-length">&lt;length&gt;</loc>, then the length must
be non-negative.</p>
<p>If a computed value of the property associated with this attribute is not supported,
then a <loc href="#terms-presentation-processor">presentation processor</loc> must use the closest supported value.</p>
<note role="elaboration">
<p>In this context, the phrase <emph>closest supported value</emph> means the value for which the Euclidean distance between
the computed line height and the supported line height is minimized. If there are multiple closest supported values equally distant from
the computed value, then the value most distant from 0, i.e., the largest line height, is used.</p>
</note>
<p>The <att>tts:lineHeight</att> style is illustrated by the following example.</p>
<table id="style-attribute-lineHeight-example-1" role="example">
<caption>Example Fragment &ndash; Line Height</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="255px 190px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style tts:displayAlign="center"/&gt;
  &lt;style tts:textAlign="start"/&gt;
  &lt;style tts:fontFamily="proportionalSansSerif"/&gt;
  &lt;style tts:fontSize="16px"/&gt;
  &lt;style <phrase role="strong">tts:lineHeight="32px"</phrase>/&gt;
&lt;/region&gt;
...
&lt;p region="r1"&gt;
  He thought he saw an elephant,&lt;br/&gt;
  That practised on a fife:&lt;br/&gt;
  He looked again, and found it was&lt;br/&gt;
  A letter from his wife.&lt;br/&gt;
  "At length I realise," he said,&lt;br/&gt;
  "The bitterness of Life.
"&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="style-attribute-lineHeight-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Line Height</caption>
<tbody>
<tr>
<td><graphic source="images/lineHeight.png" alt="TTML lineHeight style property"/></td>
</tr>
</tbody>
</table>
<div4 id="style-attribute-lineHeight-special-semantics">
<head>Special Semantics of Line Height</head>
<p>When the specified value of this attribute is <code>normal</code>, the computed value is the specified value; therefore,
when applying inheritance semantics, the value <code>normal</code> is the inherited value.
However, when this computed value is to be used to perform paragraph layout, it is further processed to obtain a
<termref def="defs-used-value">used value</termref>
as described above.</p>
</div4>
</div3>
<div3 id="style-attribute-lineShear">
<head>tts:lineShear</head>
<p>The <att>tts:lineShear</att> attribute is used to specify a style property that
determines whether and how a shear transformation is applied to each of the <loc href="#terms-line-area">line areas</loc> generated
by a <loc href="#content-vocabulary-p"><el>p</el></loc> element.</p>
<table id="style-property-details-lineShear" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<loc href="#style-value-percentage">&lt;percentage&gt;</loc>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>0%</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#content-vocabulary-p"><el>p</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>yes</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>see prose</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-lineShear">lineShear derivation</loc></td>
</tr>
</tbody>
</table>
<p>For each <loc href="#terms-line-area">line area</loc> to which this attribute applies, apply a 2D shear transformation
to the <loc href="#terms-line-area">line area</loc> as specified by <specref ref="semantics-style-procedures-shear"/>.</p>
<p>The <att>tts:lineShear</att> style is illustrated by the following example.</p>
<table id="line-shear-example-1" role="example">
<caption>Example Fragment &ndash; Line Shear</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="right" tts:writingMode="tbrl" tts:displayAlign="center" .../&gt;
&lt;region xml:id="left" tts:writingMode="tbrl" tts:displayAlign="center" .../&gt;
...
&lt;div&gt;
  &lt;p region="right" <phrase role="strong">tts:lineShear="0%"</phrase>&gt;
    &lt;span tts:ruby="container"&gt;&lt;span tts:ruby="base"&gt;&lt;/span&gt;&lt;span
    tts:ruby="text"&gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;
    &lt;span tts:ruby="container"&gt;&lt;span tts:ruby="base"&gt;&lt;/span&gt;&lt;span
    tts:ruby="text"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span tts:ruby="container"&gt;&lt;span
    tts:ruby="base"&gt;&lt;/span&gt;&lt;span tts:ruby="text"&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;/p&gt;
  &lt;p region="left" <phrase role="strong">tts:lineShear="16.67%"</phrase>&gt;
    &lt;span tts:ruby="container"&gt;&lt;span tts:ruby="base"&gt;&lt;/span&gt;&lt;span
    tts:ruby="text"&gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;
    &lt;span tts:ruby="container"&gt;&lt;span tts:ruby="base"&gt;&lt;/span&gt;&lt;span
    tts:ruby="text"&gt;&lt;/span&gt;&lt;/span&gt;&lt;span tts:ruby="container"&gt;&lt;span
    tts:ruby="base"&gt;&lt;/span&gt;&lt;span tts:ruby="text"&gt;&lt;/span&gt;&lt;/span&gt;
  &lt;/p&gt;
&lt;/div&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="line-shear-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Line Shear - Vertical Lines with Ruby</caption>
<tbody>
<tr>
<td><graphic source="images/lineShear_1.png" alt="TTML lineShear style property"/></td>
</tr>
</tbody>
</table>
<note role="explanation">
<p>In the above example, the yellow lines are decorations created by a particular presentation processor
to aid in debugging layout issues. Such lines are not part of a normative TTML presentation as defined by this specification.
Here, the decorations depict (1) boundaries of outer <loc href="#terms-block-area">block areas</loc>
generated by <loc href="#layout-vocabulary-region"><el>region</el></loc> elements,
(2) boundaries of <loc href="#terms-line-area">line area</loc> children of the outer <loc href="#terms-block-area">block areas</loc>
generated by <loc href="#content-vocabulary-p"><el>p</el></loc> elements, and
(3) boundaries of <loc href="#terms-inline-area">inline area</loc> children of <loc href="#terms-line-area">line areas</loc> generated
by implied <termref def="defs-ruby-text-container">ruby text containers</termref>.</p>
<p>This example depicts how a shear (skew) transform is applied to each affected line area as a whole; however,
when line shear is to be applied to a line, then the available distance that can be allocated to the line, i.e., its maximum inline progression dimension
length prior to shear transformation, is reduced by <code>B*sin(&theta;)</code>, where <code>B</code> is the block progression dimension
of the line area and <code>&theta;</code> is the shear angle, in order to fit the line into the content rectangle of the outer block area
of the paragraph.</p>
</note>
</div3>
<div3 id="style-attribute-luminanceGain">
<head>tts:luminanceGain</head>
<p>The <att>tts:luminanceGain</att> attribute is used to determine the absolute luminance of a region when
its presentation requires a greater dynamic range than that provided by the <bibref ref="srgb"/> color space, 
and when that presentation requires an absolute luminance value.</p>
<note role="clarification">
<p>Absolute luminance is determined by means of a gain multiplier applied to the absolute reference white
point luminance of 80 cdm<sup>-2</sup> of the <bibref ref="srgb"/> color space (and not the actual white luminance
of some output display device).</p>
<p>Without the ability to specify this gain, colors specified in the <bibref ref="srgb"/> space cannot be
reliably composited with high-dynamic range (HDR) content intended for display with significantly
greater peak luminance, such as content that uses the perceptual quantizer electro-optical transfer function (PQ EOTF)
specified in <bibref ref="bt2100_1"/>. Specifically,</p>
<ulist>
<item><p><bibref ref="srgb"/> colors may appear too dim if they remain unscaled and the average luminance of the scene
exceeds 80 cdm<sup>-2</sup>; and
</p></item>
<item><p><bibref ref="srgb"/> colors may appear too bright if they are uniformly scaled to an arbitrary large
luminance, such as 10,000 cdm<sup>-2</sup>.</p>
</item>
</ulist>
</note>
<table id="style-property-details-luminanceGain" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code><loc href="#style-value-non-negative-number">&lt;non-negative-number&gt;</loc></code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>1.0</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#layout-vocabulary-region"><el>region</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete; continuous</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-luminanceGain">luminanceGain derivation</loc></td>
</tr>
</tbody>
</table>
<p>The computed value associated with the <att>tts:luminanceGain</att> attribute applies to all pixels within the associated 
<loc href="#layout-vocabulary-region"><el>region</el></loc> that require conversion from an
<bibref ref="srgb"/> color value to an absolute luminance value. Any requirement to generate absolute luminance
pixel values is derived from the <loc href="#terms-document-processing-context">document processing context</loc>.</p>
<note role="usage"><p>If an image whose processing generates absolute luminance pixel values, for example
one conforming to <bibref ref="png-hdr-pq"/>, is placed in a region that also contains text or
images whose processing generates <bibref ref="srgb"/> pixel values, and an absolute luminance output is required,
only the <bibref ref="srgb"/> pixel values are transformed.</p></note>
<p>When applying <att>tts:luminanceGain</att>, the linear optical output values
(C<sub>r</sub>, C<sub>g</sub>, C<sub>b</sub>) of the <loc href="#terms-component">components</loc> of a pixel of a region are defined as
80  <att>tts:luminanceGain</att>  (r, g, b), where (r, g, b) are the normalized linear <bibref ref="srgb"/> <loc href="#terms-component">components</loc> of the pixel.
</p>
<p>If a computed value of the property associated with this attribute is not supported,
then a <loc href="#terms-presentation-processor">presentation processor</loc> must use the closest supported value.</p>
<p>The <att>tts:luminanceGain</att> style is illustrated by the following example.</p>
<table id="style-attribute-luminanceGain-example-1" role="example">
<caption>Example Fragment &ndash; tts:luminanceGain</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="60% 20%"/&gt;
  &lt;style tts:origin="10% 70%"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style tts:luminanceGain="3.8"/&gt;
&lt;/region&gt;
&lt;region xml:id="r2"&gt;
  &lt;style tts:extent="60% 20%"/&gt;
  &lt;style tts:origin="10% 10%"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style tts:luminanceGain="1.0"/&gt;
&lt;/region&gt;
...
&lt;p region="r1"&gt;
  The absolute luminance of the text in region one "r1" should be 3.8 times
  brighter than the absolute luminance of the text in region two "r2". 
&lt;/p&gt;
&lt;p region="r2"&gt;
  Other text with the identity luminance adjustment (1.0).
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>An example of luminance adjustment calculations is described below.</p>
<table id="hdr-computation-example" role="example">
<caption>Example &ndash; Absolute linear optical output calculation using tts:luminanceGain</caption>
<tbody>
<tr>
<td>
Given <code>tts:luminanceGain="1.5"</code>, the absolute linear optical output of the <loc href="#terms-component">components</loc> of a rendered pixel with color <code>rgb(218,165,32)</code>
is (82.37, 42.21, 0.82)  80  1.5 ((218/255)<sup>2.4</sup>, (165/255)<sup>2.4</sup>, (32/255)<sup>2.4</sup>),
where the exponent of 2.4 is the gamma correction applied by the <bibref ref="srgb"/> EOTF.
</td>
</tr>
</tbody>
</table>
<note role="elaboration">
<p>A detailed example of compositing <bibref ref="srgb"/> pixels onto HDR pixels using <att>tts:luminanceGain</att>
is provided in Appendix <specref ref="pq-hdr"/>.</p>
</note>
<note role="clarification">
<p>
As specified in <specref ref="style-value-color"/>, compositing regions of a rendered <loc href="#terms-document-instance">document instance</loc>
onto a target medium is typically performed using pixel <loc href="#terms-component">components</loc> encoded using 
the inverse EOTF of the target medium, as opposed to pixel <loc href="#terms-component">components</loc> expressed in 
linear light. As a result, the use of semi-transparent regions can yield 
perceptually different results depending on the inverse EOTF used by the target 
medium, especially when there is a large difference in luminance between the pixels of the
rendered <loc href="#terms-document-instance">document instance</loc> and the target medium.
Consequently, authors are encouraged to consider visual results involving semi-transparent elements.
</p>
</note>
</div3>
<div3 id="style-attribute-opacity">
<head>tts:opacity</head>
<p>The <att>tts:opacity</att> attribute is used to specify a style property that
defines the opacity (or conversely, the transparency)
of marks associated with a region or an area generated by content flowed into a region.</p>
<p>When presented onto a visual medium, the opacity of the region is applied uniformly and on a linear scale
to all marks produced by content targeted to the
region after having applied any <loc href="#terms-content-element">content element</loc> specific opacity to areas generated by that content.</p>
<table id="style-property-details-opacity" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<loc href="#style-value-alpha">&lt;alpha&gt;</loc>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td>
<code>1.0</code>
</td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#document-structure-vocabulary-body"><el>body</el></loc>,
<loc href="#content-vocabulary-div"><el>div</el></loc>,
<loc href="#embedded-content-vocabulary-image"><el>image</el></loc>,
<loc href="#content-vocabulary-p"><el>p</el></loc>,
<loc href="#layout-vocabulary-region"><el>region</el></loc>,
<loc href="#content-vocabulary-span"><el>span</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete; continuous</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-opacity">opacity derivation</loc></td>
</tr>
</tbody>
</table>
<p>The <att>tts:opacity</att> style is illustrated by the following example.</p>
<p></p>
<table id="style-attribute-opacity-example-1" role="example">
<caption>Example Fragment &ndash; Opacity</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;p&gt;
  &lt;span <phrase role="strong">tts:opacity="1.00"</phrase>&gt;And &lt;/span&gt;
  &lt;span <phrase role="strong">tts:opacity="0.75"</phrase>&gt;then &lt;/span&gt;
  &lt;span <phrase role="strong">tts:opacity="0.50"</phrase>&gt;there &lt;/span&gt;
  &lt;span <phrase role="strong">tts:opacity="0.25"</phrase>&gt;were &lt;/span&gt;
  &lt;span <phrase role="strong">tts:opacity="0.00"</phrase>&gt;none.&lt;/span&gt;
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="style-attribute-opacity-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Opacity</caption>
<tbody>
<tr>
<td>
<graphic source="images/opacity.png" alt="TTML opacity style property"/>
</td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-attribute-origin">
<head>tts:origin</head>
<p>The <att>tts:origin</att> attribute is used to specify the
<emph>x</emph> and <emph>y</emph> coordinates of the origin of a
region area with respect to the origin of the <loc href="#terms-root-container-region">root container region</loc>.</p>
<p>If both <att>tts:origin</att> and <loc href="#style-attribute-position"><att>tts:position</att></loc> attributes are
specified on an element and <loc href="#style-attribute-position"><att>tts:position</att></loc> is a supported property,
then the <att>tts:origin</att> attribute must be ignored for the purpose of presentation processing.</p>
<table id="style-property-details-origin" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td><loc href="#style-value-origin">&lt;origin&gt;</loc></td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>auto</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#layout-vocabulary-region"><el>region</el></loc>; see 
<loc href="#style-attribute-origin-special-usage">special usage</loc> for
<loc href="#content-vocabulary-div"><el>div</el></loc> and
<loc href="#content-vocabulary-p"><el>p</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>relative to width and height of <loc href="#terms-root-container-region">root container region</loc></td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-origin">origin derivation</loc></td>
</tr>
</tbody>
</table>
<p>If the value of this attribute consists of two <loc href="#style-value-length">&lt;length&gt;</loc> specifications,
then they must be interpreted as <emph>x</emph> and <emph>y</emph> coordinates, where the first specification
is the <emph>x</emph> coordinate, and the second specification is the <emph>y</emph> coordinate.</p>
<p>If the value of this attribute is <code>auto</code>, then the computed value
of the style property must be considered to be the same as the origin of the <loc href="#terms-root-container-region">root container region</loc>.</p>
<p>If a computed value of the property associated with this attribute is not supported,
then a <loc href="#terms-presentation-processor">presentation processor</loc> must use the closest supported value.</p>
<note role="elaboration">
<p>In this context, the phrase <emph>closest supported value</emph> means the value for which the Euclidean distance between
the computed origin and the supported origin is minimized. If there are multiple closest supported values equally distant from
the computed value, then the value least distant from [0,0], i.e., closest to the coordinate space origin, is used.</p>
</note>
<p>The <att>tts:origin</att> style is illustrated by the following example.</p>
<table id="style-attribute-origin-example-1" role="example">
<caption>Example Fragment &ndash; Origin</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style <phrase role="strong">tts:origin="40px 40px"</phrase>/&gt;
  &lt;style tts:extent="308px 92px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style tts:displayAlign="center"/&gt;
  &lt;style tts:textAlign="center"/&gt;
&lt;/region&gt;
...
&lt;p region="r1"&gt;
  "To dine!" she shrieked in dragon-wrath.&lt;br/&gt;
  "To swallow wines all foam and froth!&lt;br/&gt;
   To simper at a table-cloth!"
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="style-attribute-origin-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Origin</caption>
<tbody>
<tr>
<td><graphic source="images/origin.png" alt="TTML origin style property"/></td>
</tr>
</tbody>
</table>
<div4 id="style-attribute-origin-special-usage">
<head>Special Usage of Origin</head>
<p>When <att>tts:origin</att> is specified exceptionally on <loc href="#content-vocabulary-div"><el>div</el></loc> or
<loc href="#content-vocabulary-p"><el>p</el></loc>, <specref ref="layout-vocabulary-region-special-inline-animation-semantics"/> applies.</p>
</div4>
</div3>
<div3 id="style-attribute-overflow">
<head>tts:overflow</head>
<p>The <att>tts:overflow</att> attribute is used to specify a style property that
defines whether a region area is clipped or not if the descendant areas of the region overflow
its extent.</p>
<table id="style-property-details-overflow" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>"visible"</code> |
<code>"hidden"</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>hidden</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#layout-vocabulary-region"><el>region</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-overflow">overflow derivation</loc></td>
</tr>
</tbody>
</table>
<p>If the value of this attribute is <code>visible</code>, then content should
not be clipped outside of the affected region.
If the value is <code>hidden</code>, then content should
be clipped outside of the affected region.</p>
<note role="clarification">
<p>Marks produced by content associated with a region&apos;s content rectangle may be rendered outside that
content rectangle, thus intersecting with the region&apos;s padding and border rectangles, without any affect from
the <att>tts:overflow</att> attribute. Such marks only become a candidate for region overflow when they would
extend outside the region&apos;s extent which is coincident with the region&apos;s border rectangle, which contains the
region&apos;s padding rectangle, which contains the region&apos;s content rectangle.</p>
</note>
<note role="explanation">
<p>Unless a manual line break element <el>br</el> is used by the content author,
a paragraph of a given region will generate no more than one line area in that
region if the computed values of the <att>tts:overflow</att> and <att>tts:wrapOption</att>
style properties of the region are <code>visible</code> and <code>noWrap</code>,
respectively.</p>
</note>
<p>If a computed value of the property associated with this attribute is not supported,
then a <loc href="#terms-presentation-processor">presentation processor</loc> must use the value <code>hidden</code>.</p>
<p>The <att>tts:overflow</att> style is illustrated by the following example.</p>
<table id="style-attribute-overflow-example-1" role="example">
<caption>Example Fragment &ndash; Overflow</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">&ttml-ex4-overflow;</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="style-attribute-overflow-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Overflow</caption>
<tbody>
<tr>
<td><graphic source="images/overflow.png" alt="TTML overflow style property"/></td>
</tr>
</tbody>
</table>
<note role="explanation">
<p>In the above example, the <att>tts:noWrap</att> is set to
<code>noWrap</code> to prevent automatic line wrapping (breaking);
if this were not specified, then overflow would occur in the block
progression direction as opposed to the inline progression direction.</p>
</note>
</div3>
<div3 id="style-attribute-padding">
<head>tts:padding</head>
<p>The <att>tts:padding</att> attribute is used to specify padding (or inset)
space on one or more sides of a region or an area generated by content flowed into a region.</p>
<note role="clarification">
<p>Padding is applied as an inset to a region area, which is to say, the content rectangle of a region area is reduced by
the presence of padding applied to the region.</p>
</note>
<table id="style-property-details-padding" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td><loc href="#style-value-padding">&lt;padding&gt;</loc></td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>0px</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#document-structure-vocabulary-body"><el>body</el></loc>,
<loc href="#content-vocabulary-div"><el>div</el></loc>,
<loc href="#embedded-content-vocabulary-image"><el>image</el></loc>,
<loc href="#content-vocabulary-p"><el>p</el></loc>,
<loc href="#layout-vocabulary-region"><el>region</el></loc>,
<loc href="#content-vocabulary-span"><el>span</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>see prose</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-padding">padding derivation</loc></td>
</tr>
</tbody>
</table>
<p>If the value of this attribute consists of one <loc href="#style-value-length">&lt;length&gt;</loc> specification,
then that length applies to all edges of the affected areas. If the value
consists of two <loc href="#style-value-length">&lt;length&gt;</loc> specifications, then the first applies to the
before and after edges, and the second applies to the start and end edges.
If three <loc href="#style-value-length">&lt;length&gt;</loc> specifications are provided, then the first applies to the
before edge, the second applies to the start and end edges, and the third applies
to the after edge.
If four <loc href="#style-value-length">&lt;length&gt;</loc> specifications are provided, then they apply to before, end,
after, and start edges, respectively.</p>
<note role="clarification">
<p>Percentage values are relative to the dimension of the region to which they apply. For example, if the before and after edges correspond 
to the top and bottom edges of the region, as is the case for Latin text where <att>tts:writingMode</att> is equal to <code>"lrtb"</code>, 
then percentage values that apply to either of the two edges are relative to the height of the region. Conversely, if the before and after 
edges correspond to the right and left edges of the region, as is the case for Japanese text where <att>tts:writingMode</att> is equal to 
<code>"tbrl"</code>, then percentage values that apply to either of the two edges are relative to the width of the region.</p>
</note>
<p>The <loc href="#style-value-length">&lt;length&gt;</loc> value(s) used to express padding must be non-negative.</p>
<p>If padding is applied to a <loc href="#content-vocabulary-span"><el>span</el></loc> element, and content from that element
is divided across multiple line areas, then the specified padding must be applied at each line break boundary. In contrast,
within a single line area, if multiple inline areas are generated by the element, then the specified padding must be applied at
the first and (or) last generated inline area within a line area the inline progression order of the containing block level element.</p>
<note role="clarification">
<p>The behavior of padding on a <loc href="#content-vocabulary-span"><el>span</el></loc> element corresponds with the use of
a CSS <code>box-decoration-break</code> property with the value <code>clone</code> at line breaks and the value <code>slice</code>
at non-terminal, i.e., non-first and non-last, inline area boundaries, as defined by <bibref ref="css3-frag"/>, &sect;5.4.</p>
</note>
<p>If a percentage value is used in a <loc href="#style-value-length">&lt;length&gt;</loc> <loc href="#terms-component">component</loc> of this attribute,
it is resolved as follows:</p>
<ulist>
  <item><p>when applied to a <loc href="#layout-vocabulary-region"><el>region</el></loc> element, the percentage is relative to the applicable
  <loc href="#terms-absolute-dimension">absolute dimension</loc> of the region&apos;s resolved extent, unless that dimension is dependent on the
  size of the content of the region, in which case the percentage resolves to the corresponding <loc href="#terms-component">component</loc> of the applicable initial value;</p></item>
  <item><p>when applied to all other elements, the percentage is relative to the corresponding
  <loc href="#terms-absolute-dimension">absolute dimension</loc> of the nearest ancestor area, unless that dimension is dependent on the
  size of the content of that area, in which case the percentage resolves to the corresponding <loc href="#terms-component">component</loc> of the applicable initial value.</p></item>
</ulist>
<note role="clarification">
  <p>Each <loc href="#style-value-length">&lt;length&gt;</loc> <loc href="#terms-component">component</loc> used with this attribute is associated with
  a specific, writing mode relative edge, which is then resolved to an <loc href="#terms-absolute-dimension">absolute dimension</loc>
  in accordance with the applicable writing mode. If that <loc href="#terms-absolute-dimension">absolute dimension</loc> is horizontal (vertical),
  then a percentage value is resolved in terms of the same horizontal (vertical) <loc href="#terms-absolute-dimension">absolute dimension</loc> of
  the reference area (either the root container region or the nearest ancestor area).</p>
</note>
<p>If a computed value of the property associated with this attribute is not supported,
then a <loc href="#terms-presentation-processor">presentation processor</loc> must use the closest supported value.</p>
<note role="elaboration">
<p>In this context, the phrase <emph>closest supported value</emph> means the value for which the one-dimensional Euclidean distance between
the computed padding and the supported padding is minimized on a per-edge basis. If there are multiple closest supported values equally distant from
the computed value for a given edge, then the value least distant from 0, i.e., the least padding, is used.</p>
</note>
<p>The <att>tts:padding</att> style is illustrated by the following example.</p>
<p></p>
<table id="style-attribute-padding-example-1" role="example">
<caption>Example Fragment &ndash; Padding on region</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="446px 104px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style tts:displayAlign="after"/&gt;
  &lt;style tts:textAlign="center"/&gt;
  &lt;style <phrase role="strong">tts:padding="10px 40px"</phrase>/&gt;
&lt;/region&gt;
...
&lt;p region="r1" tts:backgroundColor="red"&gt;
  Just the place for a Snark! I have said it twice:&lt;br/&gt;
  That alone should encourage the crew.&lt;br/&gt;
  Just the place for a Snark! I have said it thrice:&lt;br/&gt;
  What I tell you three times is true.
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>When rendering an area to which padding applies, the background color that
applies to the area is rendered into the padded portion of the area.</p>
<table id="style-attribute-padding-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Padding on region</caption>
<tbody>
<tr>
<td>
<graphic source="images/padding.png" alt="TTML padding style property"/>
</td>
</tr>
</tbody>
</table>
<note role="clarification">
<p>The above example depicts how padding is applied as an inset to a region area. In particular,
<code>10px</code> of padding is applied to the before (top) and after (bottom) edges, and
<code>40px</code> of padding is applied at the start (left) and end (right) edges. Subtracting
these from the extent of the region area results in the region&apos;s content rectangle having <code>366px</code> width
and <code>84px</code> height. The black background color of the region appears in the region&apos;s padding rectangle
while the red background color of the paragraph appears in the region&apos;s content rectangle.</p>
</note>
<table id="style-attribute-padding-example-2" role="example">
    <caption>Example Fragment &ndash; Padding on span</caption>
  <tbody>
    <tr>
      <td>
        <eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="446px 72px"/&gt;
  &lt;style tts:displayAlign="center"/&gt;
  &lt;style tts:textAlign="center"/&gt;
  &lt;style tts:backgroundColor="green"/&gt;
&lt;/region&gt;
...
&lt;p region="r1"&gt;
  &lt;span tts:backgroundColor="black" tts:color="white" <phrase role="strong">tts:padding="0c 0.5c"</phrase>&gt;
  The crew was complete: it included a Boots--&lt;br/&gt;
  A maker of Bonnets and Hoods--
  &lt;/span&gt;
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>When rendering spans to which padding applies, the padding applies to each generated line area independently.</p>
<table id="style-attribute-padding-example-2-images" role="example-images">
<caption>Example Rendition &ndash; Padding on span</caption>
<tbody>
<tr>
<td>
<graphic source="images/padding_2.png" alt="TTML padding style property"/>
</td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-attribute-position">
<head>tts:position</head>
<p>The <att>tts:position</att> attribute is used as an alternative way to specify the position
of a region area with respect to a positioning rectangle.</p>
<p>If both <att>tts:position</att> and <loc href="#style-attribute-origin"><att>tts:origin</att></loc> attributes are
specified on an element and <att>tts:position</att> is a supported property,
then the <att>tts:origin</att> attribute must be ignored for the purpose of presentation processing.</p>
<table id="style-property-details-position" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<loc href="#style-value-position">&lt;position&gt;</loc>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>top left</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#layout-vocabulary-region"><el>region</el></loc>; see 
<loc href="#style-attribute-position-special-usage">special usage</loc> for
<loc href="#content-vocabulary-div"><el>div</el></loc> and
<loc href="#content-vocabulary-p"><el>p</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>see prose</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete; continuous</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-position">position derivation</loc></td>
</tr>
</tbody>
</table>
<p>A percentage value <loc href="#terms-component">component</loc> for a horizontal position offset is relative to the width of the
positioning rectangle minus the width of the associated region.
A percentage value <loc href="#terms-component">component</loc> for a vertical position offset is relative to the height of the
positioning rectangle minus the height of the associated region.</p>
<p>The following image depicts a position value <attval>75% 50%</attval>, where the rectangle with dashed line denotes the positioning rectangle and the rectangle
with solid line denotes the region being positioned. In this case the region is positioned such that a vertical line located at 75% of its width coincides with
a vertical line located at 75% of the width of the positioning rectangle, and a horizontal line located at 50% of its height coincides with
a vertical line located at 50% of the width of the posititoning area.</p>
<table id="style-attribute-position-percentage-based-positioning" role="example-images">
<caption>Percentage Based Positioning</caption>
<tbody>
<tr>
<td>
<graphic source="images/position_0.png" alt="TTML position style property using percentages"/>
</td>
</tr>
</tbody>
</table>
<p>If specified on a <loc href="#layout-vocabulary-region"><el>region</el></loc> element, then, the positioning rectangle corresponds with the content rectangle of the <loc href="#terms-root-container-region">root container region</loc>.</p>
<p>If a computed value of the property associated with this attribute is not supported,
then a <loc href="#terms-presentation-processor">presentation processor</loc> must use the closest supported value.</p>
<note role="elaboration">
<p>In this context, the phrase <emph>closest supported value</emph> means the value for which the Euclidean distance between
the computed position and the supported position is minimized. If there are multiple closest supported values equally distant from
the computed value, then the value least distant from [0,0], i.e., closest to the coordinate space position, is used.</p>
</note>
<p>The <att>tts:position</att> style is illustrated by the following example, which positions a region so that it is
centered in the horizontal dimension and has a bottom edge offset at 10% above the bottom of the positioning rectangle in the vertical dimension,
where this offset is equal to 10% of the difference between the height of the positioning rectangle and the height of the region.</p>
<table id="style-attribute-position-example-1" role="example">
<caption>Example Fragment &ndash; Position</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;tt tts:extent="640px 480px"&gt;
...
&lt;region xml:id="r1"&gt;
  &lt;style <phrase role="strong">tts:position="center bottom 10%"</phrase>/&gt;
  &lt;style tts:extent="308px 92px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style tts:displayAlign="center"/&gt;
  &lt;style tts:textAlign="center"/&gt;
&lt;/region&gt;
...
&lt;p region="r1"&gt;
  "To dine!" she shrieked in dragon-wrath.&lt;br/&gt;
  "To swallow wines all foam and froth!&lt;br/&gt;
   To simper at a table-cloth!"
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="style-attribute-position-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Position</caption>
<tbody>
<tr>
<td><graphic source="images/position.png" alt="TTML position style property"/></td>
</tr>
</tbody>
</table>
<p></p>
<div4 id="style-attribute-position-special-usage">
<head>Special Usage of Position</head>
<p>When <att>tts:position</att> is specified exceptionally on <loc href="#content-vocabulary-div"><el>div</el></loc> or
<loc href="#content-vocabulary-p"><el>p</el></loc>, <specref ref="layout-vocabulary-region-special-inline-animation-semantics"/> applies.</p>
</div4>
</div3>
<div3 id="style-attribute-ruby">
<head>tts:ruby</head>
<p>The <att>tts:ruby</att> attribute is used to specify the application of ruby
styling.</p>
<table id="style-property-details-ruby" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>"none"</code> |
<code>"container"</code> |
<code>"base"</code> |
<code>"baseContainer"</code> |
<code>"text"</code> |
<code>"textContainer"</code> |
<code>"delimiter"</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>none</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#content-vocabulary-span"><el>span</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>none</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-ruby">ruby derivation</loc></td>
</tr>
</tbody>
</table>
<p></p>
<p>If the value of this attribute is <code>none</code>, then no ruby semantics apply; otherwise, the ruby semantics enumerated by
<specref ref="ruby-semantics-mapping-table"/> apply.</p>
<p>If a computed value of the property associated with this attribute is not supported,   
then a <loc href="#terms-presentation-processor">presentation processor</loc> must use the value <code>none</code>.</p>
<table id="ruby-semantics-mapping-table" role="common">
<caption>Table 10-1 &ndash; Ruby Semantics Mapping</caption>
<col css="width: 25%;"/>
<col css="width: 25%;"/>
<col css="width: 25%;"/>
<col css="width: 25%;"/>
<tbody>
<tr>
<th>Category</th>
<th>tts:ruby</th>
<th>Annotation <bibref ref="ruby"/></th>
<th>CSS display <bibref ref="cssruby"/></th>
</tr>
<tr>
<td><termdef id="defs-ruby-container" term=""><term>ruby container</term></termdef></td>
<td><code>container</code></td>
<td><code>ruby</code></td>
<td><code>ruby</code></td>
</tr>
<tr>
<td><termdef id="defs-ruby-base-content" term=""><term>ruby base content</term></termdef></td>
<td><code>base</code></td>
<td><code>rb</code></td>
<td><code>ruby-base</code></td>
</tr>
<tr>
<td><termdef id="defs-ruby-text-content" term=""><term>ruby text content</term></termdef></td>
<td><code>text</code></td>
<td><code>rt</code></td>
<td><code>ruby-text</code></td>
</tr>
<tr>
<td><termdef id="defs-ruby-base-container" term=""><term>ruby base container</term></termdef></td>
<td><code>baseContainer</code></td>
<td><code>rbc</code></td>
<td><code>ruby-base-container</code></td>
</tr>
<tr>
<td><termdef id="defs-ruby-text-container" term=""><term>ruby text container</term></termdef></td>
<td><code>textContainer</code></td>
<td><code>rtc</code></td>
<td><code>ruby-text-container</code></td>
</tr>
<tr>
<td><termdef id="defs-ruby-fallback-delimiter" term=""><term>ruby fallback delimiter</term></termdef></td>
<td><code>delimiter</code></td>
<td><code>rp</code></td>
<td><code>none</code> | <code>inline</code></td>
</tr>
</tbody>
</table>
<p>For the purpose of presentation processing, the <loc href="#terms-document-processing-context">document processing context</loc> determines the 
mode of presentation: normal or fallback. 
When performing normal presentation processing of ruby text annotations, delimiter content must not generate any inline areas. 
When performing fallback presentation of ruby, both delimiter and non-delimiter ruby (base and text) content must generate normal inline areas.
If a presentation processor does not support ruby presentation, then it must perform fallback ruby presentation.</p>
<p>When using <att>tts:ruby</att>, the following nesting constraints apply to a <termref def="defs-ruby-container">ruby container</termref>, that is,
if the computed value of <att>tts:ruby</att> of a <loc href="#content-vocabulary-span"><el>span</el></loc> element is <code>container</code>, then:</p>
<ulist>
<item><p>the computed value of <att>tts:ruby</att> of all of its ancestor elements is <code>none</code>;</p></item>
<item><p>the computed value of <att>tts:ruby</att> of each of its child elements is not <code>none</code>;</p></item>
<item><p>the computed value of <att>tts:ruby</att> of its first child element is <code>baseContainer</code>
or <code>base</code>;</p></item>
<item><p>each of its <termref def="defs-text-node">text node</termref> children contain only <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>,
which must be ignored for the purpose of presentation processing regardless of whether the computed value of the
<loc href="#content-attribute-xml-space"><att>xml:space</att></loc> attribute is <code>preserve</code> or not;</p></item>
</ulist>
<p>When using <att>tts:ruby</att>, the following nesting constraints apply to a <termref def="defs-ruby-base-container">ruby base container</termref>, that is,
if the computed value of <att>tts:ruby</att> of a <loc href="#content-vocabulary-span"><el>span</el></loc> element is <code>baseContainer</code>, then:</p>
<ulist>
<item><p>the computed value of <att>tts:ruby</att> of its parent element is <code>container</code>;</p></item>
<item><p>the computed value of <att>tts:ruby</att> of each of its child elements is not <code>none</code>;</p></item>
<item><p>the computed value of <att>tts:ruby</att> of its first child element is <code>base</code>;</p></item>
<item><p>its preceding sibling is <code>null</code> (i.e., no preceding sibling);</p></item>
<item><p>each of its <termref def="defs-text-node">text node</termref> children contain only <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>,
which must be ignored for the purpose of presentation processing regardless of whether the computed value of the
<loc href="#content-attribute-xml-space"><att>xml:space</att></loc> attribute is <code>preserve</code> or not;</p></item>
</ulist>
<p>When using <att>tts:ruby</att>, the following nesting constraints apply to a <termref def="defs-ruby-text-container">ruby text container</termref>, that is,
if the computed value of <att>tts:ruby</att> of a <loc href="#content-vocabulary-span"><el>span</el></loc> element is <code>textContainer</code>, then:</p>
<ulist>
<item><p>the computed value of <att>tts:ruby</att> of its parent element is <code>container</code>;</p></item>
<item><p>the computed value of <att>tts:ruby</att> of each of its child elements is not <code>none</code>;</p></item>
<item><p>the computed value of <att>tts:ruby</att> of its first child element is either <code>text</code> or <code>delimiter</code>;</p></item>
<item><p>the computed value of <att>tts:ruby</att> of its preceding sibling is <code>baseContainer</code> or
<code>textContainer</code>;</p></item>
<item><p>the computed value of <att>tts:ruby</att> of no more than one of its siblings is <code>textContainer</code>;</p></item>
<item><p>each of its <termref def="defs-text-node">text node</termref> children contain only <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>,
which must be ignored for the purpose of presentation processing regardless of whether the computed value of the
<loc href="#content-attribute-xml-space"><att>xml:space</att></loc> attribute is <code>preserve</code> or not;</p></item>
</ulist>
<p>When using <att>tts:ruby</att>, the following nesting constraints apply to <termref def="defs-ruby-base-content">ruby base content</termref>, that is,
if the computed value of <att>tts:ruby</att> of a <loc href="#content-vocabulary-span"><el>span</el></loc> element is <code>base</code>, then:</p>
<ulist>
<item><p>the computed value of <att>tts:ruby</att> of its parent element is either <code>container</code> or
<code>baseContainer</code>;</p></item>
<item><p>its preceding sibling is either <code>null</code> (i.e., no preceding sibling) or the
computed value of <att>tts:ruby</att> of its preceding sibling is <code>base</code>;</p></item>
<item><p>if the computed value of <att>tts:ruby</att> of its parent element is <code>container</code>,
then the computed value of <att>tts:ruby</att> of no sibling is <code>base</code>;</p></item>
<item><p>the computed value of <att>tts:ruby</att> of no descendant element is not <code>none</code>;</p></item>
<item><p>none of its descendant elements is a <loc href="#content-vocabulary-br"><el>br</el></loc> element;</p></item>
<item><p>each of its <termref def="defs-text-node">text node</termref> descendants does not contain U+2028 (LINE SEPARATOR) or U+2029 (PARAGRAPH SEPARATOR);</p></item>
</ulist>
<p>When using <att>tts:ruby</att>, the following nesting constraints apply to <termref def="defs-ruby-text-content">ruby text content</termref>, that is,
if the computed value of <att>tts:ruby</att> of a <loc href="#content-vocabulary-span"><el>span</el></loc> element is <code>text</code>, then:</p>
<ulist>
<item><p>the computed value of <att>tts:ruby</att> of its parent element is either <code>container</code> or
<code>textContainer</code>;</p></item>
<item><p>its preceding sibling is either <code>null</code> (i.e., no preceding sibling) or the
computed value of <att>tts:ruby</att> of its preceding sibling is <code>base</code>,
<code>text</code>, or <code>delimiter</code>;</p></item>
<item><p>if the computed value of <att>tts:ruby</att> of its parent element is <code>container</code>,
then the computed value of <att>tts:ruby</att> of no sibling is <code>text</code>;</p></item>
<item><p>the computed value of <att>tts:ruby</att> of no descendant element is not <code>none</code>;</p></item>
<item><p>none of its descendant elements is a <loc href="#content-vocabulary-br"><el>br</el></loc> element;</p></item>
<item><p>each of its <termref def="defs-text-node">text node</termref> descendants does not contain U+2028 (LINE SEPARATOR) or U+2029 (PARAGRAPH SEPARATOR);</p></item>
</ulist>
<p>When using <att>tts:ruby</att>, the following nesting constraints apply to a <termref def="defs-ruby-fallback-delimiter">ruby fallback delimiter</termref>, that is,
if the computed value of <att>tts:ruby</att> of a <loc href="#content-vocabulary-span"><el>span</el></loc> element is <code>delimiter</code>, then:</p>
<ulist>
<item><p>the computed value of <att>tts:ruby</att> of its parent element is either <code>container</code> or <code>textContainer</code>;</p></item>
<item><p>its preceding sibling is either <code>null</code> (i.e., no preceding sibling) or the
computed value of <att>tts:ruby</att> of its preceding sibling is <code>base</code> or
<code>text</code>;</p></item>
<item><p>the computed value of <att>tts:ruby</att> of exactly one sibling is <code>delimiter</code>;</p></item>
<item><p>if the computed value of <att>tts:ruby</att> is <code>delimiter</code>, then the
computed value of <att>tts:ruby</att> of no descendant element is not <code>none</code>;</p></item>
<item><p>none of its descendant elements is a <loc href="#content-vocabulary-br"><el>br</el></loc> element;</p></item>
<item><p>each of its <termref def="defs-text-node">text node</termref> descendants does not contain U+2028 (LINE SEPARATOR) or U+2029 (PARAGRAPH SEPARATOR).</p></item>
</ulist>
<p>A <loc href="#terms-validating-content-processor">validating content processor</loc> must treat a violation of any of the above constraints as an error.
For the purpose of presentation processing, the violation of any of these constraints should result in fallback (inline)
presentation of ruby text annotations, and, for content that violates some constraint, if that content is
a <loc href="#content-vocabulary-br"><el>br</el></loc> element or a U+2028 (LINE SEPARATOR) or U+2029 (PARAGRAPH SEPARATOR) character,
then it should be mapped to a U+0020 (SPACE) character, or, if some other content, then ignored (not presented).</p>
<note role="elaboration">
<p>The above listed constraints are intended to be interpreted as specifying the following nesting model:</p>
<eg xml:space="preserve">
container
  : base text
  | base delimiter text delimiter
  | baseContainer textContainer textContainer?

baseContainer
  : base+

textContainer
  : text+
  | delimiter text+ delimiter

base | text | delimiter
  : (#PCDATA | { span - tts:ruby })*
</eg>
<p>This model corresponds to the maximal content model for the <code>ruby</code> element defined by <bibref ref="ruby"/>, &sect;2.1,
with the exception that <code>rtc</code> is effectively extended to permit the optional use of delimiters (<code>rp</code>):</p>
<eg xml:space="preserve">
ruby
  : rb rt
  | rb rp rt rp
  | rbc rtc rtc?

rbc
  : rb+

rtc
  : rt+
  | rp rt+ rp                            // extension to <bibref ref="ruby"/>
</eg>
<p>Furthermore, this model is consistent with <bibref ref="ruby"/>, &sect;2.6, regarding the constraint that
nesting of <termref def="defs-ruby-container">ruby containers</termref> is not supported (about which see the nesting constraint above).</p>
</note>
<note role="explanation">
<p>While not supporting as many opportunities for markup minimization as allowed by <bibref ref="html"/>,
the formulation of ruby annotation defined here does allow the following shorthands:</p>
<eg xml:space="preserve">
base text =
  baseContainer
    base
  textContainer
    text

base delimiter text delimiter =
  baseContainer
    base
  textContainer
    delimiter text delimiter
</eg>
<p>Given the content of <code>base</code> is <code>B</code> and the content of
<code>text</code> is <code>T</code>, then the expression <code>base text</code> could be represented variously in <bibref ref="html"/> as follows:</p>
<eg xml:space="preserve">
&lt;ruby&gt;B&lt;rt&gt;T&lt;/ruby&gt;
&lt;ruby&gt;B&lt;rt&gt;T&lt;/rt&gt;&lt;/ruby&gt;
&lt;ruby&gt;&lt;rb&gt;B&lt;rt&gt;T&lt;/ruby&gt;
&lt;ruby&gt;&lt;rb&gt;B&lt;/rb&gt;&lt;rt&gt;T&lt;/ruby&gt;
&lt;ruby&gt;&lt;rb&gt;B&lt;/rb&gt;&lt;rt&gt;T&lt;/rt&gt;&lt;/ruby&gt;
&lt;ruby&gt;B&lt;rtc&gt;&lt;rt&gt;T&lt;/ruby&gt;
&lt;ruby&gt;B&lt;rtc&gt;&lt;rt&gt;T&lt;/rtc&gt;&lt;/ruby&gt;
&lt;ruby&gt;B&lt;rtc&gt;&lt;rt&gt;T&lt;/rt&gt;&lt;/ruby&gt;
&lt;ruby&gt;B&lt;rtc&gt;&lt;rt&gt;T&lt;/rt&gt;&lt;/rtc&gt;&lt;/ruby&gt;
&lt;ruby&gt;&lt;rb&gt;B&lt;rtc&gt;&lt;rt&gt;T&lt;/ruby&gt;
&lt;ruby&gt;&lt;rb&gt;B&lt;rtc&gt;&lt;rt&gt;T&lt;/rtc&gt;&lt;/ruby&gt;
&lt;ruby&gt;&lt;rb&gt;B&lt;/rb&gt;&lt;rtc&gt;&lt;rt&gt;T&lt;/ruby&gt;
&lt;ruby&gt;&lt;rb&gt;B&lt;/rb&gt;&lt;rtc&gt;&lt;rt&gt;T&lt;/rtc&gt;&lt;/ruby&gt;
&lt;ruby&gt;&lt;rb&gt;B&lt;/rb&gt;&lt;rtc&gt;&lt;rt&gt;T&lt;/rt&gt;&lt;/ruby&gt;
&lt;ruby&gt;&lt;rb&gt;B&lt;/rb&gt;&lt;rtc&gt;&lt;rt&gt;T&lt;/rt&gt;&lt;/rtc&gt;&lt;/ruby&gt;
</eg>
<p>Whereas, in TTML2, the following alternative expressions are possible:</p>
<eg xml:space="preserve">
&lt;span tts:ruby="container"&gt;
  &lt;span tts:ruby="base"&gt;B&lt;/span&gt;
  &lt;span tts:ruby="text"&gt;T&lt;/span&gt;
&lt;/span&gt;
</eg>
<p>or its equivalent</p>
<eg xml:space="preserve">
&lt;span tts:ruby="container"&gt;
  &lt;span tts:ruby="baseContainer"&gt;
    &lt;span tts:ruby="base"&gt;B&lt;/span&gt;
  &lt;/span&gt;
  &lt;span tts:ruby="textContainer"&gt;
    &lt;span tts:ruby="text"&gt;T&lt;/span&gt;
  &lt;/span&gt;
&lt;/span&gt;
</eg>
</note>
<note role="clarification">
<p>The syntax of TTML allows using multiple <termref def="defs-ruby-base-content">ruby base content</termref> within a <termref def="defs-ruby-base-container">ruby base container</termref> and multiple <termref def="defs-ruby-text-content">ruby text content</termref> within 
a <termref def="defs-ruby-text-container">ruby text container</termref> all within the same <termref def="defs-ruby-container">ruby container</termref>. This version of TTML leaves the mapping between <termref def="defs-ruby-base-content">ruby base content</termref> and 
<termref def="defs-ruby-text-content">ruby text content</termref> undefined when the number of <termref def="defs-ruby-text-content">ruby text content</termref> does not equal the number of <termref def="defs-ruby-base-content">ruby base content</termref> in 
the same <termref def="defs-ruby-container">ruby container</termref>.</p> 
</note>
<note role="clarification">
<p>When an <loc href="#terms-inline-area">inline area</loc> is generated by performing presentation processing on a
<termref def="defs-ruby-text-container">ruby text container</termref> or <termref def="defs-ruby-text-content">ruby text content</termref>, then that <loc href="#terms-inline-area">inline area</loc> is parented to (becomes a descendant of)
the <loc href="#terms-line-area">line area</loc> that contains the <termref def="defs-ruby-base-content">ruby base content</termref> with which the <termref def="defs-ruby-text-content">ruby text content</termref> is associated.</p>
</note>
<p>Use of <att>tts:ruby</att> to specify simple ruby annotation is illustrated by the following example.</p>
<table id="style-attribute-ruby-example-1" role="example">
<caption>Example Fragment &ndash; Simple Ruby</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;span <phrase role="strong">tts:ruby="container"</phrase> tts:rubyAlign="spaceAround"&gt;
  &lt;span <phrase role="strong">tts:ruby="base"</phrase>&gt;&#x5229;&#x7528;&#x8A31;&#x8AFE;&lt;/span&gt;
  &lt;span <phrase role="strong">tts:ruby="text"</phrase>&gt;&#x30E9;&#x30A4;&#x30BB;&#x30F3;&#x30B9;&lt;/span&gt;
&lt;/span&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="style-attribute-ruby-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Simple Ruby</caption>
<tbody>
<tr>
<td><graphic source="images/ruby_1.png" alt="TTML ruby style property"/></td>
</tr>
</tbody>
</table>
<p>Use of <att>tts:ruby</att> to specify double-sided ruby annotation is illustrated by the following example.</p>
<table id="style-attribute-ruby-example-2" role="example">
<caption>Example Fragment &ndash; Double-sided Ruby</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;span&gt;
  &lt;span <phrase role="strong">tts:ruby="container"</phrase> tts:rubyAlign="spaceAround"&gt;
    &lt;span <phrase role="strong">tts:ruby="baseContainer"</phrase>&gt;
      &lt;span <phrase role="strong">tts:ruby="base"</phrase>&gt;&#x6771;&#x5357;&lt;/span&gt;
    &lt;/span&gt;
    &lt;span <phrase role="strong">tts:ruby="textContainer"</phrase> tts:rubyPosition="before"&gt;
      &lt;span <phrase role="strong">tts:ruby="text"</phrase>&gt;&#x3068;&#x3046;&#x306A;&#x3093;&lt;/span&gt;
    &lt;/span&gt;
    &lt;span <phrase role="strong">tts:ruby="textContainer"</phrase> tts:rubyPosition="after"&gt;
      &lt;span <phrase role="strong">tts:ruby="text"</phrase>&gt;&#x305F;&#x3064;&#x307F;&lt;/span&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  &lt;span&gt;&#x306E;&#x65B9;&#x89D2;&lt;/span&gt;
&lt;/span&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="style-attribute-ruby-example-2-images" role="example-images">
<caption>Example Rendition &ndash; Double-sided Ruby</caption>
<tbody>
<tr>
<td><graphic source="images/ruby_2.png" alt="TTML ruby style property"/></td>
</tr>
</tbody>
</table>
<note role="clarification">
<p>The inter-character positioning mode for ruby annotations, such as used with <emph>bopomofo</emph> characters,
is not supported by this version of TTML due to lack of market requirements.</p>
</note>

<p>The <att>tts:ruby</att> attribute can also be used when the annotation uses Latin characters, e.g. for pinyin as described by <bibref ref="clreq"/> and
 illustrated by the following example.</p>
<table id="style-attribute-ruby-example-3" role="example">
<caption>Example Fragment &ndash; Ruby with Pinyin Annotation</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;p&gt;
&lt;span tts:ruby="container" tts:rubyAlign="center"&gt;
  &lt;span tts:ruby="base"&gt;&lt;/span&gt;&lt;span tts:ruby="text"&gt;Jay Chou&lt;/span&gt;
&lt;/span&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="style-attribute-ruby-example-3-images" role="example-images">
<caption>Example Rendition &ndash; Ruby using Pinyin Annotation</caption>
<tbody>
<tr>
<td><graphic source="images/ruby-pinyin.png" alt="TTML ruby style property with pinyin"/></td>
</tr>
</tbody>
</table>
<div4 id="style-attribute-ruby-special-semantics">
<head>Special Semantics of Ruby Annotations</head>
<p>In the absence of implementation specific requirements, constraints on alignment between <termref def="defs-ruby-text-content">ruby text content</termref> and <termref def="defs-ruby-base-content">ruby base content</termref> that would potentially
give rise to overflowing a line area should be resolved by shifting <termref def="defs-ruby-text-content">ruby text content</termref> away from the start or end edge of the line area.</p>
<note role="seealso">
<p>See <bibref ref="jlreq"/>, &sect;3.3.8, <emph>Adjustments of Ruby with Length Longer than that of the Base Characters</emph>,
and <bibref ref="cssruby"/>, &sect;5, <emph>Edge Effects</emph>, for further information.</p>
</note>
<p>In the absence of implementation specific requirements, <termref def="defs-ruby-text-content">ruby text content</termref> should be allowed to overhang <termref def="defs-ruby-base-content">ruby base content</termref> only when the
base text is in any of the following character classes as defined by <bibref ref="jlreq"/>, Appendix A, <emph>Character Classes</emph>:</p>
<ulist>
  <item><p><code>hiragana</code></p></item>
  <item><p><code>ideographic</code></p></item>
  <item><p><code>punctuationMarks</code></p></item>
</ulist>
<note role="seealso">
<p>See <bibref ref="jlreq"/>, &sect;3.3.8, <emph>Adjustments of Ruby with Length Longer than that of the Base Characters</emph> for
further information.</p>
</note>
<p>When performing presentation processing,
<termdef id="defs-isolated-ruby-content" term="isolated ruby content"><term>isolated ruby content</term></termdef>,
namely, <termref def="defs-ruby-base-content">ruby base content</termref> or <termref def="defs-ruby-text-content">ruby text content</termref> that is specified without a <termref def="defs-ruby-base-container">ruby base container</termref> or <termref def="defs-ruby-text-container">ruby text container</termref>, respectively,
is processed in such a manner as to imply the presence of an anonymous <termref def="defs-ruby-base-container">ruby base container</termref> and (or) anonymous <termref def="defs-ruby-text-container">ruby text container</termref> as required.
An <termdef id="defs-implied-ruby-base-container" term=""><term>implied ruby base container</term></termdef> and (or)
<termdef id="defs-implied-ruby-text-container" term=""><term>implied ruby text container</term></termdef> is required in order to generate and apply
implied or collective styling semantics to an inline block area which contains the inline areas generated by the
<termref def="defs-isolated-ruby-content">isolated ruby content</termref>.</p>
<p>An explicitly specified <loc href="#content-vocabulary-span"><el>span</el></loc> element for which the computed value of
<loc href="#style-attribute-ruby"><att>tts:ruby</att></loc> is <code>baseContainer</code> is referred to as
an <termdef id="defs-explicit-ruby-base-container" term=""><term>explicit ruby base container</term></termdef>;
likewise, an explicitly specified <loc href="#content-vocabulary-span"><el>span</el></loc> element for which the computed value of
<loc href="#style-attribute-ruby"><att>tts:ruby</att></loc> is <code>textContainer</code> is referred to as
an <termdef id="defs-explicit-ruby-text-container" term=""><term>explicit ruby text container</term></termdef>.</p>
<note id="note-ruby-container-span-styles" role="clarification">
<p>Style properties that apply to <loc href="#terms-glyph-area">glyph areas</loc>
have no semantic affect during presentation processing of a <loc href="#terms-ruby-container-span">ruby container span</loc>
since no <loc href="#terms-significant-text-node">significant text node</loc> appears as a child of an
<loc href="#terms-anonymous-span">anonymous span</loc> child of such a <el>span</el> element. For example, if a
<loc href="#style-attribute-fontStyle"><att>tts:fontStyle</att></loc> attribute is specified on a
<loc href="#terms-ruby-container-span">ruby container span</loc>, then it has no
<loc href="#terms-significant-text-node">significant text node</loc> in scope to which it may be applied; however, a value specified for
<loc href="#style-attribute-fontStyle"><att>tts:fontStyle</att></loc> on a <loc href="#terms-ruby-container-span">ruby container span</loc>
still applies for the purpose of <loc href="#semantics-style-inheritance">style inheritance</loc> by other (non-anonymous) <el>span</el> element
children of the <loc href="#terms-ruby-container-span">ruby container span</loc>.</p>
</note>
</div4>
</div3>
<div3 id="style-attribute-rubyAlign">
<head>tts:rubyAlign</head>
<p>The <att>tts:rubyAlign</att> attribute is used to specify the position of ruby text within the inline area generated by the <termref def="defs-ruby-text-container">ruby text container</termref> annotation.</p>
<table id="style-property-details-rubyAlign" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>"start"</code> |
<code>"center"</code> |
<code>"end"</code> |
<code>"spaceAround"</code> |
<code>"spaceBetween"</code> |
<code>"withBase"</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>center</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#content-vocabulary-span"><el>span</el></loc> only if the computed value of <loc href="#style-attribute-ruby">tts:ruby</loc> is <code>container</code>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>yes</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-rubyAlign">rubyAlign derivation</loc></td>
</tr>
</tbody>
</table>
<p></p>
<p>When this attribute is specified on a
<loc href="#content-vocabulary-span"><el>span</el></loc> element for which the computed value of <loc href="#style-attribute-ruby">tts:ruby</loc> is
<code>container</code>, then the ruby alignment semantics of the associated style property apply collectively to the inline areas generated by
the container&apos;s constituent <termref def="defs-ruby-container">ruby containers</termref> and ruby content.</p>
<note role="elaboration"><p>A consequence of applying ruby alignment to a <termref def="defs-ruby-container">ruby container</termref> as a whole is that the ruby alignment that applies to
the container and its constituents is uniform (unvarying).</p></note>
<p>Let <emph>I<sub>R</sub></emph> and <emph>I<sub>B</sub></emph> be, respectively, the inline areas generated by (1) a <termref def="defs-ruby-text-container">ruby text container</termref> or
ruby text annotation and (2) an associated <termref def="defs-ruby-base-container">ruby base container</termref> or ruby base. Further, let <emph>N<sub>R</sub></emph>
and <emph>N<sub>B</sub></emph>&thinsp;, be, respectively, the number of <loc href="#terms-glyph-area-descendant">glyph area descendants</loc> of these
inline areas.</p>
<p>If the value of this attribute is <code>start</code>, then the start edge of the first <loc href="#terms-glyph-area-descendant">glyph area descendant</loc>
of <emph>I<sub>R</sub></emph>
is aligned to the start edge of that inline area.
If the value is <code>center</code>, then excess whitespace
is equally distributed before and after the first and last ruby annotation <loc href="#terms-glyph-area">glyph areas</loc>, respectively.
If the value of this attribute is <code>end</code>, then the end edge of the first <loc href="#terms-glyph-area-descendant">glyph area descendant</loc>
of <emph>I<sub>R</sub></emph>
is aligned to the end edge of that inline area.
If the value is <code>spaceBetween</code>, then excess whitespace
is equally distributed between each ruby annotation <loc href="#terms-glyph-area">glyph area</loc>.
If the value is <code>spaceAround</code>, then excess whitespace
is equally distributed before and after each ruby annotation <loc href="#terms-glyph-area-descendant">glyph area descendant</loc>.</p>
<p>If the value of this attribute is <code>withBase</code>, then, if <emph>N<sub>R</sub></emph> and <emph>N<sub>B</sub></emph> are equal,
the <emph>i<sub>th</sub></emph> <loc href="#terms-glyph-area-descendant">glyph area descendant</loc> of
<emph>I<sub>R</sub></emph> is center aligned (horizontally or vertically) with the <emph>i<sub>th</sub></emph>
<loc href="#terms-glyph-area-descendant">glyph area descendant</loc> of <emph>I<sub>B</sub></emph>;
otherwise (the number of ruby and base <loc href="#terms-glyph-area">glyph areas</loc> are not equal), the semantics of <code>center</code> apply.</p>
<note role="elaboration">
<p>For the purpose of interpreting <loc href="#terms-glyph-area-descendant">glyph area descendant</loc> in the context of the above semantics, only spacing
<loc href="#terms-glyph-area-descendant">glyph area descendants</loc>
are considered; i.e., non-spacing <loc href="#terms-glyph-area-descendant">glyph area descendants</loc>, such as combining marks,
have no impact on ruby alignment.</p>
</note>
<p>If a computed value of the property associated with this attribute is not supported,
then a <loc href="#terms-presentation-processor">presentation processor</loc> must use the value <code>center</code>.</p>
<note role="elaboration">
<p>In this specification, ruby annotations in timed text applications are assumed to be narrow, since presentation space and available time are 
often constrained. As a consequence, this version of TTML does not enable authors to control how spacing is distributed when the 
ruby annotation is wider than its base text. This might be problematic for wide ruby annotations at the start or end edge of the line. In order 
to avoid issues, authors are encouraged to use an appropriate value of <att>tts:rubyAlign</att> and (or) to split events containing wide 
ruby annotations into multiple lines or even multiple events.</p>
</note>
<p>The <att>tts:rubyAlign</att> style is illustrated by the following example.</p>
<table id="ruby-align-example-1" role="example">
<caption>Example Fragment &ndash; Ruby Align</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;p&gt;
&lt;span tts:ruby="container" <phrase role="strong">tts:rubyAlign="start"</phrase>&gt;
  &lt;span tts:ruby="base"&gt;&lt;/span&gt;&lt;span tts:ruby="text"&gt;&lt;/span&gt;
&lt;/span&gt;
&lt;span tts:ruby="container" <phrase role="strong">tts:rubyAlign="spaceAround"</phrase>&gt;
  &lt;span tts:ruby="base"&gt;&lt;/span&gt;&lt;span tts:ruby="text"&gt;&lt;/span&gt;
&lt;/span&gt;
&lt;br/&gt;
&lt;span tts:ruby="container" <phrase role="strong">tts:rubyAlign="end"</phrase>&gt;
  &lt;span tts:ruby="base"&gt;&lt;/span&gt;&lt;span tts:ruby="text"&gt;&lt;/span&gt;
&lt;/span&gt;
&lt;span tts:ruby="container" <phrase role="strong">tts:rubyAlign="spaceBetween"</phrase>&gt;
  &lt;span tts:ruby="base"&gt;&lt;/span&gt;&lt;span tts:ruby="text"&gt;&lt;/span&gt;
&lt;/span&gt;
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="ruby-align-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Ruby Align</caption>
<tbody>
<tr>
<td><graphic source="images/rubyAlign_1.png" alt="TTML rubyAlign style property"/></td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-attribute-rubyPosition">
<head>tts:rubyPosition</head>
<p>The <att>tts:rubyPosition</att> attribute is used to specify the position of ruby text in the block progression dimension
with respect to its associated ruby base.</p>
<table id="style-property-details-rubyPosition" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code><loc href="#style-value-annotation-position">&lt;annotation-position&gt;</loc></code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>outside</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#content-vocabulary-span"><el>span</el></loc> only if the computed value of <loc href="#style-attribute-ruby">tts:ruby</loc> is
<code>textContainer</code> or <code>text</code>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>yes</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-rubyPosition">rubyPosition derivation</loc></td>
</tr>
</tbody>
</table>
<p></p>
<p>The style property associated with this attribute determines the relative positioning
of inline areas generated from <termref def="defs-ruby-text-container">ruby text containers</termref> and ruby text annotations with respect to their
associated base text containers and base text, where the directional semantics of
<loc href="#style-value-annotation-position">&lt;annotation-position&gt;</loc> apply.</p>
<p>When this attribute is specified on a
<loc href="#content-vocabulary-span"><el>span</el></loc> element for which the computed value of <loc href="#style-attribute-ruby">tts:ruby</loc> is
<code>textContainer</code>, then the ruby position semantics of the associated style property apply collectively to the inline areas generated by
the <termref def="defs-explicit-ruby-text-container">explicit ruby text container</termref> and its constituent <termref def="defs-ruby-text-content">ruby text content</termref>.</p>
<p>When this attribute is specified on a
<loc href="#content-vocabulary-span"><el>span</el></loc> element for which the computed value of <loc href="#style-attribute-ruby">tts:ruby</loc> is
<code>text</code>, then the ruby position semantics of the associated style property apply collectively to the inline areas generated by its
<termref def="defs-implied-ruby-text-container">implied ruby text container</termref> and its own <termref def="defs-ruby-text-content">ruby text content</termref>.</p>
<p>This attribute must not be specified on a
<loc href="#content-vocabulary-span"><el>span</el></loc> element for which the computed value of <loc href="#style-attribute-ruby">tts:ruby</loc> is
<code>text</code> when the parent of that <loc href="#content-vocabulary-span"><el>span</el></loc> element is a
<loc href="#content-vocabulary-span"><el>span</el></loc> element for which the computed value of
<loc href="#style-attribute-ruby">tts:ruby</loc> is <code>textContainer</code>.
If specified (on the former <termref def="defs-ruby-text-content">ruby text content</termref>), then it is <termref def="defs-considered-an-error">considered an error</termref>
and must be ignored for the purpose of presentation processing.</p>
<p>The absolute position of the <termref def="defs-ruby-text-container">ruby text container</termref> or ruby text annotation is determined
in accordance to the computed value of the <code>tts:writingMode</code> style property of the region into which the affected content is placed;
in particular, the mappings defined enumerated by <specref ref="rubyPosition-semantics-mapping-table"/> apply as further defined
by <bibref ref="cssruby"/>, &sect;4.1.</p>
<p>If two <termref def="defs-ruby-text-container">ruby text containers</termref> apply to the same <termref def="defs-ruby-base-container">ruby base container</termref>, then it is <termref def="defs-considered-an-error">considered an error</termref> if
the <termref def="defs-used-value">used value</termref> of the property associated with this attribute would result in
both <termref def="defs-ruby-text-container">ruby text containers</termref> being placed on the same relative side of the <termref def="defs-ruby-base-container">ruby base container</termref>, in which case, the presentation semantics of
this property are not defined by this specification.</p>
<p>If a computed value of the property associated with this attribute is not supported,
then a <loc href="#terms-presentation-processor">presentation processor</loc> must use the value <code>before</code>.</p>
<table id="rubyPosition-semantics-mapping-table" role="common">
<caption>Table 10-2 &ndash; Absolute Ruby Position Semantics Mapping by Writing Mode</caption>
<col css="width: 20%;"/>
<col css="width: 20%;"/>
<col css="width: 20%;"/>
<col css="width: 20%;"/>
<col css="width: 20%;"/>
<tbody>
<tr>
<th>tts:rubyPosition</th>
<th><code>lrtb</code></th>
<th><code>rltb</code></th>
<th><code>tbrl</code></th>
<th><code>tblr</code></th>
</tr>
<tr>
<td><code>before</code></td>
<td><code>over</code></td>
<td><code>over</code></td>
<td><code>right</code></td>
<td><code>left</code></td>
</tr>
<tr>
<td><code>after</code></td>
<td><code>under</code></td>
<td><code>under</code></td>
<td><code>left</code></td>
<td><code>right</code></td>
</tr>
</tbody>
</table>
<note role="clarification">
<p>When employing the Mongolian script set in vertical left-to-right lines, it may be desirable that the initial value assigned
to ruby position be <code>after</code> instead of <code>outside</code>, which is resolved to <code>before</code> for all non-final lines. In
this case, an author may redefine the default initial value for this attribute by including an element
<code>&lt;initial tts:rubyPosition="after"/&gt;</code> in a document&apos;s <code>styling</code> element.</p>
</note>
<p>The <att>tts:rubyPosition</att> style is illustrated by the following example, which illustrates
how the resolution of ruby position depends upon writing mode. Note that the example uses <emph>mono ruby</emph> as defined in <bibref ref="jlreq"/>.</p>
<table id="ruby-position-example-1" role="example">
<caption>Example Fragment &ndash; Ruby Position</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="left" <phrase role="strong">tts:writingMode="tblr"</phrase>/&gt;
&lt;region xml:id="middle" <phrase role="strong">tts:writingMode="lrtb"</phrase>/&gt;
&lt;region xml:id="right" <phrase role="strong">tts:writingMode="tbrl"</phrase>/&gt;
...
&lt;p region="left"&gt;
  &lt;span tts:ruby="container" <phrase role="strong">tts:rubyPosition="before"</phrase>&gt;
    &lt;span tts:ruby="base">&lt;/span&gt;
    &lt;span tts:ruby="text">&lt;/span&gt;
  &lt;/span&gt;
  &lt;span tts:ruby="container" <phrase role="strong">tts:rubyPosition="before"</phrase>&gt;
    &lt;span tts:ruby="base">&lt;/span&gt;
    &lt;span tts:ruby="text">&lt;/span&gt;
  &lt;/span&gt;&lt;br/&gt;
  &lt;span tts:ruby="container" <phrase role="strong">tts:rubyPosition="after"</phrase>&gt;
    &lt;span tts:ruby="base"&gt;&lt;/span&gt;
    &lt;span tts:ruby="text"&gt;&lt;/span&gt;
  &lt;/span&gt;
  &lt;span tts:ruby="container" <phrase role="strong">tts:rubyPosition="after"</phrase>&gt;
    &lt;span tts:ruby="base"&gt;&lt;/span&gt;
    &lt;span tts:ruby="text"&gt;&lt;/span&gt;
  &lt;/span&gt;
&lt;/p&gt;
&lt;p region="middle"&gt;
  &lt;span tts:ruby="container" <phrase role="strong">tts:rubyPosition="before"</phrase>&gt;
    &lt;span tts:ruby="base">&lt;/span&gt;
    &lt;span tts:ruby="text">&lt;/span&gt;
  &lt;/span&gt;
  &lt;span tts:ruby="container" <phrase role="strong">tts:rubyPosition="before"</phrase>&gt;
    &lt;span tts:ruby="base">&lt;/span&gt;
    &lt;span tts:ruby="text">&lt;/span&gt;
  &lt;/span&gt;&lt;br/&gt;
  &lt;span tts:ruby="container" <phrase role="strong">tts:rubyPosition="after"</phrase>&gt;
    &lt;span tts:ruby="base"&gt;&lt;/span&gt;
    &lt;span tts:ruby="text"&gt;&lt;/span&gt;
  &lt;/span&gt;
  &lt;span tts:ruby="container" <phrase role="strong">tts:rubyPosition="after"</phrase>&gt;
    &lt;span tts:ruby="base"&gt;&lt;/span&gt;
    &lt;span tts:ruby="text"&gt;&lt;/span&gt;
  &lt;/span&gt;
&lt;/p&gt;
&lt;p region="right"&gt;
  &lt;span tts:ruby="container" <phrase role="strong">tts:rubyPosition="before"</phrase>&gt;
    &lt;span tts:ruby="base">&lt;/span&gt;
    &lt;span tts:ruby="text">&lt;/span&gt;
  &lt;/span&gt;
  &lt;span tts:ruby="container" <phrase role="strong">tts:rubyPosition="before"</phrase>&gt;
    &lt;span tts:ruby="base">&lt;/span&gt;
    &lt;span tts:ruby="text">&lt;/span&gt;
  &lt;/span&gt;&lt;br/&gt;
  &lt;span tts:ruby="container" <phrase role="strong">tts:rubyPosition="after"</phrase>&gt;
    &lt;span tts:ruby="base"&gt;&lt;/span&gt;
    &lt;span tts:ruby="text"&gt;&lt;/span&gt;
  &lt;/span&gt;
  &lt;span tts:ruby="container" <phrase role="strong">tts:rubyPosition="after"</phrase>&gt;
    &lt;span tts:ruby="base"&gt;&lt;/span&gt;
    &lt;span tts:ruby="text"&gt;&lt;/span&gt;
  &lt;/span&gt;
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="ruby-position-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Ruby Position</caption>
<tbody>
<tr>
<td><graphic source="images/rubyPosition_1.png" alt="TTML rubyPosition style property"/></td>
</tr>
</tbody>
</table>
<note role="elaboration">
  <p>In the above example, whitespace has been introduced into and around <code>span</code> elements as an aid to formatting;
  in order to produce the example rendition as shown, it is necessary to remove that extra whitespace lest
  it appear in the rendered output.</p>
</note>
</div3>
<div3 id="style-attribute-rubyReserve">
<head>tts:rubyReserve</head>
<p>The <att>tts:rubyReserve</att> attribute is used to specify additional space to apply to affected line
areas in order to reserve sufficient room in the block progression dimension to contain inline areas generated by <termref def="defs-ruby-text-container">ruby text containers</termref> placed within
the bounds of the line areas.</p>
<note role="example">
<p>An author may use the <att>tts:rubyReserve</att> attribute in order to ensure that consecutive baselines of line areas in a block area retain a fixed
placement regardless of the presence or absence of ruby text annotations.</p>
</note>
<table id="style-property-details-rubyReserve" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td><loc href="#style-value-ruby-reserve">&lt;ruby-reserve&gt;</loc></td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>none</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#content-vocabulary-p"><el>p</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>yes</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>relative to this element&apos;s font size</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-rubyReserve">rubyReserve derivation</loc></td>
</tr>
</tbody>
</table>
<p></p>
<p>If the value of this attribute is <code>none</code>, then no ruby space reservation applies; otherwise, the value of this attribute specifies a
position <loc href="#terms-component">component</loc> followed by an optional length <loc href="#terms-component">component</loc>.</p>
<p>If the position <loc href="#terms-component">component</loc> is <code>before</code>, then the before leading of affected line areas is increased by the amount determined by the
<termref def="defs-used-value">used value</termref> of the length <loc href="#terms-component">component</loc>.</p>
<p>If the position <loc href="#terms-component">component</loc> is <code>after</code>, then the after leading of affected line areas is increased by the amount determined by the
<termref def="defs-used-value">used value</termref> of the length <loc href="#terms-component">component</loc>.</p>
<p>If the position <loc href="#terms-component">component</loc> is <code>both</code>, then the semantics of both the <code>before</code> and <code>after</code> positions apply
to each affected line area.</p>
<p>If the position <loc href="#terms-component">component</loc> is <code>outside</code>, then, if the current block area contains exactly one line area, the <code>both</code> position
applies, otherwise the semantics of the <code>before</code> position applies to the first line area of the current block area
and the semantics of the <code>after</code> position apply to all other line areas of the current block area.</p>  
<p>The length <loc href="#terms-component">component</loc> is used to indirectly determine an amount by which the before and after leading of
affected line areas are increased. The computed value of the length <loc href="#terms-component">component</loc> is considered to express the computed value of the style property associated
with the <loc href="#style-attribute-fontSize"><att>tts:fontSize</att></loc> attribute of hypothetical <termref def="defs-ruby-text-content">ruby text content</termref> were such content
actually present in a <loc href="#content-vocabulary-p"><el>p</el></loc> element.</p>
<p>If no length <loc href="#terms-component">component</loc> is specified, then it must be considered to be equal to the value of the style property associated with the
<loc href="#style-attribute-fontSize"><att>tts:fontSize</att></loc> attribute that would be inherited by
a hypothetical <termref def="defs-ruby-text-container">ruby text container</termref> or <termref def="defs-ruby-text-content">ruby text content</termref>, were such content actually present
in a <loc href="#content-vocabulary-p"><el>p</el></loc> element, where the semantics of
<specref ref="style-attribute-fontSize-special-semantics"/> apply for the purpose of computing this inherited value.</p>
<p>If the <loc href="#style-value-length">&lt;length&gt;</loc> <loc href="#terms-component">component</loc> is specified, it must be non-negative.</p>
<p>If the <att>tts:rubyReserve</att> is specified on a <loc href="#content-vocabulary-p"><el>p</el></loc> element which contains
<termref def="defs-ruby-text-content">ruby text content</termref>, then the reserved leadings are applied to line areas as indicated above and then additional adjustments are
made to these leadings as needed to accommodate the presence of actual <termref def="defs-ruby-text-content">ruby text content</termref>.</p>
<p></p>
<table id="style-attribute-rubyReserve-images" role="example-images-bordered" css="width: 630px">
<caption>Example Renditions &ndash; Ruby Reserve</caption>
<colgroup>
  <col css="text-align: left"/>
  <col css="text-align: center; width: 234px"/>
  <col css="text-align: center; width: 234px"/>
</colgroup>
<thead>
<tr>
  <th css="border: 2px black solid"><code>tts:rubyReserve</code></th>
  <th css="border: 2px black solid">No Ruby Present</th>
  <th css="border: 2px black solid">Ruby Present</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>none</code></td>
<td><graphic source="images/rubyReserve_1A_none.png" alt="TTML rubyReserve style property: &apos;auto&apos;" css="width: 230px; height: 240px"/></td>
<td><graphic source="images/rubyReserve_1B_none.png" alt="TTML rubyReserve style property: &apos;auto&apos;" css="width: 230px; height: 240px"/></td>
</tr>
<tr>
<td><code>before</code></td>
<td><graphic source="images/rubyReserve_3A_before.png" alt="TTML rubyReserve style property: &apos;after&apos;" css="width: 230px; height: 213px"/></td>
<td><graphic source="images/rubyReserve_3B_before.png" alt="TTML rubyReserve style property: &apos;after&apos;" css="width: 230px; height: 213px"/></td>
</tr>
<tr>
<td><code>after</code></td>
<td><graphic source="images/rubyReserve_4A_after.png" alt="TTML rubyReserve style property: &apos;after&apos;" css="width: 230px; height: 213px"/></td>
<td><graphic source="images/rubyReserve_4B_after.png" alt="TTML rubyReserve style property: &apos;after&apos;" css="width: 230px; height: 213px"/></td>
</tr>
<tr>
<td><code>both</code></td>
<td><graphic source="images/rubyReserve_5A_both.png" alt="TTML rubyReserve style property: &apos;after&apos;" css="width: 230px; height: 267px"/></td>
<td><graphic source="images/rubyReserve_5B_both.png" alt="TTML rubyReserve style property: &apos;after&apos;" css="width: 230px; height: 267px"/></td>
</tr>
<tr>
<td><code>outside</code></td>
<td><graphic source="images/rubyReserve_6A_outside.png" alt="TTML rubyReserve style property: &apos;after&apos;" css="width: 230px; height: 213px"/></td>
<td><graphic source="images/rubyReserve_6B_outside.png" alt="TTML rubyReserve style property: &apos;after&apos;" css="width: 230px; height: 213px"/></td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-attribute-shear">
<head>tts:shear</head>
<p>The <att>tts:shear</att> attribute is used to specify a style property that
determines whether and how a shear transformation is applied to the outermost <loc href="#terms-block-area">block area</loc>
generated by the affected element.</p>
<table id="style-property-details-shear" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<loc href="#style-value-percentage">&lt;percentage&gt;</loc>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>0%</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#content-vocabulary-p"><el>p</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>yes</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>see prose</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-shear">shear derivation</loc></td>
</tr>
</tbody>
</table>
<p>For each <loc href="#terms-block-area">block area</loc> to which this attribute applies, apply a 2D shear transformation
to the <loc href="#terms-block-area">block area</loc> as specified by <specref ref="semantics-style-procedures-shear"/>.</p>
<p>The <att>tts:shear</att> style is illustrated by the following example.</p>
<table id="shear-example-1" role="example">
<caption>Example Fragment &ndash; Shear</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="right" tts:writingMode="tbrl" tts:displayAlign="center" .../&gt;
&lt;region xml:id="left" tts:writingMode="tbrl" tts:displayAlign="center" .../&gt;
...
&lt;div&gt;
  &lt;p region="right" <phrase role="strong">tts:shear="0%"</phrase>&gt;
  &lt;br/&gt;
  &lt;span tts:textCombine="all"&gt;1998&lt;/span&gt;
  &lt;/p&gt;
  &lt;p region="left" <phrase role="strong">tts:shear="16.67%"</phrase>&gt;
  &lt;br/&gt;
  &lt;span tts:textCombine="all"&gt;1998&lt;/span&gt;
  &lt;/p&gt;
&lt;/div&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="shear-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Shear - Vertical Lines with Tate-Chu-Yoko</caption>
<tbody>
<tr>
<td><graphic source="images/shear_1.png" alt="TTML shear style property"/></td>
</tr>
</tbody>
</table>
<note role="explanation">
<p>In the above example, the yellow lines are decorations created by a particular presentation processor
to aid in debugging layout issues. Such lines are not part of a normative TTML presentation as defined by this specification.
Here, the decorations depict (1) boundaries of outer <loc href="#terms-block-area">block areas</loc>
generated by <loc href="#layout-vocabulary-region"><el>region</el></loc> elements and
(2) boundaries of <loc href="#terms-line-area">line area</loc> children of the outer <loc href="#terms-block-area">block areas</loc>
generated by <loc href="#content-vocabulary-p"><el>p</el></loc> elements.</p>
<p>This example depicts how a shear (skew) transform is applied to the affected outer <loc href="#terms-block-area">block areas</loc>
generated by <loc href="#content-vocabulary-p"><el>p</el></loc> elements; however,
when shear is to be applied to an outer <loc href="#terms-block-area">block area</loc>, then the available distance that can be allocated to the block area,
i.e., its maximum inline progression dimension length prior to shear transformation, is reduced by <code>B*sin(&theta;)</code>,
where <code>B</code> is the block progression dimension of the outer <loc href="#terms-block-area">block area</loc> and <code>&theta;</code> is the
shear angle, in order to fit the block area into the content rectangle of the immediate ancestor block area of the paragraph.</p>
</note>
</div3>
<div3 id="style-attribute-showBackground">
<head>tts:showBackground</head>
<p>The <att>tts:showBackground</att> attribute is used to specify
constraints on when the background of a region is intended to be
presented.</p>
<note role="elaboration"><p>The background of a region includes marks produced by (1) a background color and (or) (2) a background image,
if either apply to the region.</p></note>
<table id="style-property-details-showBackground" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>"always"</code> |
<code>"whenActive"</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>always</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#layout-vocabulary-region"><el>region</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-showBackground">showBackground derivation</loc></td>
</tr>
</tbody>
</table>
<p>If a region is not <loc href="#terms-temporally-active">temporally active</loc>, then its background is not rendered; however, if it is
<loc href="#terms-temporally-active">temporally active</loc>, then</p>
<olist>
  <item><p>if the value of this attribute is <code>whenActive</code>, then the region&apos;s background is rendered only when
  content is selected into the region, where that content is also <loc href="#terms-temporally-active">temporally active</loc>;</p></item>
  <item><p>otherwise, if the value of this attribute is <code>always</code>, then the region&apos;s background is rendered irrespective of
  whether content is selected into the region.</p></item>
</olist>
<p>If a computed value of the property associated with this attribute is not supported,
then a <loc href="#terms-presentation-processor">presentation processor</loc> must use the value <code>always</code>.</p>
<p>The <att>tts:showBackground</att> style is illustrated by the following example.</p>
<table id="style-attribute-showBackground-example-1" role="example">
<caption>Example Fragment &ndash; Show Background</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:origin="0px 0px"/&gt;
  &lt;style tts:extent="265px 100px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style <phrase role="strong">tts:showBackground="always"</phrase>/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style tts:displayAlign="before"/&gt;
  &lt;style tts:textAlign="start"/&gt;
&lt;/region&gt;
&lt;region xml:id="r2"&gt;
  &lt;style tts:origin="205px 60px"/&gt;
  &lt;style tts:extent="290px 100px"/&gt;
  &lt;style tts:backgroundColor="red"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style tts:displayAlign="before"/&gt;
  &lt;style tts:textAlign="end"/&gt;
  &lt;style <phrase role="strong">tts:showBackground="whenActive"</phrase>/&gt;
&lt;/region&gt;
</eg>
</td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-attribute-textAlign">
<head>tts:textAlign</head>
<p>The <att>tts:textAlign</att> attribute is used to specify a style property that
defines how inline areas are aligned within a containing block area in the inline progression
direction.</p>
<table id="style-property-details-textAlign" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>"left"</code> |
<code>"center"</code> |
<code>"right"</code> |
<code>"start"</code> |
<code>"end"</code> |
<code>"justify"</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>start</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#content-vocabulary-p"><el>p</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>see prose</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-textAlign">textAlign derivation</loc></td>
</tr>
</tbody>
</table>
<p>If a computed value of the property associated with this attribute is not supported,
then a <loc href="#terms-presentation-processor">presentation processor</loc> must use the value <code>start</code>.</p>
<p>The <att>tts:textAlign</att> style is illustrated by the following examples.</p>
<table id="style-attribute-textAlign-example-1" role="example">
<caption>Example Fragment &ndash; Text Align</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="355px 43px"/&gt;
  &lt;style tts:origin="0px 0px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style <phrase role="strong">tts:textAlign="start"</phrase>/&gt;
&lt;/region&gt;
&lt;region xml:id="r2"&gt;
  &lt;style tts:extent="355px 43px"/&gt;
  &lt;style tts:origin="0px 47px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style <phrase role="strong">tts:textAlign="end"</phrase>/&gt;
&lt;/region&gt;
...
&lt;p region="r1"&gt;
  Beware the Jabberwock, my son!&lt;br/&gt;
  The jaws that bite, the claws that catch!
&lt;/p&gt;
&lt;p region="r2"&gt;
  Beware the Jubjub bird, and shun&lt;br/&gt;
  The frumious Bandersnatch!
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="style-attribute-textAlign-example-1-images" role="example-images">    
<caption>Example Rendition &ndash; Text Align</caption>   
<tbody>   
<tr>    
<td><graphic source="images/textAlign.png" alt="TTML textAlign style property"/></td>   
</tr>   
</tbody>    
</table>    
<p></p>
<note role="elaboration">
<p>The text alignment of the last line area of the last block area generated by a <loc href="#content-vocabulary-p"><el>p</el></loc> element
follows the semantics of the <code>text-align-last</code> property with a value of <code>relative</code> per <bibref ref="xslfo11"/>, &sect;7.16.10.</p>
</note>
</div3>
<div3 id="style-attribute-textCombine">
<head>tts:textCombine</head>
<p>When a vertical writing mode applies, the <att>tts:textCombine</att> attribute is used to specify a style property that
applies to <loc href="#terms-glyph-area">glyph areas</loc> generated by content flowed into a region, and which
determines whether and how multiple <loc href="#terms-glyph-area">glyph areas</loc> are combined horizontally so that they
fit within the <loc href="#terms-block-progression-dimension">block progression dimension</loc> of a single line of the surrounding vertical text.
If a horizontal writing mode applies, then this property is ignored
for the purpose of presentation processing.</p>
<p>Combination processing may make use of one or more techniques to obtain the goal of visual combination into an EM square of the surrounding vertical text.
For example, half-width variant forms may be selected, a ligature may be selected, a smaller font size may be applied, etc. At a minimum, an
implementation that supports this style property must be able to select half-width variant forms if available. If none of these techniques are
able to achieve the target dimension along the block progression dimension of the containing line area, then this dimension of the containing line area may be increased if
permitted by the line stacking strategy in effect.</p>
<table id="style-property-details-textCombine" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td><loc href="#style-value-text-combine">&lt;text-combine&gt;</loc></td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>none</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#content-vocabulary-span"><el>span</el></loc>; see also <loc href="#note-ruby-container-span-styles">Note</loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>yes</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-textCombine">textCombine derivation</loc></td>
</tr>
</tbody>
</table>
<p>If the specified value of this attribute is <code>none</code>, then no combination processing applies.
If the specified value of this attribute is <code>all</code>, then all affected characters should be combined.</p>
<p>Combination applies after all affected characters have been processed as if a horizontal writing mode applied. In particular, bidirectional processing, ligatures, glyph subtitutions or combination of Unicode combining characters if used is applied before the combination process specified by the <att>tts:textCombine</att> attribute.</p>
<p>Combination must not cross an element boundary, a bidirectional boundary, or a <loc href="#terms-glyph-area">non-glyph area</loc> boundary.</p>
<p>If a computed value of the property associated with this attribute is not supported,
then a <loc href="#terms-presentation-processor">presentation processor</loc> must use the value <code>none</code>.</p>
<note role="clarification">
<p>This version of TTML does not define any semantics for the <att>tts:textCombine</att> attribute
in the context of a <termref def="defs-ruby-container">ruby container</termref>. As a consequence, a content author is advised to
not expect any specific behavior by a 
conformant <loc href="#terms-presentation-processor">presentation processor</loc>
when a <att>tts:textCombine</att> attribute is used in the context of a <termref def="defs-ruby-container">ruby container</termref>.</p>
</note>
<p>The <att>tts:textCombine</att> style is illustrated by the following example.</p>
<table id="text-combine-example" role="example">
<caption>Example Fragment &ndash; Text Combine</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;p region="tbrlLeft"&gt;
  &lt;span <phrase role="strong">tts:textCombine="none"</phrase>&gt;AB34&lt;/span&gt;
&lt;/p&gt;
&lt;p region="tbrlRight"&gt;
  &lt;span <phrase role="strong">tts:textCombine="all"</phrase>&gt;AB34&lt;/span&gt;
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="text-combine-example-images" role="example-images">
<caption>Example Rendition &ndash; Text Combine</caption>
<tbody>
<tr>
<td><graphic source="images/textCombine_final.png" alt="TTML textCombine style property"/></td>
</tr>
</tbody>
</table>
<p></p>
<note role="elaboration">
<p>In the above example, the rightmost region depicts the use of the <code>all</code> value, where
the presentation processor has applied scaling to half-width variant glyphs of the affected characters, thus allowing the combined text to fit within
the same size EM square as the surrounding vertical text.</p>
</note>
</div3>
<div3 id="style-attribute-textDecoration">
<head>tts:textDecoration</head>
<p>The <att>tts:textDecoration</att> attribute is used to specify a style property that
defines a text decoration effect to apply to <loc href="#terms-glyph-area">glyph areas</loc>
that are generated by content flowed into a region.</p>
<table id="style-property-details-textDecoration" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td><loc href="#style-value-text-decoration">&lt;text-decoration&gt;</loc></td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>none</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#content-vocabulary-span"><el>span</el></loc>; see also <loc href="#note-ruby-container-span-styles">Note</loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>yes, but see <loc href="#style-attribute-textDecoration-special-semantics">special semantics</loc></td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-textDecoration">textDecoration derivation</loc></td>
</tr>
</tbody>
</table>
<p>If a computed value of the property associated with this attribute is not supported,
then a <loc href="#terms-presentation-processor">presentation processor</loc> must use the value <code>none</code>.</p>
<note role="clarification">
<p>The syntax used above in defining the value of this property is based on the
value <loc href="#terms-component">component</loc> syntax defined in <bibref ref="css2"/>, &sect;1.4.2.1. In essence,
one or more of the values separated by <code>||</code> may appear in the property
value in any order, such as <code>"noUnderline overline lineThrough"</code>.</p>
</note>
<note role="clarification">
<p>Specifying the value &quot;<code>none</code>&quot; is equivalent to specifying &quot;<code>noUnderline noLineThrough noOverline</code>&quot;.</p>
</note>
<p>The <att>tts:textDecoration</att> style is illustrated by the following example.</p>
<table id="style-attribute-textDecoration-example-1" role="example">
<caption>Example Fragment &ndash; Text Decoration</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="385px 82px"/&gt;
  &lt;style tts:origin="0px 0px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style tts:padding="5px 2px"/&gt;
  &lt;style <phrase role="strong">tts:textDecoration="underline"</phrase>/&gt;
&lt;/region&gt;
...
&lt;p region="r1"&gt;
  The sea was wet&lt;span <phrase role="strong">tts:textDecoration="noUnderline"</phrase>&gt; as &lt;/span&gt;wet
  &lt;span <phrase role="strong">tts:textDecoration="noUnderline"</phrase>&gt;
    could be,&lt;br/&gt;
    The sand was dry as dry.&lt;br/&gt;
    &lt;span <phrase role="strong">tts:textDecoration="lineThrough"</phrase>&gt;There weren&apos;t any&lt;/span&gt;
    You &lt;span <phrase role="strong">tts:textDecoration="lineThrough"</phrase>&gt;couldn&apos;t&lt;/span&gt;
    could not see a cloud&lt;br/&gt;
    Because no cloud was in the sky.
  &lt;/span&gt;
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="style-attribute-textDecoration-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Text Decoration</caption>
<tbody>
<tr>
<td><graphic source="images/textDecoration.png" alt="TTML textDecoration style property"/></td>
</tr>
</tbody>
</table>
<div4 id="style-attribute-textDecoration-special-semantics">
<head>Special Semantics of Text Decoration</head>
<p>The computed value of the property associated with this attribute consists of a 3-tuple,
where each entry denotes, respectively, whether an underline, line through, or overline
decoration is to be applied to the affected text.
Furthermore, when applying inheritance semantics, each of these entries is considered to
be inherited separately from the others.</p>
<note role="example">
<p>For example, if the computed value of <code>tts:textDecoration</code> that applies to a <code>div</code> (division) element
is the tuple <code>(noUnderline, lineThrough, overline)</code> and a
<code>p</code> (paragraph) element child of that <code>div</code> specifies <code>tts:textDecoration="noLineThrough"</code>, then
the aggregate computed value that applies to the <code>p</code> element is <code>(noUnderline, noLineThrough, overline)</code>, which value
is then inherited by children of the <code>p</code> element.</p>
</note>
</div4>
</div3>
<div3 id="style-attribute-textEmphasis">
<head>tts:textEmphasis</head>
<p>The <att>tts:textEmphasis</att> attribute is used to specify a style property that
defines a text emphasis effect to apply to <loc href="#terms-glyph-area">glyph areas</loc>
that are generated by content flowed into a region.</p>
<table id="style-property-details-textEmphasis" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td><loc href="#style-value-text-emphasis">&lt;text-emphasis&gt;</loc></td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>none</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#content-vocabulary-span"><el>span</el></loc>; see also <loc href="#note-ruby-container-span-styles">Note</loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>yes</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete; continuous (color only)</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-textEmphasis">textEmphasis derivation</loc></td>
</tr>
</tbody>
</table>
<p>If no emphasis style is specified,
then the emphasis style must be interpreted as if a style of <code>auto</code> were specified.
If no emphasis color is specified,
then the emphasis color must be interpreted as if a color of <code>current</code> were specified.
If no emphasis position is specified,
then the emphasis position must be interpreted as if a position of <code>outside</code> were specified.</p>
<note role="clarification">
<p>When employing the Mongolian script set in vertical left-to-right lines, it may be desirable that the initial value assigned
to emphasis position be <code>after</code> instead of <code>outside</code>, which is resolved to <code>before</code> for all non-final lines. In
this case, an author may redefine the default initial value for this attribute by including an element
<code>&lt;initial tts:textEmphasis="none transparent after"/&gt;</code> in a document&apos;s <code>styling</code> element.</p>
</note>
<p>The <att>tts:textEmphasis</att> style is illustrated by the following example.</p>
<table id="text-emphasis-example-1" role="example">
<caption>Example Fragment &ndash; Text Emphasis</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;p&gt;
  &lt;span <phrase role="strong">tts:textEmphasis="filled circle before"</phrase>&gt;&lt;/span&gt;
  &lt;span <phrase role="strong">tts:textEmphasis="filled dot before"</phrase>&gt;&lt;/span&gt;
  &lt;span <phrase role="strong">tts:textEmphasis="filled sesame before"</phrase>&gt;&lt;/span&gt;
  &lt;span <phrase role="strong">tts:textEmphasis="open circle before"</phrase>&gt;&lt;/span&gt;
  &lt;span <phrase role="strong">tts:textEmphasis="open dot before"</phrase>&gt;&lt;/span&gt;
  &lt;span <phrase role="strong">tts:textEmphasis="open sesame before"</phrase>&gt;&lt;/span&gt;
  &lt;br/&gt;
  &lt;span <phrase role="strong">tts:textEmphasis="filled circle after"</phrase>&gt;&lt;/span&gt;
  &lt;span <phrase role="strong">tts:textEmphasis="filled dot after"</phrase>&gt;&lt;/span&gt;
  &lt;span <phrase role="strong">tts:textEmphasis="filled sesame after"</phrase>&gt;&lt;/span&gt;
  &lt;span <phrase role="strong">tts:textEmphasis="open circle after"</phrase>&gt;&lt;/span&gt;
  &lt;span <phrase role="strong">tts:textEmphasis="open dot after"</phrase>&gt;&lt;/span&gt;
  &lt;span <phrase role="strong">tts:textEmphasis="open sesame after"</phrase>&gt;&lt;/span&gt;
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="text-emphasis-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Text Emphasis</caption>
<tbody>
<tr>
<td><graphic source="images/textEmphasis_1.png" alt="TTML textEmphasis style property"/></td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-attribute-textOrientation">
<head>tts:textOrientation</head>
<p>The <att>tts:textOrientation</att> attribute is used to specify a style property that
defines a text orientation to apply to <loc href="#terms-glyph-area">glyph areas</loc> generated
by content flowed into a region to which a vertical writing mode applies.</p>
<table id="style-property-details-textOrientation" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>"mixed"</code> |
<code>"sideways"</code> |
<code>"upright"</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>mixed</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#content-vocabulary-span"><el>span</el></loc>; see also <loc href="#note-ruby-container-span-styles">Note</loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>yes</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-textOrientation">textOrientation derivation</loc></td>
</tr>
</tbody>
</table>
<p>The presentation semantics of this style property apply only when a vertical
writing mode applies; therefore, if a horizontal writing mode applies, this style
property has no effect.</p>
<p>In the following, <loc href="#terms-glyph-area">glyph areas</loc> associated with content characters are described in terms of whether
they are rotated or not rotated in vertical writing modes, where this determination is made in accordance with the <code>Vertical_Orientation</code> 
of each content character as determined by <bibref ref="utr50"/>.</p>
<p>If the value of this attribute is <code>mixed</code>, then rotated <loc href="#terms-glyph-area">glyph areas</loc> are set sideways
and non-rotated <loc href="#terms-glyph-area">glyph areas</loc> are set upright, where <emph>sideways</emph> means rotated 90&deg; clockwise, 
and where <emph>upright</emph> means not rotated.</p>
<note role="clarification">
<p>According to <bibref ref="utr50"/>, visual rotation of a <loc href="#terms-glyph-area">glyph areas</loc> may occur through either the substitution
 of a rotated <loc href="#terms-glyph-area">glyph areas</loc> or by performing an affine rotation transformation on the 
 <loc href="#terms-glyph-area">glyph areas</loc>&apos;s outline (or raster image),
where the determination of which of these applies depends on the specific font used during presentation processing.</p>
</note>
<p>If the value of this attribute is <code>sideways</code>, then all <loc href="#terms-glyph-area">glyph areas</loc>
are rotated 90&deg; clockwise.</p>
<p>If the value of this attribute is <code>upright</code>, then all characters are considered
to have a vertical orientation of <code>U</code>, in which case no 
<loc href="#terms-glyph-area">glyph areas</loc> are rotated. In this case the
(potential) substitution of rotated <loc href="#terms-glyph-area">glyph areas</loc> 
and the application of an affine rotation transformation
are disabled, and the <loc href="#terms-glyph-area">glyph area</loc> rendered 
is the non-rotated form.
In addition, for purposes of bidirectional processing, this value causes all
affected characters to be treated as strong left-to-right, i.e., to be treated as if
a <att>tts:direction</att> of <code>ltr</code> and <att>tts:unicodeBidi</att> of
<code>override</code> were applied.</p>
<p>If a computed value of the property associated with this attribute is not supported,
then a <loc href="#terms-presentation-processor">presentation processor</loc> must use the value <code>mixed</code>.</p>
<p>The <att>tts:textOrientation</att> style is illustrated by the following
example.</p>
<table id="text-orientation-example-1" role="example">
<caption>Example Fragment &ndash; Text Orientation</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="vertical" <phrase role="strong">tts:writingMode="tblr"</phrase>/&gt;
...
&lt;p region="vertical"&gt;
  &lt;span <phrase role="strong">tts:textOrientation="mixed"</phrase>&gt;A&lt;/span&gt;
  &lt;span <phrase role="strong">tts:textOrientation="upright"</phrase>&gt;B&lt;/span&gt;
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="text-orientation-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Text Orientation</caption>
<tbody>
<tr>
<td><graphic source="images/textOrientation.png" alt="TTML textOrientation style property"/></td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-attribute-textOutline">
<head>tts:textOutline</head>
<p>The <att>tts:textOutline</att> attribute is used to specify a style property that
defines a text outline effect to apply to glyphs that are selected for <loc href="#terms-glyph-area">glyph areas</loc> generated
by content flowed into a region.</p>
<table id="style-property-details-textOutline" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td><loc href="#style-value-text-outline">&lt;text-outline&gt;</loc></td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>none</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#content-vocabulary-span"><el>span</el></loc>; see also <loc href="#note-ruby-container-span-styles">Note</loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>yes</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>relative to this element&apos;s font size</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete; continuous (color only)</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-textOutline">textOutline derivation</loc></td>
</tr>
</tbody>
</table>
<p>The value of this attribute consists of an optional <loc href="#style-value-color">&lt;color&gt;</loc> term
followed by one or two <loc href="#style-value-length">&lt;length&gt;</loc> terms.  If a <emph>color</emph> term is
present, then it denotes the outline color; if no <emph>color</emph> term is
present, the computed value of the <att>tts:color</att> applies.  The first
<emph>length</emph> term denotes the outline thickness and the second length
term, if present, indicates the blur radius.</p>
<p>When a relative <loc href="#style-value-length">&lt;length&gt;</loc> value is specified for outline thickness or blur radius,
then it is resolved in terms of the height <loc href="#terms-component">component</loc> of the referenced font size or <loc href="#terms-computed-cell-size">computed cell size</loc>.</p>
<p>The <loc href="#style-value-length">&lt;length&gt;</loc> value(s) used to express thickness and blur radius must be non-negative.</p>
<p>If no blur radius is specified, i.e., only one <loc href="#style-value-length">&lt;length&gt;</loc> term is present,
then the computed value of <code>0px</code> applies.</p>
<note role="elaboration">
<p>When a <loc href="#style-value-length">&lt;length&gt;</loc> expressed in
cells is used in a <att>tts:textOutline</att> value,
the cell&apos;s height applies.
For example, if text outline thickness is specified as 0.1c, the cell resolution
is 20 by 10, and the extent of the <loc href="#terms-root-container-region">root container region</loc> is 640 by 480, then the
outline thickness will be a nominal 480 / 10 * 0.1 pixels, i.e., 4.8px,
without taking into account rasterization effects.</p>
</note>
<p>If a computed value of the property associated with this attribute is not supported,
then a <loc href="#terms-presentation-processor">presentation processor</loc> must use the value <code>none</code>.</p>
<p>The <att>tts:textOutline</att> style is illustrated by the following
example.</p>
<table id="style-attribute-textOutline-example-1" role="example">
<caption>Example Fragment &ndash; Text Outline</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:backgroundColor="transparent"/&gt;
  &lt;style tts:color="yellow"/&gt;
  &lt;style <phrase role="strong">tts:textOutline="black 2px 0px"</phrase>/&gt;
  &lt;style tts:fontFamily="proportionalSansSerif"/&gt;
  &lt;style tts:fontSize="24px"/&gt;
&lt;/region&gt;
...
&lt;p&gt;
  How doth the little crocodile&lt;br/&gt;
  Improve its shining tail,&lt;br/&gt;
  And pour the waters of the Nile&lt;br/&gt;
  On every golden scale!&lt;br/&gt;
  How cheerfully he seems to grin,&lt;br/&gt;
  How neatly spreads his claws,&lt;br/&gt;
  And welcomes little fishes in,&lt;br/&gt;
  With gently smiling jaws!
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="style-attribute-textOutline-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Text Outline</caption>
<tbody>
<tr>
<td><graphic source="images/textOutline.png" alt="textOutline style property"/></td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-attribute-textShadow">
<head>tts:textShadow</head>
<p>The <att>tts:textShadow</att> attribute is used to specify a style property that
defines one or more text shadow decorations to apply to glyphs that are selected for <loc href="#terms-glyph-area">glyph areas</loc> generated
by content flowed into a region.</p>
<p>If multiple text shadows apply, then they are drawn in the specified order immediately prior to drawing the
<loc href="#terms-glyph-area">glyph area</loc> to which they apply.</p>
<table id="style-property-details-textShadow" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td><loc href="#style-value-text-shadow">&lt;text-shadow&gt;</loc></td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>none</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#content-vocabulary-span"><el>span</el></loc>; see also <loc href="#note-ruby-container-span-styles">Note</loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>yes</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>relative to this element&apos;s font size</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete; continuous (color only)</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-textShadow">textShadow derivation</loc></td>
</tr>
</tbody>
</table>
<p>If a computed value of the property associated with this attribute is not supported,
then a <loc href="#terms-presentation-processor">presentation processor</loc> must use the value <code>none</code>.</p>
<table id="style-attribute-textShadow-example-1" role="example">
<caption>Example Fragment &ndash; Text Shadow</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;style xml:id=&quot;s1&quot;
  tts:backgroundColor=&quot;black&quot;
  tts:color=&quot;white&quot;
  tts:lineHeight=&quot;125%&quot;
  tts:textAlign=&quot;center&quot;/&gt;
...
&lt;p style=&quot;s1&quot;&gt;
&lt;span tts:padding=&quot;1%&quot;&gt;
I serve it with greens in those 
&lt;span <phrase role="strong">tts:textShadow=&quot;10% -20% 5% lime&quot;</phrase>&gt;shadowy scenes,&lt;/span&gt;&lt;br/&gt;
And I use it for striking a light:&lt;/span&gt;
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="style-attribute-textShadow-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Text Shadow</caption>
<tbody>
<tr>
<td>
<graphic source="images/textShadow1.png" alt="TTML textShadow style property"/>
</td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-attribute-unicodeBidi">
<head>tts:unicodeBidi</head>
<p>The <att>tts:unicodeBidi</att> attribute is used to specify a style property that
defines an explicit directional embedding, override or isolate according to
the Unicode bidirectional algorithm.</p>
<table id="style-property-details-unicodeBidi" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>"normal"</code> |
<code>"embed"</code> |
<code>"bidiOverride"</code> |
<code>"isolate"</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td>
<code>normal</code>
</td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#content-vocabulary-p"><el>p</el></loc>,
<loc href="#content-vocabulary-span"><el>span</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-unicodeBidi">unicodeBidi derivation</loc></td>
</tr>
</tbody>
</table>
<p>If a computed value of the property associated with this attribute is not supported,
then a <loc href="#terms-presentation-processor">presentation processor</loc> must use the value <code>normal</code>.</p>
<p>The <att>tts:unicodeBidi</att> style is illustrated by the following example.</p>
<table id="style-attribute-unicodeBidi-example-1" role="example">
<caption>Example Fragment &ndash; Unicode Bidirectionality</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="265px 84px"/&gt;
  &lt;style tts:padding="5px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style tts:displayAlign="after"/&gt;
  &lt;style tts:textAlign="center"/&gt;
&lt;/region&gt;
...
&lt;p region="r1"&gt;
  Little birds are playing&lt;br/&gt;
  Bagpipes on the shore,&lt;br/&gt;
  &lt;span <phrase role="strong">tts:unicodeBidi="bidiOverride"</phrase> tts:direction="rtl"&gt;where the tourists snore.&lt;/span&gt;
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="style-attribute-unicodeBidi-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Unicode Bidirectionality</caption>
<tbody>
<tr>
<td>
<graphic source="images/unicodeBidi.png" alt="TTML unicodeBidi style property"/>
</td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-attribute-visibility">
<head>tts:visibility</head>
<p>The <att>tts:visibility</att> attribute is used to specify a style property that
defines whether generated areas are visible or not when rendered on a visual
presentation medium.</p>
<table id="style-property-details-visibility" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>"visible"</code> |
<code>"hidden"</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td>
<code>visible</code>
</td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#document-structure-vocabulary-body"><el>body</el></loc>,
<loc href="#content-vocabulary-div"><el>div</el></loc>,
<loc href="#embedded-content-vocabulary-image"><el>image</el></loc>,
<loc href="#content-vocabulary-p"><el>p</el></loc>,
<loc href="#layout-vocabulary-region"><el>region</el></loc>,
<loc href="#content-vocabulary-span"><el>span</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>yes</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-visibility">visibility derivation</loc></td>
</tr>
</tbody>
</table>
<p>The <att>tts:visibility</att> style has no affect on content layout or
composition, but merely determines whether composed content is visible or not.</p>
<p>If the computed value of the property associated with this attribute is <code>visible</code>, then areas generated by
this element are rendered visible when presented on a visual medium. If the computed value is <code>hidden</code>, then they are not rendered visible,
i.e., they are hidden; notwithstanding the foregoing, a descendant element of a hidden element is rendered visible if the computed value of this property
is <code>visible</code> on the descendant.</p>
<p>If a computed value of the property associated with this attribute is not supported,
then a <loc href="#terms-presentation-processor">presentation processor</loc> must use the value <code>visible</code>.</p>
<p>The <att>tts:visibility</att> style is illustrated by the following example.</p>
<table id="style-attribute-visibility-example-1" role="example">
<caption>Example Fragment &ndash; Visibility</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="398px 121px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style/&gt;
&lt;/region&gt;
...
&lt;p region="r1" dur="4s"&gt;
  &lt;span <phrase role="strong">tts:visibility="hidden"</phrase>&gt;
    &lt;set begin="1s" <phrase role="strong">tts:visibility="visible"</phrase>/&gt;
    Curiouser
  &lt;/span&gt;
  &lt;span <phrase role="strong">tts:visibility="hidden"</phrase>&gt;
    &lt;set begin="2s" <phrase role="strong">tts:visibility="visible"</phrase>/&gt;
    and
  &lt;/span&gt;
  &lt;span <phrase role="strong">tts:visibility="hidden"</phrase>&gt;
    &lt;set begin="3s" <phrase role="strong">tts:visibility="visible"</phrase>/&gt;
    curiouser!
  &lt;/span&gt;
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="style-attribute-visibility-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Visibility</caption>
<tbody>
<tr>
<td>
<graphic source="images/visibility_0.png" alt="TTML visibility style property - [0,1)"/>
</td>
</tr>
<tr>
<td>
<graphic source="images/visibility_1.png" alt="TTML visibility style property - [1,2)"/>
</td>
</tr>
<tr>
<td>
<graphic source="images/visibility_2.png" alt="TTML visibility style property - [2,3)"/>
</td>
</tr>
<tr>
<td>
<graphic source="images/visibility_3.png" alt="TTML visibility style property - [3,4)"/>
</td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-attribute-wrapOption">
<head>tts:wrapOption</head>
<p>The <att>tts:wrapOption</att> attribute is used to specify a style property that
defines whether or not automatic line wrapping (breaking) applies within the context of
the affected element.</p>
<table id="style-property-details-wrapOption" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>"wrap"</code> |
<code>"noWrap"</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>wrap</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#content-vocabulary-span"><el>span</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>yes</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-wrapOption">wrapOption derivation</loc></td>
</tr>
</tbody>
</table>
<p>If a computed value of the property associated with this attribute is not supported,
then a <loc href="#terms-presentation-processor">presentation processor</loc> must use the value <code>wrap</code>.</p>
<p>The <att>tts:wrapOption</att> style is illustrated by the following example.</p>
<table id="style-attribute-wrapOption-example-1" role="example">
<caption>Example Fragment &ndash; Wrap Option</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:extent="192px 117px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style tts:displayAlign="after"/&gt;
  &lt;style tts:overflow="hidden"/&gt;
  &lt;style <phrase role="strong">tts:wrapOption="noWrap"</phrase>/&gt;
&lt;/region&gt;
...
&lt;p&gt;
  I&apos;ll tell thee everything I can:&lt;br/&gt;
  There&apos;s little to relate.&lt;br/&gt;
  I saw an aged aged man,&lt;br/&gt;
  A-sitting on a gate.
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="style-attribute-wrapOption-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Wrap Option</caption>
<tbody>
<tr>
<td><graphic source="images/wrapOption.png" alt="TTML wrapOption style property"/></td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-attribute-writingMode">
<head>tts:writingMode</head>
<p>The <att>tts:writingMode</att> attribute is used to specify a style property that
defines the block and inline progression directions to be used for the purpose of
stacking block and inline areas within a region area.</p>
<table id="style-property-details-writingMode" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>"lrtb"</code> |
<code>"rltb"</code> |
<code>"tbrl"</code> |
<code>"tblr"</code> |
<code>"lr"</code> |
<code>"rl"</code> |
<code>"tb"</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>lrtb</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#layout-vocabulary-region"><el>region</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-writingMode">writingMode derivation</loc></td>
</tr>
</tbody>
</table>
<p>If a computed value of the property associated with this attribute is not supported,
then a <loc href="#terms-presentation-processor">presentation processor</loc> must use the value <code>lrtb</code>.</p>
<note role="elaboration">
<p>A writing mode for which the inline progression direction is left-to-right or right-to-left is referred to
as a <emph>horizontal writing mode</emph>, while a writing mode for which the inline progression direction is
top-to-bottom is referred to as a <emph>vertical writing mode</emph>.</p>
</note>
<p>The <att>tts:writingMode</att> style is illustrated by the following example.</p>
<table id="style-attribute-writingMode-example-1" role="example">
<caption>Example Fragment &ndash; Writing Mode</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;tt ... xml:lang="en"&gt;
...
&lt;region xml:id=&quot;top&quot; tts:origin=&quot;10% 10%&quot; tts:extent=&quot;55% 10%&quot;
  <phrase role="strong">tts:writingMode=&quot;rltb&quot;</phrase>/&gt;
&lt;region xml:id=&quot;right&quot; tts:origin=&quot;70% 10%&quot; tts:extent=&quot;10% 80%&quot;
  <phrase role="strong">tts:writingMode=&quot;tbrl&quot;</phrase>/&gt;
...
&lt;p region=&quot;top&quot;&gt;&lt;span xml:lang="ar"&gt; &lt;/span&gt; W3C&lt;/p&gt;    
&lt;p region=&quot;right&quot;&gt;hello &lt;span xml:lang="ja"&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;    
...
&lt;/tt&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="style-attribute-writingMode-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Writing Mode</caption>
<tbody>
<tr>
<td><graphic source="images/writingMode.png" alt="TTML writingMode style property"/></td>
</tr>
</tbody>
</table>
<note role="explanation">
  <p>In this example, the natural language of textual content is identified using
  multiple <loc href="#content-attribute-xml-lang"><att>xml:lang</att></loc> attributes. While
  not technically required to demonstrate the <code>tts:writingMode</code> attribute,
  the use of explicit language identification is recommended in markup that contains
  content in multiple natural languages.</p>
</note>
</div3>
<div3 id="style-attribute-zIndex">
<head>tts:zIndex</head>
<p>The <att>tts:zIndex</att> attribute is used to specify a style property that
defines the front-to-back ordering of region areas in the case that they overlap.</p>
<table id="style-property-details-zIndex" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>"auto"</code> |
<loc href="#style-value-integer">&lt;integer&gt;</loc>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>auto</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#layout-vocabulary-region"><el>region</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete</td>
</tr>
<tr>
<td><emph>Semantic basis:</emph></td>
<td><loc href="#derivation-zIndex">zIndex derivation</loc></td>
</tr>
</tbody>
</table>
<p>If two areas are associated with the same Z-index value, then, if those areas
overlap in space, the area(s) generated by lexically subsequent elements must be
rendered over area(s) generated by lexically prior elements, where lexical
order is defined as the postorder traversal of a <loc href="#terms-document-instance">document instance</loc>.</p>
<p>The semantics of the value <code>auto</code> are those defined by
<bibref ref="xslfo11"/>, &sect;7.30.18, where the <el>tt</el> element
is considered to establish the root stacking context.</p>
<p>If a computed value of the property associated with this attribute is not supported,
then a <loc href="#terms-presentation-processor">presentation processor</loc> must use the closest supported value.</p>
<note role="elaboration">
<p>In this context, the phrase <emph>closest supported value</emph> means the value for which the Euclidean distance between
the computed z-index and the supported z-index is minimized. If there are multiple closest supported values equally distant from
the computed value, then the value least distant from 0, i.e., closest to the base stack level of the current stacking context, is used.</p>
</note>
<p>The <att>tts:zIndex</att> style is illustrated by the following example.</p>
<table id="style-attribute-zIndex-example-1" role="example">
<caption>Example Fragment &ndash; Z Index</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  &lt;style tts:origin="0px 0px"/&gt;
  &lt;style tts:extent="400px 100px"/&gt;
  &lt;style tts:padding="5px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style <phrase role="strong">tts:zIndex="0"</phrase>/&gt;
&lt;/region&gt;
&lt;region xml:id="r2"&gt;
  &lt;style tts:origin="100px 60px"/&gt;
  &lt;style tts:extent="400px 100px"/&gt;
  &lt;style tts:padding="5px"/&gt;
  &lt;style tts:backgroundColor="red"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style tts:textAlign="end"/&gt;
  &lt;style <phrase role="strong">tts:zIndex="1"</phrase>/&gt;
&lt;/region&gt;
&lt;region xml:id="r3"&gt;
  &lt;style tts:origin="0px 120px"/&gt;
  &lt;style tts:extent="400px 100px"/&gt;
  &lt;style tts:padding="5px"/&gt;
  &lt;style tts:backgroundColor="black"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style <phrase role="strong">tts:zIndex="2"</phrase>/&gt;
&lt;/region&gt;
&lt;region xml:id="r4"&gt;
  &lt;style tts:origin="100px 180px"/&gt;
  &lt;style tts:extent="400px 100px"/&gt;
  &lt;style tts:padding="5px"/&gt;
  &lt;style tts:backgroundColor="red"/&gt;
  &lt;style tts:color="white"/&gt;
  &lt;style tts:textAlign="end"/&gt;
  &lt;style <phrase role="strong">tts:zIndex="3"</phrase>/&gt;
&lt;/region&gt;
...
&lt;p region="r1"&gt;
  I passed by his garden, and marked, with one eye,&lt;br/&gt;
  How the Owl and the Panther were sharing a pie.
&lt;/p&gt;
&lt;p region="r2"&gt;
  The Panther took pie-crust, and gravy, and meat,&lt;br/&gt;
  While the Owl had the dish as its share of the treat.
&lt;/p&gt;
&lt;p region="r3"&gt;
  When the pie was all finished, the Owl, as a boon,&lt;br/&gt;
  Was kindly permitted to pocket the spoon:
&lt;/p&gt;
&lt;p region="r4"&gt;
  While the Panther received knife and fork&lt;br/&gt;
  with a growl,&lt;br/&gt;
  And concluded the banquet by...
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<p></p>
<table id="style-attribute-zIndex-example-1-images" role="example-images">
<caption>Example Rendition &ndash; Z Index</caption>
<tbody>
<tr>
<td><graphic source="images/zIndex.png" alt="TTML zIndex style property"/></td>
</tr>
</tbody>
</table>
</div3>
<div3 id="audio-style-attribute-gain">
<head>tta:gain</head>
<p>The <att>tta:gain</att> attribute is used to specify an audio style property that
determines a <emph>gain</emph> multiplier to be applied to the applicable audio content during
the active duration of the element on which this attribute is specified.</p>
<table id="audio-style-property-details-gain" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code><loc href="#style-value-number">&lt;number&gt;</loc></code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>1</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#embedded-content-vocabulary-audio"><el>audio</el></loc>,
<loc href="#document-structure-vocabulary-body"><el>body</el></loc>,
<loc href="#content-vocabulary-div"><el>div</el></loc>,
<loc href="#content-vocabulary-p"><el>p</el></loc>,
<loc href="#content-vocabulary-span"><el>span</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete; continuous</td>
</tr>
</tbody>
</table>
<p>If the specified value of this attribute is not contained in the interval <code>[-1,1]</code>,
then the computed value of the property associated with this attribute is clamped to this bounded interval.</p>
<p>If the computed value of the property associated with this attribute is negative, then gain is set to
the absolute value of the computed value and a phase inversion is applied.</p>
<p>If gain is 0, then active audio content is fully muted. If gain is 1, then the amplitude of active
audio content is not modified. Otherwise, gain is greater than 0 and less than 1, in which case a relative attenuation
is applied to the combined active audio content, where this attenuation is linear over the interval <code>[0,1]</code>.</p>
<p>The <att>tta:gain</att> style is illustrated by the following example.</p>
<table id="audio-style-attribute-gain-example-1" role="example">
<caption>Example Fragment &ndash; Gain</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;div&gt;
  &lt;audio src="#track1" <phrase role="strong">tta:gain="0.5"</phrase>/&gt;
  &lt;p <phrase role="strong">tta:gain="0.3"</phrase>&gt;
    &lt;audio src="#track2" <phrase role="strong">tta:gain="0.8"</phrase>/&gt;
  &lt;/p&gt;
&lt;/div&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<note role="derivation">
  <p>In this example, two audio sources, <code>track1</code> and <code>track2</code>, are active.
  The <code>div</code> element provides one active audio track as an output to its child <code>p</code>,
  and this child <code>p</code> combines a second active audio track to form the output to its children.
  Furthermore, distinct gains are specified on each source audio as well as on the output of <code>p</code>,
  such that the final output is <code>0.3[0.5(track1) + 0.8(track2)]</code>.</p>
</note>
<note role="derivation">
<p>The semantics of the style property represented by this attribute are based upon 
that defined by <bibref ref="webaudio"/>, &sect;2.7, where the element on which the property
is specified generates a <code>GainNode</code> in the audio graph, whose <code>gain</code>
attribute has the same computed value, and whose input for a 
<loc href="#terms-content-element">content element</loc> that is not an <loc href="#terms-audio-generating-element">audio generating element</loc>
is the sum of the audio output of this element&apos;s parent element and the combined (linearly summed) audio
output of all child audio generating elements; otherwise, i.e., for an audio generating element, the input
is the element&apos;s generated audio.</p>
</note>
</div3>
<div3 id="audio-style-attribute-pan">
<head>tta:pan</head>
<p>The <att>tta:pan</att> attribute is used to specify an audio style property that
determines a stereoscopic <emph>pan</emph> vector to be applied to the applicable audio content during
the active duration of the element on which this attribute is specified.</p>
<table id="audio-style-property-details-pan" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code><loc href="#style-value-number">&lt;number&gt;</loc></code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>0</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#embedded-content-vocabulary-audio"><el>audio</el></loc>,
<loc href="#document-structure-vocabulary-body"><el>body</el></loc>,
<loc href="#content-vocabulary-div"><el>div</el></loc>,
<loc href="#content-vocabulary-p"><el>p</el></loc>,
<loc href="#content-vocabulary-span"><el>span</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>no</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>discrete; continuous</td>
</tr>
</tbody>
</table>
<p>If the specified value of this attribute is not contained in the interval <code>[-1,1]</code>,
then the computed value of the property associated with this attribute is clamped to this bounded interval.</p>
<p>If the computed value of the property associated with this attribute is negative, then the pan direction is to the left of center.
If the pan value is 0, then the stereoscopic directionality of active audio content is not modified, otherwise, the pan value is positive,
in which case the pan direction is to the right of center, where a value of <code>-1</code> designates fully left, and a value
of <code>1</code> designates fully right.</p>
<p>The <att>tta:pan</att> style is illustrated by the following example.</p>
<table id="audio-style-attribute-pan-example-1" role="example">
<caption>Example Fragment &ndash; Pan</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;div&gt;
  &lt;audio src="#track1" <phrase role="strong">tta:pan="0.5"</phrase>/&gt;
  &lt;p <phrase role="strong">tta:pan="0.3"</phrase>&gt;
    &lt;audio src="#track2" <phrase role="strong">tta:pan="0.8"</phrase>/&gt;
  &lt;/p&gt;
&lt;/div&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<note role="derivation">
  <p>In this example, two audio sources, <code>track1</code> and <code>track2</code>, are active.
  The <code>div</code> element provides one active audio track as an output to its child <code>p</code>,
  and this child <code>p</code> combines a second active audio track to form the output to its children.
  Furthermore, distinct pans are specified on each source audio as well as on the output of <code>p</code>,
  such that the final output pan is <code>0.3[0.5(track1) + 0.8(track2)]</code>.</p>
</note>
<note role="derivation">
<p>The semantics of the style property represented by this attribute are based upon 
that defined by <bibref ref="webaudio"/>, &sect;2.21, where the element on which the property
is specified generates a <code>StereoPannerNode</code> in the audio graph, whose <code>pan</code>
attribute has the same computed value, and whose input for a 
<loc href="#terms-content-element">content element</loc> that is not an <loc href="#terms-audio-generating-element">audio generating element</loc>
is the sum of the audio output of this element&apos;s parent element and the combined (linearly summed) audio
output of all child audio generating elements; otherwise, i.e., for an audio generating element, the input
is the element&apos;s generated audio.</p>
</note>
</div3>
<div3 id="audio-style-attribute-pitch">
<head>tta:pitch</head>
<p>The <att>tta:pitch</att> attribute is used to specify an audio style property that
determines speech pitch when  speech synthesis is enabled for the affected content</p>
<table id="audio-style-property-details-pitch" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code><loc href="#style-value-pitch">&lt;pitch&gt;</loc></code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>0%</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#content-vocabulary-span"><el>span</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>yes</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>relative to input audio pitch</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>none</td>
</tr>
</tbody>
</table>
<p>The <att>tta:pitch</att> style is illustrated by the following example.</p>
<table id="audio-style-attribute-pitch-example-1" role="example">
<caption>Example Fragment &ndash; Pitch</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;p&gt;Apply relative pitch adjustment to &lt;span <phrase role="strong">tta:pitch="+10hz"</phrase>&gt;this&lt;/span&gt; word.&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<note role="derivation">
<p>The semantics of the style property represented by this attribute are derived from 
that defined by <bibref ref="ssml"/> &sect;3.2.4 where the equivalent of a <code>prosody</code>
element with a <code>pitch</code> attribute equal to the computed value is applied to the spoken
character content.</p>
</note>
</div3>
<div3 id="audio-style-attribute-speak">
<head>tta:speak</head>
<p>The <att>tta:speak</att> attribute is used to specify an audio style property that
determines whether speech synthesis is enabled for the affected content, and, if enabled, which rate of speech to apply.</p>
<table id="audio-style-property-details-speak" role="common">
<col css="width: 25%;"/>
<col/>
<tbody>
<tr>
<td><emph>Values:</emph></td>
<td>
<code>"none"</code> |
<code>"normal"</code> |
<code>"fast"</code> |
<code>"slow"</code>
</td>
</tr>
<tr>
<td><emph>Initial:</emph></td>
<td><code>none</code></td>
</tr>
<tr>
<td><emph>Applies to:</emph></td>
<td>
<loc href="#content-vocabulary-span"><el>span</el></loc>
</td>
</tr>
<tr>
<td><emph>Inherited:</emph></td>
<td>yes</td>
</tr>
<tr>
<td><emph>Percentages:</emph></td>
<td>N/A</td>
</tr>
<tr>
<td><emph>Animatable:</emph></td>
<td>none</td>
</tr>
</tbody>
</table>
<p>If the value of this attribute is <code>none</code>, then speech synthesis is disabled for the affected content. Otherwise,
if the value of this attribute is <code>normal</code>, <code>fast</code>, or <code>slow</code>, then speech synthesis is enabled at a
normal, fast, or slow speech rate, respectively.</p>
<p>The <att>tta:speak</att> style is illustrated by the following example.</p>
<table id="audio-style-attribute-speak-example-1" role="example">
<caption>Example Fragment &ndash; Speak</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;p&gt;Speak &lt;span <phrase role="strong">tta:speak="normal"</phrase>&gt;this&lt;/span&gt; word.&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<note role="derivation">
<p>The semantics of the style property represented by this attribute are derived from 
that defined by <bibref ref="ssml"/> &sect;3.2.4 where the equivalent of a <code>prosody</code>
element with a <code>rate</code> attribute equal to the computed value is applied to the spoken
character content.</p>
</note>
<div4 id="style-attribute-speak-special-semantics">
<head>Special Semantics of Speak</head>
<p>If the computed value of <code>tta:speak</code> on some <loc href="#content-vocabulary-span"><el>span</el></loc> element or
<loc href="#terms-anonymous-span">anonymous span</loc> <emph>S</emph> is not <code>none</code>, then</p>
<olist>
<item><p>if <emph>S</emph> has a child <loc href="#embedded-content-vocabulary-audio"><el>audio</el></loc> element <emph>A</emph>
and <emph>A</emph> does not reference any source <loc href="#terms-audio-resource">audio resource</loc> by means of either
<loc href="#terms-reference-data-embedding">reference data embedding</loc> or <loc href="#terms-sourced-data-embedding">sourced data embedding</loc>,
then a reference to the <loc href="#terms-speech-data-resource">speech data resource</loc> with a
<loc href="#terms-reference-data-embedding">reference data embedding</loc> is implied;</p></item>
<item><p>if no child of <emph>S</emph> is an <loc href="#embedded-content-vocabulary-audio"><el>audio</el></loc> element and
no ancestor of <emph>S</emph> is an <loc href="#terms-audio-generating-element">audio generating element</loc> for which a referenced
<loc href="#terms-audio-resource">audio resource</loc> source is the <loc href="#terms-speech-data-resource">speech data resource</loc>,
then a child <loc href="#embedded-content-vocabulary-audio"><el>audio</el></loc> element that references the
<loc href="#terms-speech-data-resource">speech data resource</loc> with a <loc href="#terms-reference-data-embedding">reference data embedding</loc>
is implied.</p>
<note role="clarification">
<p>If, on the other hand, some ancestor of <emph>S</emph> is an <loc href="#terms-audio-generating-element">audio generating element</loc>
for which a referenced <loc href="#terms-audio-resource">audio resource</loc> source is the
<loc href="#terms-speech-data-resource">speech data resource</loc>, then speech audio samples synthesized from <emph>S</emph> are intended
to be combined (linearlly summed) with that <loc href="#terms-speech-data-resource">speech data resource</loc> in the
<loc href="#terms-audio-presentation-context">audio presentation context</loc> of the ancestor element.</p>
</note>
</item>
</olist>
<p>The following example shows the first of the above two cases.</p>
<table id="audio-style-attribute-speak-example-2" role="example">
<caption>Example Fragment &ndash; Speak with Implied Audio Source</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;span <phrase role="strong">tta:speak="normal"</phrase>&gt;
  &lt;audio/&gt;
  spoken text
&lt;/span&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>The following example illustrates the second of the above cases.</p>
<table id="audio-style-attribute-speak-example-3" role="example">
<caption>Example Fragment &ndash; Speak with Implied Audio</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;span <phrase role="strong">tta:speak="normal"</phrase>&gt;
  spoken text
&lt;/span&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>The following fragment shows the equivalent result that would obtain from applying the above special semantics to each of the two prior examples,
where, for illustrative purposes, additional whitespace has been introduced as needed to aid formatting.</p>
<table id="audio-style-attribute-speak-example-equivalence" role="example">
<caption>Example Fragment &ndash; Equivalent Speak</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;span <phrase role="strong">tta:speak="normal"</phrase>&gt;
  &lt;audio src="http://www.w3.org/ns/ttml/resource/#speech"/&gt;
  spoken text
&lt;/span&gt;
</eg>
</td>
</tr>
</tbody>
</table>
</div4>
</div3>
</div2> <!-- styling-attribute-vocabulary -->
<div2 id="styling-style-value-expressions">
<head>Styling Value Expressions</head>
<p>Style property values include the use of the following expressions:</p>
<ulist>
<item><p><specref ref="style-value-alpha"/></p></item>
<item><p><specref ref="style-value-annotation-color"/></p></item>
<item><p><specref ref="style-value-annotation-position"/></p></item>
<item><p><specref ref="style-value-border"/></p></item>
<item><p><specref ref="style-value-border-color"/></p></item>
<item><p><specref ref="style-value-border-radii"/></p></item>
<item><p><specref ref="style-value-border-style"/></p></item>
<item><p><specref ref="style-value-border-thickness"/></p></item>
<item><p><specref ref="style-value-color"/></p></item>
<item><p><specref ref="style-value-digit"/></p></item>
<item><p><specref ref="style-value-emphasis-color"/></p></item>
<item><p><specref ref="style-value-emphasis-position"/></p></item>
<item><p><specref ref="style-value-emphasis-style"/></p></item>
<item><p><specref ref="style-value-extent"/></p></item>
<item><p><specref ref="style-value-family-name"/></p></item>
<item><p><specref ref="style-value-font-families"/></p></item>
<item><p><specref ref="style-value-font-size"/></p></item>
<item><p><specref ref="style-value-font-variant"/></p></item>
<item><p><specref ref="style-value-generic-family-name"/></p></item>
<item><p><specref ref="style-value-hex-digit"/></p></item>
<item><p><specref ref="style-value-integer"/></p></item>
<item><p><specref ref="style-value-length"/></p></item>
<item><p><specref ref="style-value-lwsp"/></p></item>
<item><p><specref ref="style-value-measure"/></p></item>
<item><p><specref ref="style-value-named-color"/></p></item>
<item><p><specref ref="style-value-non-negative-integer"/></p></item>
<item><p><specref ref="style-value-non-negative-number"/></p></item>
<item><p><specref ref="style-value-number"/></p></item>
<item><p><specref ref="style-value-origin"/></p></item>
<item><p><specref ref="style-value-padding"/></p></item>
<item><p><specref ref="style-value-percentage"/></p></item>
<item><p><specref ref="style-value-position"/></p></item>
<item><p><specref ref="style-value-ruby-reserve"/></p></item>
<item><p><specref ref="style-value-shadow"/></p></item>
<item><p><specref ref="style-value-text-combine"/></p></item>
<item><p><specref ref="style-value-text-decoration"/></p></item>
<item><p><specref ref="style-value-text-emphasis"/></p></item>
<item><p><specref ref="style-value-text-outline"/></p></item>
<item><p><specref ref="style-value-text-shadow"/></p></item>
<item><p><specref ref="style-value-pitch"/></p></item>
<item><p><specref ref="style-value-whitespace"/></p></item>
</ulist>
<div3 id="style-value-alpha">
<head>&lt;alpha&gt;</head>
<p>An &lt;alpha&gt; expression is used to express an opacity value,
where	0 means fully transparent and 1 means fully opaque.</p>
<table id="alpha-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;alpha&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;alpha&gt;
  : <emph>float</emph>
</eg>
</td>
</tr>
</tbody>
</table>
<p>In the above syntax representation, the syntactic element
<emph><code>float</code></emph> must adhere to the lexical
representation defined by <bibref ref="xsd-2"/>, &sect;3.2.4.1.
If the value represented is less than 0.0,
then it must be interpreted as equal to 0.0; similarly, if the value
represented is greater than 1.0, then it must be interpreted as
1.0. The value NaN must be interpreted as 0.0.</p>
<p>A specified value for &lt;alpha&gt; should not be <code>NaN</code>,
less than 0, or greater than 1.</p>
<p>If a <loc href="#terms-presentation-processor">presentation processor</loc> does not support a specific,
valid opacity value, then it must interpret it as being equal to the
closest supported value.</p>
<note role="elaboration">
<p>In this context, the phrase <emph>closest supported value</emph> means the value for which the Euclidean distance between
the computed opacity and the supported opacity is minimized. If there are multiple closest supported values equally distant from
the computed value, then the value most distant from 0, i.e., the greatest opacity, is used.</p>
</note>
</div3>
<div3 id="style-value-annotation-color">
<head>&lt;annotation-color&gt;</head>
<p>An &lt;annotation-color&gt; expression is used to express the color of text
annotation marks, such as ruby or emphasis marks.</p>
<table id="annotation-color-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;annotation-color&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;annotation-color&gt;
  : "current"
  | <loc href="#style-value-color">&lt;color&gt;</loc>
</eg>
</td>
</tr>
</tbody>
</table>
<glist>
<gitem>
<label><code>current</code></label>
<def>
<p>Equivalent to the computed value of <loc href="#style-attribute-color"><att>tts:color</att></loc> of the affected text.</p>
</def>
</gitem>
<gitem>
<label><loc href="#style-value-color">&lt;color&gt;</loc></label>
<def>
<p>The specified color.</p>
</def>
</gitem>
</glist>
<p>If an implementation does not recognize or otherwise distinguish annotation color value, then
it must be interpreted as if a style of <code>current</code> were specified; as such, an implementation that
supports text annotation marks must minimally support the <code>current</code> value.</p>
</div3>
<div3 id="style-value-annotation-position">
<head>&lt;annotation-position&gt;</head>
<p>An &lt;annotation-position&gt; expression is used to express the position of text
annotation marks, such as ruby or emphasis marks.</p>
<table id="annotation-position-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;annotation-position&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;annotation-position&gt;
  : "before"
  | "after"
  | "outside"
</eg>
</td>
</tr>
</tbody>
</table>
<glist>
<gitem>
<label><code>before</code></label>
<def>
<p>Towards the before edge of the affected <loc href="#terms-glyph-area">glyph areas</loc>. If a horizontal writing mode applies, then this is towards the
top of the <loc href="#terms-glyph-area">glyph areas</loc>. If a vertical writing mode applies, then this is either towards the right or left of the
<loc href="#terms-glyph-area">glyph areas</loc>,
according to whether <loc href="#style-attribute-writingMode"><att>tts:writingMode</att></loc> resolves to
<code>tbrl</code> or <code>tblr</code>, respectively.</p>
</def>
</gitem>
<gitem>
<label><code>after</code></label>
<def>
<p>Towards the after edge of the affected <loc href="#terms-glyph-area">glyph areas</loc>. If a horizontal writing mode applies, then this is towards the
bottom of the <loc href="#terms-glyph-area">glyph areas</loc>. If a vertical writing mode applies, then this is either towards the left or right of the
<loc href="#terms-glyph-area">glyph areas</loc>, according to whether <loc href="#style-attribute-writingMode"><att>tts:writingMode</att></loc> resolves to
<code>tbrl</code> or <code>tblr</code>, respectively.</p>
</def>
</gitem>
<gitem>
<label><code>outside</code></label>
<def>
<p>Equivalent to <code>before</code> for (1) the only line area of or (2) the first line area of the last block area generated by
a <loc href="#content-vocabulary-p"><el>p</el></loc> element which contains annotated text; otherwise, equivalent to <code>after</code>.</p>
</def>
</gitem>
</glist>
<p>If an implementation does not recognize or otherwise distinguish an annotation position value, then
it must be interpreted as if a position of <code>before</code> were specified; as such, an implementation that
supports text annotation marks must minimally support the <code>before</code> value.</p>
</div3>
<div3 id="style-value-border">
<head>&lt;border&gt;</head>
<p>A &lt;border&gt; expression is used to express one or more border style <loc href="#terms-component">component</loc> expressions.</p>
<table id="border-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;border&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;border&gt;
  : <loc href="#style-value-border-thickness">&lt;border-thickness&gt;</loc> || <loc href="#style-value-border-style">&lt;border-style&gt;</loc> || <loc href="#style-value-border-color">&lt;border-color&gt;</loc> || <loc href="#style-value-border-radii">&lt;border-radii&gt;</loc>
</eg>
</td>
</tr>
</tbody>
</table>
<p>At least one of the border style <loc href="#terms-component">components</loc> must be present, for example, a <loc href="#style-value-border-style">&lt;border-style&gt;</loc>
<loc href="#terms-component">component</loc> of value <code>none</code>. Note that <loc href="#terms-component">component</loc> order is not significant.</p>
</div3>
<div3 id="style-value-border-color">
<head>&lt;border-color&gt;</head>
<p>A &lt;border-color&gt; expression is used to express the color of one
or more borders.</p>
<table id="border-color-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;border-color&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;border-color&gt;
  : <loc href="#style-value-color">&lt;color&gt;</loc>
</eg>
</td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-value-border-radii">
<head>&lt;border-radii&gt;</head>
<p>A &lt;border-radii&gt; expression is used to express the radii of one
or more borders.</p>
<table id="border-radii-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;border-radii&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;border-radii&gt;
  : "radii(" <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? <loc href="#style-value-length">&lt;length&gt;</loc> ( <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? "," <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? <loc href="#style-value-length">&lt;length&gt;</loc> )? <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? ")"
</eg>
</td>
</tr>
</tbody>
</table>
<p>If two <loc href="#style-value-length">&lt;length&gt;</loc> expressions are specified, then the first length
corresponds to the quarter ellipse radius for the inline progression dimension (for content) or
horizontal direction (for regions), while the second length, if present, corresponds to the
quarter ellipse radius for the block progression dimension (for content) or vertical direction
(for regions), or, if only one length is present, then it is interpreted as if two lengths were
specified with the same value.</p>
</div3>
<div3 id="style-value-border-style">
<head>&lt;border-style&gt;</head>
<p>A &lt;border-style&gt; expression is used to express the style of one
or more borders.</p>
<table id="border-style-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;border-style&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;border-style&gt;
  : "none"
  | "dotted"
  | "dashed"
  | "solid"
  | "double"
</eg>
</td>
</tr>
</tbody>
</table>
<p>The interpretation of <code>dotted</code>, <code>dashed</code>, and <code>double</code> are considered
to be implementation dependent.</p>
<p>If an implementation does not recognize or otherwise distinguish one of these border style values, then
it must be interpreted as if a style of <code>solid</code> were specified; as such, an implementation that
supports borders must minimally support the <code>solid</code> value.</p>
</div3>
<div3 id="style-value-border-thickness">
<head>&lt;border-thickness&gt;</head>
<p>A &lt;border-thickness&gt; expression is used to express the thickness of one
or more borders.</p>
<table id="border-thickness-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;border-thickness&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;border-thickness&gt;
  : "thin"
  | "medium"
  | "thick"
  | <loc href="#style-value-length">&lt;length&gt;</loc>
</eg>
</td>
</tr>
</tbody>
</table>
<p>The interpretation of <code>thin</code>, <code>medium</code>, and <code>thick</code> are considered
to be implementation dependent; however, the resolved lengths must adhere to the following
constraints: thickness(thin) &lt; thickness(medium); thickness(medium) &lt; thickness(thick).</p>
<p>If a border thickness is expressed as a <loc href="#style-value-length">&lt;length&gt;</loc>,
then it must not take the form of a percentage value; i.e., it must take the form of a scalar value.</p>
</div3>
<div3 id="style-value-color">
<head>&lt;color&gt;</head>
<p>A &lt;color&gt; expression is used to specify a named color, exact RGB color triple,
or exact RGBA color tuple, where the alpha <loc href="#terms-component">component</loc>, if expressed,
is maximum (255) at 100% opacity
and minimum (0) at 0% opacity, and where the applicable color space is
defined by <bibref ref="srgb"/>.</p>
<table id="color-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;color&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;color&gt;
  : "#" rrggbb
  | "#" rrggbbaa
  | "rgb(" r-value "," g-value "," b-value ")"
  | "rgba(" r-value "," g-value "," b-value "," a-value ")"
  | <loc href="#style-value-named-color">&lt;named-color&gt;</loc>

rrggbb
  :  <loc href="#style-value-hex-digit">&lt;hex-digit&gt;</loc>{6}

rrggbbaa
  :  <loc href="#style-value-hex-digit">&lt;hex-digit&gt;</loc>{8}

r-value | g-value | b-value | a-value
  : <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? component-value <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? 

component-value
  : <loc href="#style-value-non-negative-integer">&lt;non-negative-integer&gt;</loc>                    // valid range: [0,255]
</eg>
</td>
</tr>
</tbody>
</table>
<p>When expressing RGB <loc href="#terms-component">component</loc> values, these values are considered
to <phrase role="strong">not</phrase> be premultiplied by alpha.</p>
<p>For the purpose of performing presentation processing such that
non-opaque or non-transparent alpha or opacity values apply, then the
semantics of compositing functions are defined with respect to the use of
the <bibref ref="srgb"/> color space for both inputs and outputs of
the composition function.</p>
<note role="clarification">
<p>The use of <bibref ref="srgb"/> for the stated semantics of
composition is not meant to prevent an actual processor from using some
other color space either for internal or external purposes. For
example, a <loc href="#terms-presentation-processor">presentation processor</loc> may ultimately convert the SRGB values
used here to the YUV color space for rendition on a television device.</p>
</note>
<p>If a <loc href="#terms-presentation-processor">presentation processor</loc> does not support a specific,
valid color or alpha value, then it must interpret it as being equal
to the closest supported value.</p>
<note role="elaboration">
<p>In this context, the phrase <emph>closest supported value</emph> means the value for which the Euclidean distance between
the computed color and alpha and the supported color and alpha in the RGB color space is minimized. If there are multiple closest supported values equally distant from
the computed value, then the value least distant from opaque black <code>rgba(0,0,0,255)</code>, i.e., the closest to opaque black, is used.</p>
</note>
</div3>
<div3 id="style-value-digit">
<head>&lt;digit&gt;</head>
<p>A &lt;digit&gt; is used to express integers and other types of numbers or tokens.</p>
<table id="digit-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;digit&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;digit&gt;
  : "0" | "1" | "2" | "3" | "4" | "5" | "6" | "7" | "8" | "9"
</eg>
</td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-value-emphasis-color">
<head>&lt;emphasis-color&gt;</head>
<p>An &lt;emphasis-color&gt; expression is used to express the color of text
emphasis marks.</p>
<table id="emphasis-color-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;emphasis-color&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;emphasis-color&gt;
  : <loc href="#style-value-annotation-color">&lt;annotation-color&gt;</loc>
</eg>
</td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-value-emphasis-position">
<head>&lt;emphasis-position&gt;</head>
<p>An &lt;emphasis-position&gt; expression is used to express the position of text
emphasis marks.</p>
<table id="emphasis-position-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;emphasis-position&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;emphasis-position&gt;
  : <loc href="#style-value-annotation-position">&lt;annotation-position&gt;</loc>
</eg>
</td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-value-emphasis-style">
<head>&lt;emphasis-style&gt;</head>
<p>An &lt;emphasis-style&gt; expression is used to express the style of text
emphasis marks.</p>
<table id="emphasis-style-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;emphasis-style&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;emphasis-style&gt;
  : "none"
  | "auto" 
  | ( "filled" | "open" ) || ( "circle" | "dot" | "sesame" )
  | <loc href="#content-value-quoted-string">&lt;quoted-string&gt;</loc>
</eg>
</td>
</tr>
</tbody>
</table>
<p>The semantics of text emphasis style values are defined as follows:</p>
<glist>
<gitem>
<label><code>none</code></label>
<def>
<p>No text emphasis mark.</p>
</def>
</gitem>
<gitem>
<label><code>auto</code></label>
<def>
<p>If a vertical writing mode applies, then equivalent to <code>filled sesame</code>; otherwise,
equivalent to <code>filled circle</code>.</p>
</def>
</gitem>
<gitem>
<label><code>filled</code></label>
<def>
<p>Emphasis mark is filled with emphasis color.</p>
</def>
</gitem>
<gitem>
<label><code>open</code></label>
<def>
<p>Emphasis mark is not filled, i.e., its outline is stroked with the emphasis color, but it is not filled.</p>
</def>
</gitem>
<gitem>
<label><code>circle</code></label>
<def>
<p>Emphasis mark is a circle. If filled, then equivalent to U+25CF &apos;&#x25CF;&apos;; if open, then equivalent to U+25CB &apos;&#x25CB;&apos;</p>
</def>
</gitem>
<gitem>
<label><code>dot</code></label>
<def>
<p>Emphasis mark is a dot. If filled, then equivalent to U+2022 &apos;&#x2022;&apos;; if open, then equivalent to U+25E6 &apos;&#x25E6;&apos;</p>
</def>
</gitem>
<gitem>
<label><code>sesame</code></label>
<def>
<p>Emphasis mark is a sesame. If filled, then equivalent to U+FE45 &apos;&#xFE45;&apos;; if open, then equivalent to U+FE46 &apos;&#xFE46;&apos;</p>
</def>
</gitem>
<gitem>
<label><loc href="#content-value-quoted-string">&lt;quoted-string&gt;</loc></label>
<def>
<p>Emphasis mark is the first grapheme cluster of string, with remainder of string ignored.</p>
</def>
</gitem>
</glist>
<p>If only <code>filled</code> or <code>open</code> is specified, then it is equivalent to <code>filled circle</code> and <code>open circle</code>, respectively.</p>
<p>If only <code>circle</code>, <code>dot</code>, or <code>sesame</code> is specified, then it is equivalent to <code>filled circle</code>, <code>filled dot</code>, and
<code>filled sesame</code>, respectively.</p>
<p>If an implementation does not recognize or otherwise distinguish an emphasis style value, then
it must be interpreted as if a style of <code>auto</code> were specified; as such, an implementation that
supports text emphasis marks must minimally support the <code>auto</code> value.</p>
</div3>
<div3 id="style-value-extent">
<head>&lt;extent&gt;</head>
<p>An &lt;extent&gt; expression specifies the dimensions of a rectangular area.</p>
<table id="extent-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;extent&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;extent&gt;
  : "auto"
  | "contain"
  | "cover"
  | <loc href="#style-value-measure">&lt;measure&gt;</loc> <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> <loc href="#style-value-measure">&lt;measure&gt;</loc>
</eg>
</td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-value-family-name">
<head>&lt;family-name&gt;</head>
<p>A &lt;family-name&gt; expression specifies a font family name.</p>
<table id="family-name-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;family-name&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;family-name&gt;
  : unquoted-string
  | <loc href="#content-value-quoted-string">&lt;quoted-string&gt;</loc>

unquoted-string
  : identifier (<loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> identifier)*

identifier
  : [-]? identifier-start identifier-following*

identifier-start
  : [_a-zA-Z]
  | non-ascii-or-c1
  | escape

identifier-following
  : [_a-zA-Z0-9-]
  | non-ascii-or-c1
  | escape

non-ascii-or-c1
  : [^\0-\237]

escape
  : &apos;\\&apos; <emph><code>char</code></emph>
</eg>
</td>
</tr>
</tbody>
</table>
<p>In addition to adhering to the syntax rules specified above, the following semantic rules apply:</p>
<ulist>
<item><p>the semantic value of a &lt;family-name&gt; expression is the semantic value of its <code>unquoted-string</code> or <code>quoted-string</code>
non-terminal, according to whichever applies;</p></item>
<item><p>the semantic value of an <code>unquoted-string</code> non-terminal is a pair <code>&lt;</code><emph>quoted</emph>, <emph>content</emph><code>&gt;</code>,
where <emph>quoted</emph> is a boolean <code>false</code>, and
where <emph>content</emph> is the result of appending the value of each <code>identifier</code>
non-terminal, in lexical order, where the value of each identifier is preceded by a single SPACE (U+0020) character if it is not the first
identifier;</p></item>
<item><p>the semantic value of a <code>quoted-string</code> non-terminal is a pair <code>&lt;</code><emph>quoted</emph>, <emph>content</emph><code>&gt;</code>,
where <emph>quoted</emph> is a boolean <code>true</code>, and
where <emph>content</emph> is the unquoted content of the quoted string, i.e., the sequence of characters between the delimiting quotes.</p></item>
<item><p>the semantic value of an <code>escape</code> non-terminal is the value of the escaped <code>char</code>;</p></item>
<item><p>a &lt;family-name&gt; that takes the form of an <code>unquoted-string</code> that contains an <code>identifier</code> that
starts with two <code>-</code> HYPHEN-MINUS (U+002D) characters must be considered to be invalid;</p></item>
<item><p>a &lt;family-name&gt; that takes the form of an <code>unquoted-string</code> that contains a single <code>identifier</code> that
matches (by case-sensitive comparison) a &lt;generic-family-name&gt; must be interpreted as that &lt;generic-family-name&gt;;</p></item>
<item><p>a &lt;family-name&gt; that takes the form of a <code>quoted-string</code> whose content (unquoted value)
matches (by case-sensitive comparison) a &lt;generic-family-name&gt; must not be interpreted as that &lt;generic-family-name&gt;, but as
the actual name of a non-generic font family.</p></item>
<item><p>The syntactic element <emph><code>char</code></emph> is to be interpreted according
to the <code>Char</code> production defined by <bibref ref="xml10"/>, &sect;2.2.</p></item>
</ulist>
<note role="elaboration">
<p>The <code>{unicode}</code> escape mechanism defined by <bibref ref="css2"/>, &sect;4.1.1
is not supported by this syntax; rather, authors are expected to either (1) directly encode the character
using the document encoding or (2) use an XML character reference according to
<bibref ref="xml10"/>, &sect;4.1. When a syntactically significant character needs to be used
without its normal syntactic interpretation, it may be be escaped using the backslash
(reverse solidus) <code>escape</code> non-terminal specified above.</p>
<p>When using the backslash (reverse solidus) <code>escape</code> non-terminal, the above syntax does
not place any restriction on what character may be escaped, e.g., <code>\\[\n\r\f0-9a-f]</code> are
permitted. If one of these latter escapes appears in a &lt;family-name&gt; expression, then it will
need to be converted to a <code>{unicode}</code> escape if it is to be used with a standard XSL-FO
or CSS parser. In particular, a backslash followed by a newline is ignored by CSS, while it is not
ignored by the above syntax. Such an unignored escaped newline would need to be represented using
an equivalent <code>{unicode}</code> escape, such as <code>\a</code>, to order to express in CSS.</p>
</note>
</div3>
<div3 id="style-value-font-families">
<head>&lt;font-families&gt;</head>
<p>A &lt;font-families&gt; expression specifies a non-empty list of font families.</p>
<table id="font-families-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;font-families&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;font-families&gt;
  : font-family (<loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? "," <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? font-family)*

font-family
  : <loc href="#style-value-family-name">&lt;family-name&gt;</loc>
  | <loc href="#style-value-generic-family-name">&lt;generic-family-name&gt;</loc>
</eg>
</td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-value-font-size">
<head>&lt;font-size&gt;</head>
<p>A &lt;font-size&gt; expression specifies a font size in terms of one or two <loc href="#style-value-length">&lt;length&gt;</loc> expressions.</p>
<table id="font-size-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;font-size&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;font-size&gt;
  : <loc href="#style-value-length">&lt;length&gt;</loc> (<loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> <loc href="#style-value-length">&lt;length&gt;</loc>)?
</eg>
</td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-value-font-variant">
<head>&lt;font-variant&gt;</head>
<p>A &lt;font-variant&gt; expression specifies one or more keywords that influence the character
to glyph mapping process, and, specifically, whether and which type of variant glyph is to be selected
(if available in the applicable font) when peforming presentation processing.</p>
<table id="font-variant-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;font-variant&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;font-variant&gt;
  : "normal"
  | ("super" | "sub") || ("full" | "half") || "ruby"
</eg>
</td>
</tr>
</tbody>
</table>
<p>If the value <code>normal</code> applies, then, unless a <loc href="#terms-higher-level-protocol">higher level protocol</loc> applies, 
none of subscript, superscript, full, half, or ruby
glyph variations are selected.</p>
<p>If the keyword <code>super</code> applies, then superscript glyph variants are selected (if available).
For example, when rendering with an OpenType font, the OpenType <code>sups</code> feature is enabled. If the keyword <code>sub</code> applies,
then subscript glyph variants are selected (if available).
For example, when rendering with an OpenType font, the OpenType <code>subs</code> feature is enabled.</p>
<p>If the keyword <code>full</code> applies, then full width glyph variants are selected (if available).
For example, when rendering with an OpenType font, the OpenType <code>fwid</code> feature is enabled. If the keyword <code>half</code> applies,
then half width glyph variants are selected (if available).
For example, when rendering with an OpenType font, the OpenType <code>hwid</code> feature is enabled.</p>
<p>If the keyword <code>ruby</code> applies, then ruby glyph variants are selected (if available).
For example, when rendering with an OpenType font, the OpenType <code>ruby</code> feature is enabled.</p>
<note role="seealso">
<p>For the definition of an OpenType font, see <bibref ref="off"/>.</p>
</note>
<p>If multiple variations apply, then glyphs that satisfy the maximum number of applicable variations are selected. For example,
if both <code>super</code> and <code>half</code> variations are specified, then glyphs that are simultaneously designated as both superscript and
half width variations are selected (if available). If only subsets of the requested variations can be satisfied, and there is more than
one possible subset that would result in a difference in the selected variation glyphs, then which subset applies is considered implementation
dependent, i.e., determined by the <loc href="#terms-document-processing-context">document processing context</loc>.</p>
</div3>
<div3 id="style-value-generic-family-name">
<head>&lt;generic-family-name&gt;</head>
<p>A &lt;generic-family-name&gt; expression specifies a font family using a general
token that indicates a class of font families.</p>
<p>The resolution of a generic family name to a concrete font instance is considered to
be implementation dependent, both in the case of content authoring and content interpretation.</p>
<table id="generic-family-name-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;generic-family-name&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;generic-family-name&gt;
  : "default"
  | "monospace"
  | "sansSerif"
  | "serif"
  | "monospaceSansSerif"
  | "monospaceSerif"
  | "proportionalSansSerif"
  | "proportionalSerif"
</eg>
</td>
</tr>
</tbody>
</table>
<p>The mapping between a generic (font) family name and an actual font is not
determined by this specification; however, the
distinction of monospace versus proportional and serif versus sans-serif
should be maintained if possible when performing presentation.</p>
<p>If a generic (font) family name of <code>monospace</code> is specified,
then it may be interpreted as equivalent to either <code>monospaceSansSerif</code>
or <code>monospaceSerif</code>. The generic family names <code>sansSerif</code>
and <code>serif</code> are to be interpreted as equivalent to <code>proportionalSansSerif</code>
and <code>proportionalSerif</code>, respectively.</p>
<p>If the generic family name <code>default</code> is specified (or implied by
an initial value), then its typographic characteristics are considered to be implementation
dependent; however, it is recommended that this default font family be mapped to
a monospaced, sans-serif font.</p>
</div3>
<div3 id="style-value-hex-digit">
<head>&lt;hex-digit&gt;</head>
<p>A &lt;hex-digit&gt; is used to express integers and other types of numbers or tokens
that employ base 16 arithmetic.</p>
<p>For the purpose of parsing, a distinction must not be made between lower and upper case.</p>
<table id="hex-digit-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;hex-digit&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;hex-digit&gt;
  : <loc href="#style-value-digit">&lt;digit&gt;</loc>
  | "a" | "b" | "c" | "d" | "e" | "f"
  | "A" | "B" | "C" | "D" | "E" | "F"
</eg>
</td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-value-integer">
<head>&lt;integer&gt;</head>
<p>An &lt;integer&gt; expression is used to express an arbitrary, signed integer value.</p>
<table id="integer-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;integer&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;integer&gt;
  : sign? <loc href="#style-value-non-negative-integer">&lt;non-negative-integer&gt;</loc>

sign
  : "+" | "-"
</eg>
</td>
</tr>
</tbody>
</table>
<note role="clarification">
<p>The values of the lexical representations <attval>-0</attval>, <attval>0</attval>, and <attval>+0</attval>,
regardless of the presence of additional leading or trailing <attval>0</attval> digits, are considered to be equal to the integer value zero (0).</p>
</note>
</div3>
<div3 id="style-value-length">
<head>&lt;length&gt;</head>
<p>A &lt;length&gt; expression is used to express either a coordinate <loc href="#terms-component">component</loc> of point
in a cartesian space or a distance between two points in a cartesian space.</p>
<table id="length-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;length&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;length&gt;
  : scalar
  | <loc href="#style-value-percentage">&lt;percentage&gt;</loc>

scalar
  : <loc href="#style-value-number">&lt;number&gt;</loc> units

<phrase><termdef id="defs-units" term=""><term>units</term></termdef></phrase>
  : "px"
  | "em"
  | "c"                                     // abbreviation of "cell"
  | "rw"
  | "rh"
</eg>
</td>
</tr>
</tbody>
</table>
<p>It is an error to omit the units <loc href="#terms-component">component</loc> of a scalar length value.</p>
<p>The unit <code>px</code> (pixel) corresponds to a <termref def="defs-logical-pixel">logical pixel</termref> of
the <loc href="#terms-document-coordinate-space">document coordinate space</loc>,
as defined by <specref ref="root-container-region-semantics-coordinate-space"/>; however,
the <code>px</code> (pixel) unit should not be used in a <loc href="#style-value-length">&lt;length&gt;</loc> expression
unless a <loc href="#style-attribute-extent"><att>tts:extent</att></loc> attribute consisting
of two <loc href="#style-value-length">&lt;length&gt;</loc> specifications using <code>px</code> (pixel) units is
specified on the <loc href="#document-structure-vocabulary-tt"><el>tt</el></loc> element,
<phrase role="deprecated">without which the use of the <code>px</code> (pixel) unit is deprecated</phrase></p>
<p>When specified relative to a font whose size is expressed as a single length
or as two lengths of equal length, the unit <code>em</code> is considered to be
identical to that defined by <bibref ref="xslfo11"/>, &sect;5.9.13;
however, when specified relative to a font whose size is expressed as
two lengths of non-equal lengths, then one <code>em</code> is
equal to the inline progression dimension of the anamorphically
scaled font when used to specify lengths in the inline progression
direction and equal to the block progression dimension of the scaled
font when used to specify lengths in the block progression direction.</p>
<p>Unless specified otherwise, the <code>em</code> unit is resolved in relation to the
computed value of the property associated with the <loc href="#style-attribute-fontSize">tts:fontSize</loc> attribute that
applies to the element in which context the <code>em</code> unit is resolved.</p>
<p>The semantics of the unit <code>c</code> (cell) are
defined by the parameter <specref
ref="parameter-attribute-cellResolution"/>.</p>
<p>The <termdef id="defs-root-container-relative" term="root container relative"><term>root container relative</term></termdef>
units <code>rw</code> and <code>rh</code> are defined as
one percent (1%) of the width and height of the <loc href="#terms-root-container-region">root container region</loc>, respectively.
For example, the length <code>25rw</code> is interpreted as 25% of the width of
the <loc href="#terms-root-container-region">root container region</loc>.</p>
</div3>
<div3 id="style-value-lwsp">
<head>&lt;lwsp&gt;</head>
<p>A &lt;lwsp&gt; is used to express the common linear whitespace (LWSP) syntactic construct.</p>
<table id="lwsp-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;lwsp&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;lwsp&gt;
  : <loc href="#style-value-whitespace">&lt;whitespace&gt;</loc>+
</eg>
</td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-value-measure">
<head>&lt;measure&gt;</head>
<p>A &lt;measure&gt; value expresses a distance as an 
<loc href="#terms-absolute-dimension">absolute dimension</loc> or a
<loc href="#terms-relative-dimension">relative dimension</loc>, where the context of use determines which dimension applies.</p>
<p>If one of the two absolute dimensions, <loc href="#terms-height">height</loc> or <loc href="#terms-width">width</loc>, applies,
then the associated relative dimension, <loc href="#terms-block-progression-dimension">bpd</loc> or
<loc href="#terms-inline-progression-dimension">ipd</loc>, is determined in accordance with the applicable
<loc href="#terms-writing-mode">writing mode</loc> and <loc href="#terms-text-orientation">text orientation</loc>, such that
the associated relative dimension governs the interpretation of the specified value as described below.</p>
<p>Otherwise, one of the two relative dimensions, <loc href="#terms-block-progression-dimension">bpd</loc> or
<loc href="#terms-inline-progression-dimension">ipd</loc>, applies, in which case that relative dimension governs the
interpretation of the speccified value as defined below.</p>
<table id="measure-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;measure&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;measure&gt;
  : "auto"
  | "fitContent"
  | "maxContent"
  | "minContent"
  | <loc href="#style-value-length">&lt;length&gt;</loc>
</eg>
</td>
</tr>
</tbody>
</table>
<p>The semantics of these values are defined as follows:</p>
<glist>
<gitem>
<label><code>auto</code></label>
<def>
<p>For <emph>ipd</emph>,
when applied to an image, the intrinsic size in the <loc href="#terms-inline-progression-direction">inline progression direction</loc>; otherwise,
the numeric value that would be obtained if a value of <code>100%</code> were specified.</p>
<p>For <emph>bpd</emph>,
when applied to an image, the intrinsic size in the <loc href="#terms-block-progression-direction">block progression direction</loc>; otherwise,
the numeric value that would be obtained if a value of <code>100%</code> were specified.</p>
</def>
</gitem>
<gitem>
<label><code>fitContent</code></label>
<def>
<p>A numeric value equal to the maximum of the values of (1) <code>minContent</code> and (2) the minimum of values of <code>maxContent</code>
and <code>auto</code>.</p>
</def>
</gitem>
<gitem>
<label><code>maxContent</code></label>
<def>
<p>For <emph>ipd</emph>, the maximum numeric value that encloses all of the element&apos;s content such that lines are broken only at
hard, i.e., mandatory, break points, even if that means overflowing the parent&apos;s <emph>ipd</emph>.</p>
<p>For <emph>bpd</emph>, the maximum numeric value that encloses all of the element&apos;s content such that lines are broken at
all possible line break positions, i.e., both hard (mandatory) and soft (optional) break points.</p>
</def>
</gitem>
<gitem>
<label><code>minContent</code></label>
<def>
<p>For <emph>ipd</emph>, the minimum numeric value that encloses all of the element&apos;s content such that lines are broken at
all possible line break positions, i.e., both hard (mandatory) and soft (optional) break points.</p>
<p>For <emph>bpd</emph>, the minimum numeric value that encloses all of the element&apos;s content such that lines are broken only at
hard, i.e., mandatory, break points, even if that means overflowing the parent&apos;s <emph>ipd</emph>.</p>
</def>
</gitem>
<gitem>
<label><code><loc href="#style-value-length">&lt;length&gt;</loc></code></label>
<def>
<p>A non-negative numeric value expressed as a scalar or percentage.</p>
</def>
</gitem>
</glist>
</div3>
<div3 id="style-value-named-color">
<head>&lt;named-color&gt;</head>
<p>A &lt;named-color&gt; is used to express an RGBA color with a convenient name, and where the applicable color space is
defined by <bibref ref="srgb"/>.</p>
<p>For the purpose of parsing, a distinction must not be made between lower and upper case.</p>
<table id="named-color-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;named-color&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;named-color&gt;
  : "transparent"                           // #00000000
  | "black"                                 // #000000ff
  | "silver"                                // #c0c0c0ff
  | "gray"                                  // #808080ff
  | "white"                                 // #ffffffff
  | "maroon"                                // #800000ff
  | "red"                                   // #ff0000ff
  | "purple"                                // #800080ff
  | "fuchsia"                               // #ff00ffff
  | "magenta"                               // #ff00ffff (= fuchsia)
  | "green"                                 // #008000ff
  | "lime"                                  // #00ff00ff
  | "olive"                                 // #808000ff
  | "yellow"                                // #ffff00ff
  | "navy"                                  // #000080ff
  | "blue"                                  // #0000ffff
  | "teal"                                  // #008080ff
  | "aqua"                                  // #00ffffff
  | "cyan"                                  // #00ffffff (= aqua)
</eg>
</td>
</tr>
</tbody>
</table>
<note role="clarification">
<p>Except for <code>transparent</code>, the set of named colors specified above constitutes a proper
subset of the set of named colors specified by <bibref ref="svg11"/>, &sect;4.2.</p>
</note>
</div3>
<div3 id="style-value-non-negative-integer">
<head>&lt;non-negative-integer&gt;</head>
<p>A &lt;non-negative-integer&gt; expression is used to express an arbitrary, non-negative integral value.</p>
<table id="non-negative-integer-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;non-negative-integer&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;non-negative-integer&gt;
  : <loc href="#style-value-digit">&lt;digit&gt;</loc>+
</eg>
</td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-value-non-negative-number">
<head>&lt;non-negative-number&gt;</head>
<p>A &lt;non-negative-number&gt; expression is used to express an arbitrary, non-negative integer or real valued number.</p>
<table id="non-negative-number-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;non-negative-number&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;non-negative-number&gt;
  : <loc href="#style-value-non-negative-integer">&lt;non-negative-integer&gt;</loc>
  | non-negative-real

non-negative-real
  : <loc href="#style-value-digit">&lt;digit&gt;</loc>* "." <loc href="#style-value-digit">&lt;digit&gt;</loc>+
  | <loc href="#style-value-digit">&lt;digit&gt;</loc>+ "."
</eg>
</td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-value-number">
<head>&lt;number&gt;</head>
<p>A &lt;number&gt; expression is used to express an arbitrary, optionally signed integer or real valued number.</p>
<table id="number-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;number&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;number&gt;
  : sign? <loc href="#style-value-non-negative-number">&lt;non-negative-number&gt;</loc>

sign
  : "+" | "-"
</eg>
</td>
</tr>
</tbody>
</table>
<note role="clarification">
<p>The values of the lexical representations
<attval>-0</attval>, <attval>-0.</attval>, <attval>-.0</attval>, <attval>-0.0</attval>,
<attval>0</attval>, <attval>0.</attval>, <attval>.0</attval>, <attval>0.0</attval>,
<attval>+0</attval>, <attval>+0.</attval>, <attval>+.0</attval>, and <attval>+0.0</attval>,
regardless of the presence of additional leading or trailing <attval>0</attval> digits,
are considered to be equal to the numeric value zero (0).</p>
</note>
</div3>
<div3 id="style-value-origin">
<head>&lt;origin&gt;</head>
<p>An &lt;origin&gt; expression specifies the dimensions of a rectangular area.</p>
<table id="origin-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;origin&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;origin&gt;
  : "auto"
  | <loc href="#style-value-length">&lt;length&gt;</loc> <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> <loc
    href="#style-value-length">&lt;length&gt;</loc>
</eg>
</td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-value-padding">
<head>&lt;padding&gt;</head>
<p>A &lt;padding&gt; expression specifies the insets that apply to an area&apos;s padding rectangle.</p>
<table id="padding-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;padding&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;padding&gt;
  : <loc href="#style-value-length">&lt;length&gt;</loc> <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> <loc href="#style-value-length">&lt;length&gt;</loc> <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> <loc href="#style-value-length">&lt;length&gt;</loc> <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> <loc href="#style-value-length">&lt;length&gt;</loc>
  | <loc href="#style-value-length">&lt;length&gt;</loc> <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> <loc href="#style-value-length">&lt;length&gt;</loc> <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> <loc href="#style-value-length">&lt;length&gt;</loc>
  | <loc href="#style-value-length">&lt;length&gt;</loc> <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> <loc href="#style-value-length">&lt;length&gt;</loc>
  | <loc href="#style-value-length">&lt;length&gt;</loc>
</eg>
</td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-value-percentage">
<head>&lt;percentage&gt;</head>
<p>A &lt;percentage&gt; expression is used to express an arbitrary, signed integer or real valued percentage.</p>
<table id="percentage-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;percentage&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;percentage&gt;
  : <loc href="#style-value-number">&lt;number&gt;</loc> "%"
</eg>
</td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-value-pitch">
<head>&lt;pitch&gt;</head>
<p>A &lt;pitch&gt; value expresses an absolute or relative pitch frequency adjustment to be applied to synthesized speech.</p>
<table id="pitch-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;pitch&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;pitch&gt;
  : <loc href="#style-value-percentage">&lt;percentage&gt;</loc>
  | <loc href="#style-value-number">&lt;number&gt;</loc> pitch-units?

pitch-units
  : "hz" | "st"
</eg>
</td>
</tr>
</tbody>
</table>
<p>If specified as a <loc href="#style-value-percentage">&lt;percentage&gt;</loc>, then the output pitch (frequency) is
<code>input pitch (frequency) * (1.0 + (percentage/100))</code>.
If specified as a <loc href="#style-value-number">&lt;number&gt;</loc> and
if a <emph>sign</emph> is specified, then the output pitch is the input pitch adjusted positively (negatively) in accordance with
whether the sign is positive (negative); however, if no sign is specified, then the input pitch is set to the specified value, i.e.,
is not relative to the input pitch. If a <emph>units</emph> <loc href="#terms-component">component</loc> is present, then it specifies either Hertz (<code>hz</code>)
or semi-tones (<code>st</code>), i.e., half steps on the standard diatonic scale.
If no <emph>units</emph> <loc href="#terms-component">component</loc> is specified, then Hertz is implied.</p>
</div3>
<div3 id="style-value-position">
<head>&lt;position&gt;</head>
<p>A &lt;position&gt; expression is used to indirectly determine the origin of an area or an image with respect to a reference area.</p>
<table id="position-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;position&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;position&gt;
  : offset-position-h                             // single component value
  | edge-keyword-v                                // single component value
  | offset-position-h <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> offset-position-v    // two component value
  | position-keyword-v <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> position-keyword-h  // two component value
  | position-keyword-h <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> edge-offset-v       // three component value
  | position-keyword-v <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> edge-offset-h       // three component value
  | edge-offset-h <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> position-keyword-v       // three component value
  | edge-offset-v <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> position-keyword-h       // three component value
  | edge-offset-h <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> edge-offset-v            // four component value
  | edge-offset-v <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> edge-offset-h            // four component value

offset-position-h
  : position-keyword-h
  | <loc href="#style-value-length">&lt;length&gt;</loc>

offset-position-v
  : position-keyword-v
  | <loc href="#style-value-length">&lt;length&gt;</loc>

edge-offset-h
  : edge-keyword-h <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> <loc href="#style-value-length">&lt;length&gt;</loc>

edge-offset-v
  : edge-keyword-v <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> <loc href="#style-value-length">&lt;length&gt;</loc>

position-keyword-h
  : "center"
  | edge-keyword-h

position-keyword-v
  : "center"
  | edge-keyword-v

edge-keyword-h
  : "left"
  | "right"

edge-keyword-v
  : "top"
  | "bottom"
</eg>
</td>
</tr>
</tbody>
</table>
<p>A &lt;position&gt; expression may consist of one to four <loc href="#terms-component">component</loc> values as follows, formally defined by the above syntax:</p>
<glist>
<gitem>
<label>one component</label>
<def>
<p>either a horizontal offset position or a vertical edge keyword</p>
</def>
</gitem>
<gitem>
<label>two components</label>
<def>
<p>a horizontal position offset followed by a vertical position offset or
a vertical position keyword followed by a horizontal position keyword</p>
</def>
</gitem>
<gitem>
<label>three components</label>
<def>
<p>a horizontal edge offset and a vertical position keyword or a horizontal position keyword and a vertical edge offset, in any order</p>
</def>
</gitem>
<gitem>
<label>four components</label>
<def>
<p>a horizontal edge offset and a vertical edge offset, in any order</p>
</def>
</gitem>
</glist>
<p>Every &lt;position&gt; expression can be translated to a four <loc href="#terms-component">component</loc> equivalent of the form
<code>left <loc href="#style-value-length">&lt;length&gt;</loc> top <loc href="#style-value-length">&lt;length&gt;</loc></code> by means of the following
equivalence tables:</p>
<table id="position-expression-one-component-equivalents" role="common">
<caption>One Component Equivalents</caption>
<col css="width: 25%;"/>
<col css="width: 25%;"/>
<tbody>
<tr>
<th>Value</th>
<th>Equivalent</th>
</tr>
<tr>
<td><code>center</code></td>
<td><code>center center</code></td>
</tr>
<tr>
<td><code>left</code></td>
<td><code>left center</code></td>
</tr>
<tr>
<td><code>right</code></td>
<td><code>right center</code></td>
</tr>
<tr>
<td><code>top</code></td>
<td><code>center top</code></td>
</tr>
<tr>
<td><code>bottom</code></td>
<td><code>center bottom</code></td>
</tr>
<tr>
<td><code><loc href="#style-value-length">&lt;length&gt;</loc></code></td>
<td><code><loc href="#style-value-length">&lt;length&gt;</loc> center</code></td>
</tr>
</tbody>
</table>
<p></p>
<table id="position-expression-two-component-equivalents" role="common">
<caption>Two Component Equivalents</caption>
<col css="width: 25%;"/>
<col css="width: 25%;"/>
<tbody>
<tr>
<th>Value</th>
<th>Equivalent</th>
</tr>
<tr>
<td><code>bottom center</code></td>
<td><code>left 50% top 100%</code></td>
</tr>
<tr>
<td><code>bottom left</code></td>
<td><code>left 0% top 100%</code></td>
</tr>
<tr>
<td><code>bottom right</code></td>
<td><code>left 100% top 100%</code></td>
</tr>
<tr>
<td><code>center center</code></td>
<td><code>left 50% top 50%</code></td>
</tr>
<tr>
<td><code>center top</code></td>
<td><code>left 50% top 0%</code></td>
</tr>
<tr>
<td><code>center bottom</code></td>
<td><code>left 50% top 100%</code></td>
</tr>
<tr>
<td><code>center left</code></td>
<td><code>left 0% top 50%</code></td>
</tr>
<tr>
<td><code>center right</code></td>
<td><code>left 100% top 50%</code></td>
</tr>
<tr>
<td><code>center <loc href="#style-value-length">&lt;length&gt;</loc></code></td>
<td><code>left 50% top <loc href="#style-value-length">&lt;length&gt;</loc></code></td>
</tr>
<tr>
<td><code>left center</code></td>
<td><code>left 0% top 50%</code></td>
</tr>
<tr>
<td><code>left top</code></td>
<td><code>left 0% top 0%</code></td>
</tr>
<tr>
<td><code>left bottom</code></td>
<td><code>left 0% top 100%</code></td>
</tr>
<tr>
<td><code>left <loc href="#style-value-length">&lt;length&gt;</loc></code></td>
<td><code>left 0% top <loc href="#style-value-length">&lt;length&gt;</loc></code></td>
</tr>
<tr>
<td><code>right center</code></td>
<td><code>left 100% top 50%</code></td>
</tr>
<tr>
<td><code>right top</code></td>
<td><code>left 100% top 0%</code></td>
</tr>
<tr>
<td><code>right bottom</code></td>
<td><code>left 100% top 100%</code></td>
</tr>
<tr>
<td><code>right <loc href="#style-value-length">&lt;length&gt;</loc></code></td>
<td><code>left 100% top <loc href="#style-value-length">&lt;length&gt;</loc></code></td>
</tr>
<tr>
<td><code>top center</code></td>
<td><code>left 50% top 0%</code></td>
</tr>
<tr>
<td><code>top left</code></td>
<td><code>left 0% top 0%</code></td>
</tr>
<tr>
<td><code>top right</code></td>
<td><code>left 100% top 0%</code></td>
</tr>
<tr>
<td><code><loc href="#style-value-length">&lt;length&gt;</loc> center</code></td>
<td><code>left <loc href="#style-value-length">&lt;length&gt;</loc> top 50%</code></td>
</tr>
<tr>
<td><code><loc href="#style-value-length">&lt;length&gt;</loc> top</code></td>
<td><code>left <loc href="#style-value-length">&lt;length&gt;</loc> top 0%</code></td>
</tr>
<tr>
<td><code><loc href="#style-value-length">&lt;length&gt;</loc> bottom</code></td>
<td><code>left <loc href="#style-value-length">&lt;length&gt;</loc> top 100%</code></td>
</tr>
<tr>
<td><code><loc href="#style-value-length">&lt;length-1&gt;</loc> <loc href="#style-value-length">&lt;length-2&gt;</loc></code></td>
<td><code>left <loc href="#style-value-length">&lt;length-1&gt;</loc> top <loc href="#style-value-length">&lt;length-2&gt;</loc></code></td>
</tr>
</tbody>
</table>
<p></p>
<note role="elaboration">
<p>When a two <loc href="#terms-component">component</loc> expression consists of two <loc href="#style-value-length">&lt;length&gt;</loc> values, then,
to avoid a possibly ambiguous interpretation, the first is interpreted as a horizontal length and the second
as a vertical length as indicated in the last row of the above table.</p>
</note>
<table id="position-expression-three-component-equivalents" role="common">
<caption>Three Component Equivalents</caption>
<col css="width: 25%;"/>
<col css="width: 25%;"/>
<tbody>
<tr>
<th>Value</th>
<th>Equivalent</th>
</tr>
<tr>
<td><code>bottom left <loc href="#style-value-length">&lt;length&gt;</loc></code></td>
<td><code>left <loc href="#style-value-length">&lt;length&gt;</loc> top 100%</code></td>
</tr>
<tr>
<td><code>bottom right <loc href="#style-value-length">&lt;length&gt;</loc></code></td>
<td><code>right <loc href="#style-value-length">&lt;length&gt;</loc> top 100%</code></td>
</tr>
<tr>
<td><code>bottom <loc href="#style-value-length">&lt;length&gt;</loc> center</code></td>
<td><code>left 50% bottom <loc href="#style-value-length">&lt;length&gt;</loc></code></td>
</tr>
<tr>
<td><code>bottom <loc href="#style-value-length">&lt;length&gt;</loc> left</code></td>
<td><code>left 0% bottom <loc href="#style-value-length">&lt;length&gt;</loc></code></td>
</tr>
<tr>
<td><code>bottom <loc href="#style-value-length">&lt;length&gt;</loc> right</code></td>
<td><code>left 100% bottom <loc href="#style-value-length">&lt;length&gt;</loc></code></td>
</tr>
<tr>
<td><code>center bottom <loc href="#style-value-length">&lt;length&gt;</loc></code></td>
<td><code>left 50% bottom <loc href="#style-value-length">&lt;length&gt;</loc></code></td>
</tr>
<tr>
<td><code>center left <loc href="#style-value-length">&lt;length&gt;</loc></code></td>
<td><code>left <loc href="#style-value-length">&lt;length&gt;</loc> top 50%</code></td>
</tr>
<tr>
<td><code>center right <loc href="#style-value-length">&lt;length&gt;</loc></code></td>
<td><code>right <loc href="#style-value-length">&lt;length&gt;</loc> top 50%</code></td>
</tr>
<tr>
<td><code>center top <loc href="#style-value-length">&lt;length&gt;</loc></code></td>
<td><code>left 50% top <loc href="#style-value-length">&lt;length&gt;</loc></code></td>
</tr>
<tr>
<td><code>left bottom <loc href="#style-value-length">&lt;length&gt;</loc></code></td>
<td><code>left 0% bottom <loc href="#style-value-length">&lt;length&gt;</loc></code></td>
</tr>
<tr>
<td><code>left top <loc href="#style-value-length">&lt;length&gt;</loc></code></td>
<td><code>left 0% top <loc href="#style-value-length">&lt;length&gt;</loc></code></td>
</tr>
<tr>
<td><code>left <loc href="#style-value-length">&lt;length&gt;</loc> bottom</code></td>
<td><code>left <loc href="#style-value-length">&lt;length&gt;</loc> top 100%</code></td>
</tr>
<tr>
<td><code>left <loc href="#style-value-length">&lt;length&gt;</loc> center</code></td>
<td><code>left <loc href="#style-value-length">&lt;length&gt;</loc> top 50%</code></td>
</tr>
<tr>
<td><code>left <loc href="#style-value-length">&lt;length&gt;</loc> top</code></td>
<td><code>left <loc href="#style-value-length">&lt;length&gt;</loc> top 0%</code></td>
</tr>
<tr>
<td><code>right bottom <loc href="#style-value-length">&lt;length&gt;</loc></code></td>
<td><code>left 100% bottom <loc href="#style-value-length">&lt;length&gt;</loc></code></td>
</tr>
<tr>
<td><code>right top <loc href="#style-value-length">&lt;length&gt;</loc></code></td>
<td><code>left 100% top <loc href="#style-value-length">&lt;length&gt;</loc></code></td>
</tr>
<tr>
<td><code>right <loc href="#style-value-length">&lt;length&gt;</loc> bottom</code></td>
<td><code>right <loc href="#style-value-length">&lt;length&gt;</loc> top 100%</code></td>
</tr>
<tr>
<td><code>right <loc href="#style-value-length">&lt;length&gt;</loc> center</code></td>
<td><code>right <loc href="#style-value-length">&lt;length&gt;</loc> top 50%</code></td>
</tr>
<tr>
<td><code>right <loc href="#style-value-length">&lt;length&gt;</loc> top</code></td>
<td><code>right <loc href="#style-value-length">&lt;length&gt;</loc> top 0%</code></td>
</tr>
<tr>
<td><code>top left <loc href="#style-value-length">&lt;length&gt;</loc></code></td>
<td><code>left <loc href="#style-value-length">&lt;length&gt;</loc> top 0%</code></td>
</tr>
<tr>
<td><code>top right <loc href="#style-value-length">&lt;length&gt;</loc></code></td>
<td><code>right <loc href="#style-value-length">&lt;length&gt;</loc> top 0%</code></td>
</tr>
<tr>
<td><code>top <loc href="#style-value-length">&lt;length&gt;</loc> center</code></td>
<td><code>left 50% top <loc href="#style-value-length">&lt;length&gt;</loc></code></td>
</tr>
<tr>
<td><code>top <loc href="#style-value-length">&lt;length&gt;</loc> left</code></td>
<td><code>left 100% top <loc href="#style-value-length">&lt;length&gt;</loc></code></td>
</tr>
<tr>
<td><code>top <loc href="#style-value-length">&lt;length&gt;</loc> right</code></td>
<td><code>left 100% top <loc href="#style-value-length">&lt;length&gt;</loc></code></td>
</tr>
</tbody>
</table>
<p></p>
<table id="position-expression-four-component-equivalents" role="common">
<caption>Four Component Equivalents</caption>
<col css="width: 25%;"/>
<col css="width: 25%;"/>
<tbody>
<tr>
<th>Value</th>
<th>Equivalent</th>
</tr>
<tr>
<td><code>bottom <loc href="#style-value-length">&lt;length-v&gt;</loc> left <loc href="#style-value-length">&lt;length-h&gt;</loc></code></td>
<td><code>left <loc href="#style-value-length">&lt;length-h&gt;</loc> top (100% - <loc href="#style-value-length">&lt;length-v&gt;</loc>)</code></td>
</tr>
<tr>
<td><code>bottom <loc href="#style-value-length">&lt;length-v&gt;</loc> right <loc href="#style-value-length">&lt;length-h&gt;</loc></code></td>
<td><code>left (100% - <loc href="#style-value-length">&lt;length-h&gt;</loc>) top (100% - <loc href="#style-value-length">&lt;length-v&gt;</loc>)</code></td>
</tr>
<tr>
<td><code>left <loc href="#style-value-length">&lt;length-h&gt;</loc> bottom <loc href="#style-value-length">&lt;length-v&gt;</loc></code></td>
<td><code>left <loc href="#style-value-length">&lt;length-h&gt;</loc> top (100% - <loc href="#style-value-length">&lt;length-v&gt;</loc>)</code></td>
</tr>
<tr>
<td><code>right <loc href="#style-value-length">&lt;length-h&gt;</loc> bottom <loc href="#style-value-length">&lt;length-v&gt;</loc></code></td>
<td><code>left (100% - <loc href="#style-value-length">&lt;length-h&gt;</loc>) top (100% - <loc href="#style-value-length">&lt;length-v&gt;</loc>)</code></td>
</tr>
<tr>
<td><code>right <loc href="#style-value-length">&lt;length-h&gt;</loc> top <loc href="#style-value-length">&lt;length-v&gt;</loc></code></td>
<td><code>left (100% - <loc href="#style-value-length">&lt;length-h&gt;</loc>) top <loc href="#style-value-length">&lt;length-v&gt;</loc></code></td>
</tr>
<tr>
<td><code>top <loc href="#style-value-length">&lt;length-v&gt;</loc> left <loc href="#style-value-length">&lt;length-h&gt;</loc></code></td>
<td><code>left <loc href="#style-value-length">&lt;length-h&gt;</loc> top <loc href="#style-value-length">&lt;length-v&gt;</loc></code></td>
</tr>
<tr>
<td><code>top <loc href="#style-value-length">&lt;length-v&gt;</loc> right <loc href="#style-value-length">&lt;length-h&gt;</loc></code></td>
<td><code>left (100% - <loc href="#style-value-length">&lt;length-h&gt;</loc>) top <loc href="#style-value-length">&lt;length-v&gt;</loc></code></td>
</tr>
</tbody>
</table>
<p>If a <loc href="#style-value-length">&lt;length&gt;</loc> <loc href="#terms-component">component</loc> is expressed as a percentage, then that percentage is interpreted in relation to
some reference dimension, where the reference dimension is defined by the context of use.</p>
<p>A <loc href="#style-value-length">&lt;length&gt;</loc> <loc href="#terms-component">component</loc> of a &lt;position&gt; expression may be positive or negative. Positive lengths are interpreted as
insets from the referenced edge, while negative lengths are interpreted as outsets from the referenced edge. For example, an inset from the <code>left</code>
edge is located to the right of that edge (if non-zero), while an outset from the <code>left</code> edge is located to the left of that edge (if non-zero). In
contrast, an inset from the <code>right</code> edge is located to the left of that edge (if non-zero), while an outset from the <code>right</code> edge
is located to the right of that edge (if non-zero). A similar arrangement holds for <code>top</code> and <code>bottom</code> edges.</p>
<p>When performing four <loc href="#terms-component">component</loc> equivalent conversion, the expression <code>(100% - <loc href="#style-value-length">&lt;length-h&gt;</loc>)</code>
is to be interpreted as the difference between 100% and the percentage equivalent of the <loc href="#style-value-length">&lt;length-h&gt;</loc>
expression. Similarly, the expression <code>(100% - <loc href="#style-value-length">&lt;length-v&gt;</loc>)</code>
is to be interpreted as the difference between 100% and the percentage equivalent of the <loc href="#style-value-length">&lt;length-v&gt;</loc> expression.
In both cases, the resulting difference may be a negative percentage.</p>
</div3>
<div3 id="style-value-ruby-reserve">
<head>&lt;ruby-reserve&gt;</head>
<p>A &lt;ruby-reserve&gt; expression is used to reserve space for the placement of <termref def="defs-ruby-text-content">ruby text content</termref>.</p>
<table id="ruby-reserve-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;ruby-reserve&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;ruby-reserve&gt;
  : "none"
  | ("both" | <loc href="#style-value-annotation-position">&lt;annotation-position&gt;</loc>) (<loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> <loc href="#style-value-length">&lt;length&gt;</loc>)?
</eg>
</td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-value-shadow">
<head>&lt;shadow&gt;</head>
<p>A &lt;shadow&gt; value expresses a shadow decoration to be applied to a generated area. If
the generated area is a <loc href="#terms-glyph-area">glyph area</loc>, then it applies to the outline of the glyph
(not the <loc href="#terms-glyph-area">glyph area</loc> bounding box). If the generated area is not a <loc href="#terms-glyph-area">glyph area</loc>,
then it applies to the border rectangle of the area.</p>
<table id="shadow-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;shadow&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;shadow&gt;
  : <loc href="#style-value-length">&lt;length&gt;</loc> <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> <loc href="#style-value-length">&lt;length&gt;</loc> (<loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> <loc href="#style-value-color">&lt;color&gt;</loc>)?
  | <loc href="#style-value-length">&lt;length&gt;</loc> <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> <loc href="#style-value-length">&lt;length&gt;</loc> <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> <loc href="#style-value-length">&lt;length&gt;</loc> (<loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> <loc href="#style-value-color">&lt;color&gt;</loc>)?
</eg>
</td>
</tr>
</tbody>
</table>
<p>A shadow value expression consists of
two to three <loc href="#style-value-length">&lt;length&gt;</loc> terms and
an optional <loc href="#style-value-color">&lt;color&gt;</loc> term,
where terms are separated from one another by linear white space (LWSP).</p>
<p>The first <loc href="#style-value-length">&lt;length&gt;</loc> term denotes the offset
along the <loc href="#terms-horizontal-axis">horizontal axis</loc> dimension of the associated area,
where positive denotes towards the right edge and negative towards the left edge,
the second <loc href="#style-value-length">&lt;length&gt;</loc> term denotes the offset
along the <loc href="#terms-vertical-axis">vertical axis</loc> dimension of the associated area,
where positive denotes towards the bottom edge and negative towards the top edge.
The third <loc href="#style-value-length">&lt;length&gt;</loc> term, if present, denotes the blur radius, and must be non-negative.</p>
<p>If no blur radius is specified, i.e., only two <loc href="#style-value-length">&lt;length&gt;</loc> terms are present,
then the computed value of <code>0px</code> applies.</p>
<p>If no <loc href="#style-value-color">&lt;color&gt;</loc> term is
present, then the computed value of the <att>tts:color</att> property applies.</p>
<note role="elaboration">
<p>When a <loc href="#style-value-length">&lt;length&gt;</loc> expressed in
cells is used in a <att>tts:textShadow</att> value,
the cell&apos;s dimension in the block progression dimension applies.
For example, if text shadow thickness is specified as 0.1c, the cell resolution
is 20 by 10, and the extent of the <loc href="#terms-root-container-region">root container region</loc> is 640 by 480, then the
shadow thickness will be a nominal 480 / 10 * 0.1 pixels, i.e., 4.8px,
without taking into account rasterization effects.</p>
</note>
</div3>
<div3 id="style-value-text-combine">
<head>&lt;text-combine&gt;</head>
<p>A &lt;text-combine&gt; expression is used to determine the behavior of text combination effects in vertical text.</p>
<table id="text-combine-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;text-combine&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;text-combine&gt;
  : "none"
  | "all"
</eg>
</td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-value-text-decoration">
<head>&lt;text-decoration&gt;</head>
<p>A &lt;text-decoration&gt; expression is used to determine the behavior of text decoration effects.</p>
<table id="text-decoration-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;text-decoration&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;text-decoration&gt;
  : "none"
  | (("underline" | "noUnderline") || ("lineThrough" | "noLineThrough") || ("overline" | "noOverline"))
</eg>
</td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-value-text-emphasis">
<head>&lt;text-emphasis&gt;</head>
<p>A &lt;text-emphasis&gt; expression is used to determine the behavior of text emphasis effects.</p>
<table id="text-emphasis-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;text-emphasis&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;text-emphasis&gt;
  : <loc href="#style-value-emphasis-style">&lt;emphasis-style&gt;</loc> || <loc href="#style-value-emphasis-color">&lt;emphasis-color&gt;</loc> || <loc href="#style-value-emphasis-position">&lt;emphasis-position&gt;</loc>
</eg>
</td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-value-text-outline">
<head>&lt;text-outline&gt;</head>
<p>A &lt;text-outline&gt; expression is used to determine the behavior of text outline effects.</p>
<table id="text-outline-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;text-outline&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;text-outline&gt;
  : "none"
  | (<loc href="#style-value-color">&lt;color&gt;</loc> <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>)? <loc href="#style-value-length">&lt;length&gt;</loc> (<loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> <loc href="#style-value-length">&lt;length&gt;</loc>)?
</eg>
</td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-value-text-shadow">
<head>&lt;text-shadow&gt;</head>
<p>A &lt;text-shadow&gt; expression is used to determine the behavior of text shadow effects.</p>
<table id="text-shadow-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;text-shadow&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;text-shadow&gt;
  : "none"
  | <loc href="#style-value-shadow">&lt;shadow&gt;</loc> (<loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? "," <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? <loc href="#style-value-shadow">&lt;shadow&gt;</loc>)*
</eg>
</td>
</tr>
</tbody>
</table>
</div3>
<div3 id="style-value-whitespace">
<head>&lt;whitespace&gt;</head>
<p>A &lt;whitespace&gt; value is used to express a common whitespace characters.</p>
<table id="whitespace-style-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;whitespace&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;whitespace&gt;
  : ( " " | "\t" | "\n" | "\r" )
</eg>
</td>
</tr>
</tbody>
</table>
</div3>
</div2> <!-- styling-style-value-expressions -->
<div2 id="semantics-styling">
<head>Styling Semantics</head>
<p>This section defines the semantics of style resolution in terms of
a standard processing model as follows:</p>
<ulist>
<item><p><specref ref="semantics-style-association"/></p></item>
<item><p><specref ref="semantics-style-inheritance"/></p></item>
<item><p><specref ref="semantics-style-resolution-value-categories"/></p></item>
<item><p><specref ref="semantics-style-resolution-processing"/></p></item>
</ulist>
<p>Any implementation of this model is permitted provided that the
externally observable results are consistent with the results produced
by this model.</p>
<note role="derivation">
<p>The semantics of style resolution employed here are based upon
<bibref ref="xslfo11"/>, &sect;5.</p>
</note>
<div3 id="semantics-style-association">
<head>Style Association</head>
<p>Style association is a sub-process of <specref
ref="semantics-style-resolution-processing"/> used to determine the
specified style set of each content and
layout element.</p>
<p>Style matter may be associated with content
 and layout matter in a number of ways:</p>
<ulist>
<item><p><loc href="#semantics-style-association-inline">inline styling</loc></p></item>
<item><p><loc href="#semantics-style-association-referential">referential styling</loc></p></item>
<item><p><loc href="#semantics-style-association-chained-referential">chained referential styling</loc></p></item>
</ulist>
<p>In addition to the above, style matter may be associated with layout matter using:</p>
<ulist>
<item><p><loc href="#semantics-style-association-nested">nested styling</loc></p></item>
</ulist>
<div4 id="semantics-style-association-inline">
<head>Inline Styling</head>
<p>Style properties may be expressed in an inline manner by direct
specification of a <loc href="#terms-styling-attribute">styling attribute</loc> on the
affected element. When expressed in this manner, the association of
style information is referred to as <emph>inline styling</emph>.</p>
<p>Style properties associated by inline styling are afforded a higher priority than all other
forms of style association.</p>
<table id="style-association-example-1" role="example">
<caption>Example &ndash; Inline Styling</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;p <phrase role="strong">tts:color="white"</phrase>&gt;White 1&nbsp;&lt;span <phrase role="strong">tts:color="yellow"</phrase>&gt;Yellow&lt;/span&gt;&nbsp;White 2&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<note role="explanation">
<p>In the above example, the two <termref def="defs-text-node">text nodes</termref> <code>"White 1 "</code> and
<code>" White 2"</code>, which are interpreted as <loc href="#terms-anonymous-span">anonymous spans</loc>, are not
associated with a color style property; rather, they inherit their color style
from their parent <el>p</el> element as described in <specref
ref="semantics-style-inheritance-content"/> below.  </p>
</note>
</div4>
<div4 id="semantics-style-association-referential">
<head>Referential Styling</head>
<p>Style properties may be expressed in an out-of-line manner and referenced by the
affected element using the <att>style</att> attribute. When expressed in this manner,
the association of style information is referred to as <emph>referential styling</emph>.</p>
<p>If a <att>style</att> attribute specifies multiple references, then those references are
evaluated in the specified order, and that order applies to resolution of the value of a
style property in the case that it is specified along multiple reference paths.</p>
<p>The use of referential styling is restricted to making
reference to <el>style</el> element descendants of a <el>styling</el>
element. It is <termref def="defs-considered-an-error">considered an error</termref> to reference a <el>style</el>
element that is a descendant of a <el>layout</el> element, in which case, the presentation semantics are not defined by this specification.</p>
<note role="explanation">
<p>The use of referential styling encourages the reuse of style specifications while
sacrificing locality of reference.</p>
</note>
<note role="explanation">
<p>A <loc href="#terms-content-element">content element</loc> may be associated with style properties by a hybrid mixture of
inline and referential styling, in which case inline styling is given priority as described above
by <specref ref="semantics-style-association-inline"/>.</p>
</note>
<table id="style-association-example-2" role="example">
<caption>Example &ndash; Referential Styling</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;style <phrase role="strong">xml:id="s1"</phrase> tts:color="white"/&gt;
&lt;style <phrase role="strong">xml:id="s2"</phrase> tts:color="yellow"/&gt;
...
&lt;p <phrase role="strong">style="s1"</phrase>&gt;White 1&nbsp;&lt;span <phrase role="strong">style="s2"</phrase>&gt;Yellow&lt;/span&gt;&nbsp;White 2&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<note role="explanation">
<p>In the above example, the two <termref def="defs-text-node">text nodes</termref> <code>"White 1 "</code> and
<code>" White 2"</code>, which are interpreted as <loc href="#terms-anonymous-span">anonymous spans</loc>, are not
associated with a color style property; rather, they inherit their color style
from their parent <el>p</el> element as described in <specref
ref="semantics-style-inheritance-content"/> below.</p>
</note>
</div4>
<div4 id="semantics-style-association-chained-referential">
<head>Chained Referential Styling</head>
<p>Style properties may be expressed in an out-of-line manner and may themselves reference
other out-of-line style properties, thus creating a chain of references starting at the
affected element. When expressed in this manner, the association of style information
is referred to as <emph>chained referential styling</emph>.</p>
<p>A loop in a sequence of chained style references must be <termref def="defs-considered-an-error">considered an error</termref>.</p>
<p>The use of referential styling is restricted to making
reference to <el>style</el> element descendants of a <el>styling</el>
element. It is <termref def="defs-considered-an-error">considered an error</termref> to reference a <el>style</el>
element that is a descendant of a <el>layout</el> element, in which case, the presentation semantics are not defined by this specification.</p>
<note role="explanation">
<p>The use of chained referential styling encourages the grouping of style specifications
into general and specific sets, which further aids in style specification reuse.</p>
</note>
<note role="explanation">
<p>A <loc href="#terms-content-element">content element</loc> may be associated with style properties by a hybrid mixture of
inline, referential styling, and chained referential styling, in which case inline styling is
given priority as described above by <specref ref="semantics-style-association-inline"/>.</p>
</note>
<table id="style-association-example-3" role="example">
<caption>Example &ndash; Chained Referential Styling</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;style <phrase role="strong">xml:id="s1"</phrase> tts:color="white" tts:fontFamily="monospaceSerif"/&gt;
&lt;style <phrase role="strong">xml:id="s2"</phrase> <phrase role="strong">style="s1"</phrase> tts:color="yellow"/&gt;
...
&lt;p <phrase role="strong">style="s1"</phrase>&gt;White Monospace&lt;/p&gt;
&lt;p <phrase role="strong">style="s2"</phrase>&gt;Yellow Monospace&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<note role="explanation">
<p>In the above example, the text of the second paragraph is yellow, since <code>tts:color="yellow"</code>
 effectively overwrites (is merged over) the <code>tts:color="white"</code> that style <code>s2</code> obtains by a reference to style
  <code>s1</code>.</p>
</note>
</div4>
<div4 id="semantics-style-association-nested">
<head>Nested Styling</head>
<p>Style properties may be expressed in a nested manner by direct specification of one or
more <el>style</el> element children of the affected element.
When expressed in this manner, the association of style information
is referred to as <emph>nested styling</emph>.</p>
<p>Style properties associated by nested styling are afforded a lower priority than inline
styling but with higher priority than referential styling.</p>
<table id="style-association-example-4" role="example">
<caption>Example &ndash; Nested Styling</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region xml:id="r1"&gt;
  <phrase role="strong">&lt;style tts:extent="128px 66px"/&gt;</phrase>
  <phrase role="strong">&lt;style tts:origin="0px 0px"/&gt;</phrase>
  <phrase role="strong">&lt;style tts:displayAlign="center"/&gt;</phrase>
&lt;/region&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<note role="clarification">
<p>In this version of TTML, nested styling applies only
to the <el>region</el> element.</p>
</note>
</div4>
</div3>
<div3 id="semantics-style-inheritance">
<head>Style Inheritance</head>
<p>Style inheritance is a sub-process of <specref
ref="semantics-style-resolution-processing"/> used to determine the
specified style set of each content and
layout element.</p>
<p>Styles are further propagated to content matter
using:
</p>
<ulist>
<item><p><loc href="#semantics-style-inheritance-content">content style inheritance</loc></p></item>
<item><p><loc href="#semantics-style-inheritance-region">region style inheritance</loc></p></item>
</ulist>
<p>For the purpose of determining inherited styles, the element hierarchy of
an intermediate synchronic document form of a <loc href="#terms-document-instance">document instance</loc> must be used, where
such intermediate forms are defined by <specref ref="semantics-region-layout-step-1"/>.</p>
<note role="explanation">
<p>The intermediate synchronic document form is utilized rather than
the original form in order to facilitate region inheritance
processing.</p>
</note>
<div4 id="semantics-style-inheritance-content">
<head>Content Style Inheritance</head>
<p>Style properties are inherited from ancestor <loc href="#terms-content-element">content elements</loc>
within an intermediate synchronic document
if a style property is not associated with a <loc href="#terms-content-element">content element</loc> (or
an <loc href="#terms-anonymous-span">anonymous span</loc>) and the style property is designated as
inheritable.</p>
<p>If a style property is determined to require inheritance, then the inherited value must
be the value of the same named style property in the computed
style set of the
element&apos;s nearest ancestor element that defines the property
within the applicable intermediate synchronic document.</p>
<table id="style-inheritance-example-2" role="example">
<caption>Example &ndash; Content Style Inheritance</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;p <phrase role="strong">tts:fontFamily="monospaceSansSerif"</phrase>&gt;
  &lt;span tts:color="yellow"&gt;Yellow Monospace&lt;/span&gt;
&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<note role="explanation">
<p>In the above example, the <el>span</el> element that encloses the character items
<code>Yellow Monospace</code> does not specify a <att>tts:fontFamily</att> style
property and this property is inheritable; therefore, the value of the
<att>tts:fontFamily</att> style
is inherited from the computed style
set of the ancestor <el>p</el> element,
and is added to the
specified
style
set of the <el>span</el> element.</p>
</note>
</div4>
<div4 id="semantics-style-inheritance-region">
<head>Region Style Inheritance</head>
<p>Style properties are inherited from a <loc href="#layout-vocabulary-region">region</loc> element in the following case:</p>
<olist>
<item><p>if an inheritable <loc href="#semantics-style-property">style property</loc> <emph>P</emph> is not associated with
a <loc href="#terms-content-element">content element</loc>
or an <loc href="#terms-anonymous-span">anonymous span</loc> <emph>E</emph>, and</p></item>
<item><p>if that <loc href="#semantics-style-property">style property</loc> <emph>P</emph> is in the computed style
set of region <emph>R</emph>, and</p></item>
<item><p>if that element <emph>E</emph> is flowed into (presented within) region
<emph>R</emph>.</p></item>
</olist>
<table id="style-inheritance-example-3" role="example">
<caption>Example &ndash; Region Style Inheritance</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region <phrase role="strong">xml:id="r1"</phrase>&gt;
&nbsp;&nbsp;&lt;style tts:color="yellow"/&gt;
&nbsp;&nbsp;&lt;style tts:fontFamily="monospaceSerif"/&gt;
&lt;/region&gt;
...
&lt;p <phrase role="strong">region="r1"</phrase>&gt;Yellow Monospace&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<note role="explanation">
<p>In the above example, the <loc href="#terms-anonymous-span">anonymous span</loc> that encloses the character
items <code>Yellow Monospace</code> effectively inherits the <att>tts:color</att>
and <att>tts:fontFamily</att> styles specified on the <el>region</el>
element into which the <el>p</el> element is flowed (presented).</p>
</note>
</div4>
</div3>
<div3 id="semantics-style-resolution-value-categories">
<head>Style Resolution Value Categories</head>
<p>During style resolution, layout, and presentation processing,
three categories of <loc href="#semantics-style-property">style property</loc> values are distinguished as
follows:</p>
<ulist>
<item><p><loc href="#semantics-style-resolved-value-category-specified">specified values</loc></p></item>
<item><p><loc href="#semantics-style-resolved-value-category-computed">computed values</loc></p></item>
<item><p><loc href="#semantics-style-resolved-value-category-used">used values</loc></p></item>
<item><p><loc href="#semantics-style-resolved-value-category-actual">actual values</loc></p></item>
</ulist>
<div4 id="semantics-style-resolved-value-category-specified">
<head>Specified Values</head>
<p>The value of a <loc href="#semantics-style-property">style property</loc> that is associated with or inherited
by an element or <loc href="#terms-anonymous-span">anonymous span</loc>
is referred to as a <termdef id="defs-specified-value" term=""><term>specified value</term></termdef>.
The set of all specified style properties of a given element is referred to
as the <termdef id="defs-specified-style-set" term=""><term>specified style set</term></termdef> of that element.</p>
</div4>
<div4 id="semantics-style-resolved-value-category-computed">
<head>Computed Values</head>
<p>When style properties are specified using relative value expressions,
such as a named color, a relative unit (e.g., cell), or a percentage, then
they need to be further resolved into absolute units, such as an RGB triple,
pixels, etc.</p>
<p>During the style resolution process, a specified style value may be
reinterpreted (or recalculated) in absolute terms, and then recorded as a
<termdef id="defs-computed-value" term=""><term>computed values</term></termdef>. The
set of all computed style properties of a given element is referred to
as the <termdef id="defs-computed-style-set" term=""><term>computed style set</term></termdef> of that element.</p>
<p>When a style value is inherited, either explicitly or implicitly, it
is the computed value of the style that is inherited from an ancestor
element. This is required since the resolution of certain relative units,
such as percentage, require evaluating the expression in the immediate
(local) context of reference, and not in a distant (remote) context of
reference where the related (resolving) expression is not available.</p>
</div4>
<div4 id="semantics-style-resolved-value-category-used">
<head>Used Values</head>
<p>Subsequent to style inheritance, a computed value may require further resolution at layout or presentation time
when such resolution is required by the semantics of a specific property or the
information required to perform the resolution is not available until layout or
presentation processing occurs. Such a value is referred to as a
<termdef id="defs-used-value" term=""><term>used value</term></termdef>,
which need not be the same value as the final <termref def="defs-actual-value">actual value</termref>
described below.</p>
<note role="elaboration">
<p>The determination of a <termref def="defs-used-value">used value</termref> is always preceded by the
inheritance of a computed value; that is to say, <termref def="defs-used-value">used value</termref>
computation is nominally performed after the <specref ref="semantics-style-resolution-process-overall"/> completes.</p>
</note>
<note role="seealso">
<p>See also <bibref ref="css2"/>, &sect;6.1.3.</p>
</note>
</div4>
<div4 id="semantics-style-resolved-value-category-actual">
<head>Actual Values</head>
<p>During the actual presentation process, other transformations occur
that map some value expressions to concrete, physical values. For example,
the colors of computed style values are further subjected to closest color
approximation and gamma correction
during the display process. In addition, length value expressions that use
pixels in computed style values are considered to express logical rather than
physical (device) pixels. Consequently, these <termref def="defs-logical-pixel">logical pixels</termref> are subject to
being further transformed or mapped to physical (device) pixels during
presentation.</p>
<p>The final value that results from the logical to device mapping
process is referred to as an <termdef id="defs-actual-value" term=""><term>actual value</term></termdef>.  The set of all
actual style properties of a given element is referred to as the
<emph>actual style set</emph> of that element.</p>
<note role="elaboration">
<p>More than one set of actual values may be produced during the
process of presentation. For example, a TTML <loc href="#terms-presentation-processor">presentation processor</loc>
device may output an RGBA component video signal which is then
further transformed by an NTSC or PAL television to produce a final
image. In this case, both color and dimensions may further be modified
prior to presentation.</p>
</note>
<note role="explanation">
<p>In general, a TTML <loc href="#terms-presentation-processor">presentation processor</loc> will not have access
to actual style set values; as a consequence, no further use or reference
to actual values is made below when formally describing the style
resolution process.</p>
</note>
</div4>
</div3>
<div3 id="semantics-style-resolution-processing">
<head>Style Resolution Processing</head>
<p>The process of style resolution is defined herein as the procedure
(and results thereof) for resolving (determining) the computed values
of all style properties that apply to content and layout elements:</p>
<ulist>
<item><p><specref ref="semantics-style-resolution-processing-definitions"/></p></item>
<item><p><specref ref="semantics-style-resolution-processing-sss"/></p></item>
<item><p><specref ref="semantics-style-resolution-processing-css"/></p></item>
<item><p><specref ref="semantics-style-resolution-process-overall"/></p></item>
</ulist>
<p>The process described here forms an integral sub-process of
<specref ref="semantics-region-layout"/>.</p>
<div4 id="semantics-style-resolution-processing-definitions">
<head>Conceptual Definitions</head>
<p>For the purpose of interpreting the style resolution processing
model specified below, the following conceptual definitions apply:</p>
<glist>
<gitem id="semantics-style-property">
<label>[style property]</label>
<def>
<p></p>
<p>A style property, <emph>P</emph>, is considered to consist of a
tuple <code>[name, value]</code>, where the name of the
property is a tuple <code>[namespace value,
unqualified name]</code> and the value of the property is a
tuple <code>[category, type, value expression]</code>, where <emph>P</emph> represents the
interned (instantiated) state associated with a specified or defaulted <loc href="#terms-styling-attribute">styling attribute</loc>.</p>
<table id="conceptual-definition-example-style-property" role="example">
<caption>Example &ndash; conceptual style property</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
[
  ["http://www.w3.org/ns/ttml#styling", "color"],
  ["specified", <emph>color</emph>, "red"]
]
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
</def>
</gitem>
<gitem id="semantics-style-property-set">
<label>[style (property) set]</label>
<def>
<p></p>
<p>A style (property) set consists of an unordered collection of style
properties, where no two style properties within the set have an
identical name, where by "identical name" is meant equality of
namespace value of name tuple and unqualified name of name tuple.</p>
<p>In a specified style (property) set, the category of each style
property is "specified"; a specified style (property) set of an
element <emph>E</emph> is referred to as <emph>SSS(E)</emph>.</p>
<table id="conceptual-definition-example-specified-style-set" role="example">
<caption>Example &ndash; conceptual (specified) style (property) set</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
{
  [
    ["http://www.w3.org/ns/ttml#styling", "backgroundColor"],
    ["specified", <emph>color</emph>, 0x00FF00 ]
  ],
  [
    ["http://www.w3.org/ns/ttml#styling", "color"],
    ["specified", <emph>color</emph>, "red" ]
  ],
  [
    ["http://www.w3.org/ns/ttml#styling", "fontSize"],
    ["specified", <emph>length</emph>, "1c" ]
  ],
  [
    ["http://www.w3.org/ns/ttml#styling", "lineHeight"],
    ["specified", <emph>length</emph>, "117%" ]
  ]
}
</eg>
</td>
</tr>
</tbody>
</table>
<p>In a computed style (property) set, the category of each style
property is either "specified" or "computed"; a computed style (property) set of an element
<emph>E</emph> is referred to as <emph>CSS(E)</emph>.</p>
<table id="conceptual-definition-example-computed-style-set" role="example">
<caption>Example &ndash; conceptual (computed) style (property) set</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
{
  [
    ["http://www.w3.org/ns/ttml#styling", "backgroundColor"],
    ["specified", <emph>color</emph>, 0x00FF00 ]
  ],
  [
    ["http://www.w3.org/ns/ttml#styling", "color"],
    ["computed", <emph>color</emph>, 0xFF0000 ]
  ],
  [
    ["http://www.w3.org/ns/ttml#styling", "fontSize"],
    ["computed", <emph>length</emph>, "24px" ]
  ],
  [
    ["http://www.w3.org/ns/ttml#styling", "lineHeight"],
    ["computed", <emph>length</emph>, "28px" ]
  ]
}
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
</def>
</gitem>
<gitem>
<label>[style (property) merging]</label>
<def>
<p></p>
<p>A <loc href="#semantics-style-property">style property</loc> <emph>P<sub>new</sub></emph> is merged into a
style (property) set, <emph>SS</emph>, as follows: if a <loc href="#semantics-style-property">style property</loc>
<emph>P<sub>old</sub></emph> is already present in <emph>SS</emph>
where the name of <emph>P<sub>new</sub></emph> is identical to the
name of <emph>P<sub>old</sub></emph>&thinsp;, then replace
<emph>P<sub>old</sub></emph> in <emph>SS</emph> with
<emph>P<sub>new</sub></emph>&thinsp;; otherwise, add
<emph>P<sub>new</sub></emph> to <emph>SS</emph>.</p>
</def>
</gitem>
<gitem>
<label>[style (property) set merging]</label>
<def>
<p></p>
<p>A style (property) set <emph>SS<sub>new</sub></emph> is merged into
an existing style (property) set <emph>SS<sub>old</sub></emph> as
follows: for each <loc href="#semantics-style-property">style property</loc> <emph>P<sub>new</sub></emph> in
<emph>SS<sub>new</sub></emph>&thinsp;, merge <emph>P<sub>new</sub></emph> into
<emph>SS<sub>old</sub></emph>&thinsp;.</p>
</def>
</gitem>
</glist>
</div4>
<div4 id="semantics-style-resolution-processing-sss">
<head>Specified Style Set Processing</head>
<p>The specified style set <emph>SSS</emph> of an element or
<loc href="#terms-anonymous-span">anonymous span</loc> <emph>E</emph>,
<emph>SSS(E)</emph>, is determined according to the following ordered
rules:</p>
<olist>
<!-- 1. [initialization] -->
<item><p><phrase role="strong">[initialization]</phrase> initialize
the specified style set <emph>SSS</emph> of <emph>E</emph> to the
empty set;</p></item>
<!-- 2. [referential and chained styling] -->
<item><p><phrase role="strong">[referential and chained referential
styling]</phrase> for each <el>style</el> element <emph>S<sub>REF</sub></emph>
referenced by a <att>style</att> attribute specified on
<emph>E</emph>, and in the order specified in the <att>style</att>
attribute, then, if <emph>S<sub>REF</sub></emph> is a descendant
of a <el>styling</el> element,
merge the specified style set of
<emph>S<sub>REF</sub></emph>&thinsp;, <emph>SSS(S<sub>REF</sub>)</emph>, into
the specified style set of <emph>E</emph>,
<emph>SSS(E)</emph>;</p></item>
<!-- 3. [nested styling] -->
<item><p><phrase role="strong">[nested styling]</phrase>
if <emph>E</emph> is not <loc href="#terms-conditionally-excluded">conditionally excluded</loc>, then
for each nested <loc href="#terms-conditionally-excluded">conditionally included</loc> <el>style</el> element child <emph>S<sub>NEST</sub></emph> of
<emph>E</emph>, and in the specified order of child elements, merge
the specified style set of <emph>S<sub>NEST</sub></emph>&thinsp;,
<emph>SSS(S<sub>NEST</sub>)</emph>, into the specified style set of
<emph>E</emph>, <emph>SSS(E)</emph>;</p></item>
<!-- 4. [inline styling] -->
<item><p><phrase role="strong">[inline styling]</phrase>
if <emph>E</emph> is not <loc href="#terms-conditionally-excluded">conditionally excluded</loc>, then
for each <loc href="#semantics-style-property">style property</loc> <emph>P</emph> interned (instantiated)
from a specified <loc href="#terms-styling-attribute">styling attribute</loc> of <emph>E</emph>,
merge <emph>P</emph> into the specified style
set of <emph>E</emph>, <emph>SSS(E)</emph>;</p></item>
<!-- 5. [animation styling] -->
<item><p><phrase role="strong">[animation styling]</phrase> if the
element type of <emph>E</emph> is not an <loc href="#terms-inline-animation">inline animation</loc> element,
then for each <loc href="#terms-conditionally-excluded">conditionally included</loc>
<loc href="#terms-inline-animation">inline animation</loc> element child <emph>A</emph> of element <emph>E</emph>,
merge the <loc href="#terms-animatable-style">animatable styles</loc> of the specified style set of <emph>A</emph>,
<emph>SSS(A)</emph>, into the specified style set of <emph>E</emph>, <emph>SSS(E)</emph>;</p></item>
<!-- step 6 -->
<item>
<p><phrase role="strong">[implicit inheritance and initial value fallback]</phrase> if the
element type of <emph>E</emph> is not in the <loc href="#element-vocab-group-animation"><code>Animation.class</code></loc> element group
and is not styling element type <el>style</el>,
then for each <loc href="#semantics-style-property">style property</loc> <emph>P</emph> interned (instantiated) from a 
<loc href="#terms-styling-attribute">styling attribute</loc>, perform the following ordered sub-steps:</p>
<olist>
<!-- (a) -->
<item>
<p>if <emph>P</emph> is present in the specified
style set of <emph>E</emph>, <emph>SSS(E)</emph>, then continue to the
next <loc href="#semantics-style-property">style property</loc>;</p>
</item>
<!-- (b) -->
<item>
<p>if <emph>P</emph> is inheritable and <emph>E</emph> is
not a <loc href="#layout-vocabulary-region"><el>region</el></loc> element, then perform the following:</p>
<ulist>
<item>
<p>set <emph>P&prime;</emph> to the result of
looking up the value of <emph>P</emph> in the computed style set of
the nearest ancestor element of <emph>E</emph>, <emph>NEAREST-ANCESTOR(E)</emph>, such that
<emph>CSS(NEAREST-ANCESTOR(E))</emph> contains a definition of <emph>P</emph>;</p>
</item>
</ulist>
</item>
<!-- (c) -->
<item>
<p>if (1) <emph>P</emph> is inheritable and <emph>E</emph> is a <loc href="#layout-vocabulary-region"><el>region</el></loc> element
or (2) if <emph>P</emph> is not inheritable and <emph>P</emph> applies to <emph>E</emph>, then perform the following:</p>
<ulist>
<item><p>set <emph>P&prime;</emph> to the initial value of
property <emph>P</emph>, where the initial value of a property is
determined as follows:</p>
<olist>
<item><p>if an <loc href="#styling-vocabulary-initial"><el>initial</el></loc>
element defines the initial value for <emph>P</emph>, then use that value;</p></item>
<item><p>otherwise, use the initial value specified by the property definition of <emph>P</emph>;</p></item>
</olist>
</item>
</ulist>
</item>
<!-- (d) -->
<item>
<p>if the value of <emph>P&prime;</emph> is not undefined, then merge
<emph>P&prime;</emph> into the specified style set of <emph>E</emph>,
<emph>SSS(E)</emph>.</p>
</item>
</olist>
</item>
</olist>
</div4>
<div4 id="semantics-style-resolution-processing-css">
<head>Computed Style Set Processing</head>
<p>The computed style set <emph>CSS</emph> of an element or
<loc href="#terms-anonymous-span">anonymous span</loc> <emph>E</emph>,
<emph>CSS(E)</emph>, is determined according to the following ordered
rules:</p>
<olist>
<item><p><phrase role="strong">[resolve specified styles]</phrase>
determine (obtain) the specified style set <emph>SSS</emph> of
<emph>E</emph>, namely, <emph>SSS(E)</emph>, in accordance with
<specref ref="semantics-style-resolution-processing-sss"/>;</p>
</item>
<item><p><phrase role="strong">[initialization]</phrase>
initialize <emph>CSS(E)</emph> to a (deep) copy of
<emph>SSS(E)</emph>;</p></item>
<item><p><phrase role="strong">[filter]</phrase> if
<emph>E</emph> is an <el>animate</el>, <el>set</el>, or <el>style</el> element, then return
<emph>CSS(E)</emph> as the resulting computed style set without
further resolution; otherwise, continue with the next rule;</p></item>
<item>
<p><phrase role="strong">[relative value resolution]</phrase> for each
<loc href="#semantics-style-property">style property</loc> <emph>P</emph> in <emph>CSS(E)</emph>, where the value
type of <emph>P</emph> is relative, perform the following ordered
sub-steps:</p>
<olist>
<item><p>if possible, replace the relative value of <emph>P</emph> with an
equivalent, non-relative (computed) value;</p></item>
<item><p>set the category of <emph>P</emph> to "computed".</p></item>
</olist>
</item>
</olist>
<note role="explanation">
<p>As a result of the filtering rule above, the computed style set of
an <el>animate</el>, <el>set</el>, or <el>style</el> element includes only specified values, in which case
relative value expressions remain relative; consequently, the
resolution of relative value expressions (that may be assigned by
means of referential style association) always takes place in the
context of a layout or <loc href="#terms-content-element">content element</loc> which has a presentation
context, and not in the non-presentation, declaration context
of an <el>animate</el>, <el>set</el>, or referable <el>style</el> element.</p>
</note>
<note role="clarification">
<p>Since the relative value resolution rule above may not resolve a relative value, for example,
when resolution cannot occur until layout or presentation time, further resolution of a
<termref def="defs-computed-value">computed value</termref>  may be required to obtain a
<termref def="defs-used-value">used value</termref>.</p>
</note>
</div4>
<div4 id="semantics-style-resolution-process-overall">
<head>Style Resolution Process</head>
<p>The top-level style resolution process is defined as follows: using
a preorder traversal of each element and <loc href="#terms-anonymous-span">anonymous span</loc>,
<emph>E</emph>, of an intermediate synchronic document,
<emph>DOC<sub>inter</sub></emph>&thinsp;, perform the following ordered
sub-steps:</p>
<olist>
<item><p><phrase role="strong">[filter]</phrase> if <emph>E</emph>
is not one of the following, then continue to the next element in the preorder traversal, i.e.,
do not perform the subsequent step below on <emph>E</emph>:</p>
<ulist>
<item><p><loc href="#animation-vocabulary-animate"><el>animate</el></loc></p></item>
<item><p><loc href="#embedded-content-vocabulary-audio"><el>audio</el></loc></p></item>
<item><p><loc href="#document-structure-vocabulary-body"><el>body</el></loc></p></item>
<item><p><loc href="#content-vocabulary-br"><el>br</el></loc></p></item>
<item><p><loc href="#content-vocabulary-div"><el>div</el></loc></p></item>
<item><p><loc href="#embedded-content-vocabulary-image"><el>image</el></loc></p></item>
<item><p><loc href="#content-vocabulary-p"><el>p</el></loc></p></item>
<item><p><loc href="#layout-vocabulary-region"><el>region</el></loc></p></item>
<item><p><loc href="#content-vocabulary-span"><el>span</el></loc></p></item>
<item><p><loc href="#animation-vocabulary-set"><el>set</el></loc></p></item>
<item><p><loc href="#styling-vocabulary-style"><el>style</el></loc></p></item>
<item><p><loc href="#terms-anonymous-span">anonymous span</loc></p></item>
</ulist>
<p>or a <loc href="#terms-styled-element">styled element</loc> defined in a supported <loc href="#terms-extension-module">extension module</loc>;</p>
</item>
<item><p> <phrase role="strong">[resolve computed styles]</phrase>
determine (obtain) the computed style set <emph>CSS</emph> of
<emph>E</emph>, namely, <emph>CSS(E)</emph>, in accordance with
<specref ref="semantics-style-resolution-processing-css"/>.</p></item>
</olist>
</div4>
</div3>
<div3 id="semantics-style-procedures">
<head>Style Procedures</head>
<p>This section defines miscellaneous style related procedures referenced elsewhere in this specification.</p>
<div4 id="semantics-style-procedures-contain">
<head>Containment Calculations</head>
<glist>
<gitem>
<label>[compute containment scaling](<emph>inout</emph> target rectangle TR, <emph>in</emph> reference rectangle RR)</label>
<def>
<olist>
  <item><p>If the <termref def="defs-units">units</termref> of either target rectangle TR or reference rectangle RR are not expressed in
  <termref def="defs-logical-pixel">logical pixels</termref>  (i.e., <code>px</code> units), then convert the units as required to
  <termref def="defs-logical-pixel">logical pixels</termref>.</p></item>
  <item><p>If the width of the target rectangle TR, <emph>W<sub>t</sub></emph>&thinsp;, is zero, then set <emph>W<sub>t</sub></emph> to one;
  likewise, if the height of the target rectangle TR, <emph>H<sub>t</sub></emph>&thinsp;, is zero, then set <emph>H<sub>t</sub></emph> to one.</p></item>
  <item><p>Let <emph>SAR<sub>r</sub></emph> be the storage aspect ratio of the reference rectangle <emph>RR</emph>.</p></item>
  <item><p>Let <emph>SAR<sub>t</sub></emph> be the storage aspect ratio of the target rectangle <emph>TR</emph>.</p></item>
  <item>
    <p>Determine scaling factor <emph>SF</emph> as follows:</p>
    <olist>
      <item><p>If <emph>SAR<sub>r</sub></emph> is less than or equal to <emph>SAR<sub>t</sub></emph>&thinsp;, then <emph>SF</emph>
      is <emph>W<sub>r</sub></emph> / <emph>W<sub>t</sub></emph>&thinsp;, where <emph>W<sub>r</sub></emph> and <emph>W<sub>t</sub></emph>
      are the widths of the reference and target rectangles, respectively.</p></item>
      <item><p>Otherwise, <emph>SAR<sub>r</sub></emph> is greater than <emph>SAR<sub>t</sub></emph>&thinsp;, then <emph>SF</emph>
      is <emph>H<sub>r</sub></emph> / <emph>H<sub>t</sub></emph>&thinsp;, where <emph>H<sub>r</sub></emph> and <emph>H<sub>t</sub></emph>
      are the heights of the reference and target rectangles, respectively.</p></item>
    </olist>
  </item>
  <item><p>
  If <emph>SF</emph> is not equal to <emph>1.0</emph>, then
  set <emph>W<sub>t</sub></emph> to <emph>SF</emph> * <emph>W<sub>t</sub></emph>
  and <emph>H<sub>t</sub></emph> to <emph>SF</emph> * <emph>H<sub>t</sub></emph>&thinsp;,
  i.e., scale target rectangle <emph>TR</emph> in place by scale factor <emph>SF</emph>.
  </p></item>
</olist>
</def>
</gitem>
</glist>
<note role="explanation">
  <p>For the purpose of implementing the above algorithm, storage aspect ratios and scaling factors are
  to be represented in a form that provides at least 7 significant decimal digits.</p>
</note>
</div4>  <!-- semantics-style-procedure-contain -->
<div4 id="semantics-style-procedures-cover">
<head>Cover Calculations</head>
<glist>
<gitem>
<label>[compute cover scaling](<emph>inout</emph> target rectangle TR, <emph>in</emph> reference rectangle RR)</label>
<def>
<olist>
  <item><p>If the <termref def="defs-units">units</termref> of either target rectangle TR or reference rectangle RR are not expressed in
  <termref def="defs-logical-pixel">logical pixels</termref>  (i.e., <code>px</code> units), then convert the units as required to
  <termref def="defs-logical-pixel">logical pixels</termref>.</p></item>
  <item><p>If the width of the target rectangle TR, <emph>W<sub>t</sub></emph>&thinsp;, is zero, then set <emph>W<sub>t</sub></emph> to one;
  likewise, if the height of the target rectangle TR, <emph>H<sub>t</sub></emph>&thinsp;, is zero, then set <emph>H<sub>t</sub></emph> to one.</p></item>
  <item><p>Let <emph>SF<sub>W </sub> </emph> be <emph>W<sub>R</sub> </emph>/<emph>W<sub>T</sub> </emph>, where
  <emph>W<sub>R</sub> </emph> and <emph>W<sub>T</sub> </emph> are the widths of the reference rectangle RR
  and the target rectangle TR, respectively.</p></item>
  <item><p>Let <emph>SF<sub>H </sub> </emph> be <emph>H<sub>R</sub> </emph>/<emph>H<sub>T</sub> </emph>, where
  <emph>H<sub>R</sub> </emph> and <emph>H<sub>T</sub> </emph> be the heights of the reference rectangle RR
  and the target rectangle TR, respectively.</p></item>
  <item><p>If <emph>SF<sub>W</sub> </emph> and <emph>SF<sub>H</sub> </emph> are greater than one, let <emph>SF</emph> be
  the lesser of <emph>SF<sub>W</sub> </emph> and <emph>SF<sub>H</sub> </emph>;
  otherwise, let  <emph>SF</emph> be the greater of <emph>SF<sub>W</sub> </emph> and <emph>SF<sub>H</sub> </emph>.</p></item>
  <item><p>
  If <emph>SF</emph> is not equal to <emph>1.0</emph>, then
  set <emph>W<sub>t</sub></emph> to <emph>SF</emph> * <emph>W<sub>t</sub></emph>
  and <emph>H<sub>t</sub></emph> to <emph>SF</emph> * <emph>H<sub>t</sub></emph>&thinsp;,
  i.e., scale target rectangle <emph>TR</emph> in place by scale factor <emph>SF</emph>.
  </p></item>
</olist>
</def>
</gitem>
</glist>
<note role="explanation">
  <p>For the purpose of implementing the above algorithm, scaling factors are
  to be represented in a form that provides at least 7 significant decimal digits.</p>
</note>
</div4>  <!-- semantics-style-procedure-cover -->
<div4 id="semantics-style-procedures-shear">
<head>Shear Calculations</head>
<p>A shear value is mapped to a shear angle by a linear function such that the shear angle is equal to the shear (percentage) value multiplied by 90 degrees.
If the shear value is <code>0%</code>, then no shear transformation is applied; if the value is <code>100%</code>, then a 2D shear transformation
of 90 degrees is applied in the axis associated with the inline progression direction; if the value is <code>-100%</code>, then a shear transformation
of -90 degrees is applied. If the absolute value of the specified percentage is greater than 100%, then it must be interpreted as if 100% were specified with
the appropriate sign.</p>
<note role="clarification">
<p>If the absolute value of the resulting shear angle is 90 degrees, then the
<termref def="defs-used-value">used value</termref> of the shear angle may be reduced by some small epsilon
so that the tangent of the <termref def="defs-used-value">used value</termref> is defined.</p>
</note>
<p>If the inline progression direction corresponds to the X axis, then the 2D shear transformation is described by the following matrix:</p>
<eg xml:space="preserve">
| 1 <emph>a</emph> 0 |
| 0 1 0 |
| 0 0 1 |
</eg>
<p>where <emph>a</emph> is equal to the tangent of the shear angle.</p>
<p>If the inline progression direction corresponds to the Y axis, then the 2D shear transformation is described by the following matrix:</p>
<eg xml:space="preserve">
| 1 0 0 |
| <emph>a</emph> 1 0 |
| 0 0 1 |
</eg>
</div4>  <!-- semantics-style-procedure-shear -->
</div3> <!-- semantics-style-procedures -->
</div2> <!-- semantics-styling -->
</div1> <!-- styling -->
<div1 id="layout">
<head>Layout</head>
<p>This section specifies the <emph>layout</emph> matter of the core
vocabulary catalog, where
layout is to be understood as a separable layer of information that applies to
content and that denotes authorial intentions about the presentation of
that content.</p>
<note role="elaboration">
<p>The two layers of layout and style matter are considered to be independently
separable. Layout matter specifies one or more spaces or areas into
which content is intended to be presented, while style matter specifies the manner in
which presentation occurs within the layout.</p>
<p>In certain cases, a content author may choose to embed (inline) style matter directly
into layout or content matter. In such cases, an alternative 
exists &ndash; use of referential styling &ndash;
in which the style
matter is not embedded (inlined).</p>
</note>
<div2 id="layout-element-vocabulary">
<head>Layout Element Vocabulary</head>
<p>The following elements specify the structure and principal layout aspects of a
<loc href="#terms-document-instance">document instance</loc>:</p>
<ulist>
<item><p><specref ref="layout-vocabulary-layout"/></p></item>
<item><p><specref ref="layout-vocabulary-region"/></p></item>
</ulist>
<div3 id="layout-vocabulary-layout">
<head>layout</head>
<p>The <el>layout</el> element is a container element used to group
out-of-line layout matter, including metadata that applies to layout matter.</p>
<p>The <el>layout</el> element accepts as its children zero or more
elements in the <loc href="#element-vocab-group-metadata"><code>Metadata.class</code></loc> element group, followed by
zero or more <el>region</el> elements.</p>
<table id="elt-syntax-layout" role="syntax">
<caption>XML Representation &ndash; Element Information Item: layout</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;layout
  <loc href="#content-attribute-xml-base">xml:base</loc> = <loc href="#content-value-uri">&lt;uri&gt;</loc>
  <loc href="#content-attribute-xml-id">xml:id</loc> = ID
  <loc href="#content-attribute-xml-lang">xml:lang</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  <loc href="#content-attribute-xml-space">xml:space</loc> = (<emph>"default"</emph> | <emph>"preserve"</emph>)
  <emph>Content:</emph> <loc href="#element-vocab-group-metadata">Metadata.class</loc>*, <loc href="#layout-vocabulary-region">region</loc>*
&lt;/layout&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>To the extent that time semantics apply to the content of the
<el>layout</el> element, the implied time interval of this element is
defined to be coterminous with the <loc href="#terms-root-temporal-extent">root temporal extent</loc>.</p>
</div3>
<div3 id="layout-vocabulary-region">
<head>region</head>
<p>The <el>region</el> element is used to define a rectangular space or area into which content is
to be flowed for the purpose of presentation.</p>
<p>A <el>region</el> element may appear as either (1) a child of a
<loc href="#layout-vocabulary-layout">layout</loc> element or (2) a child of elements
in the <loc href="#element-vocab-group-block">Block.class</loc> element group.
In the former case, the region is referred to as an <loc href="#terms-out-of-line-region">out-of-line region</loc>, while in the latter
case, it is referred to as an <loc href="#terms-inline-region">inline region</loc>.</p>
<p>In addition, and in accordance with
<specref ref="semantics-style-inheritance-region"/>, 
the <el>region</el> element may be used to specify inheritable style properties to be
inherited by content that is flowed into it.</p>
<p>The <el>region</el> element accepts as its children zero or more
elements in the <loc href="#element-vocab-group-metadata"><code>Metadata.class</code></loc> element group,
followed by zero or more
elements in the <loc href="#element-vocab-group-animation"><code>Animation.class</code></loc> element group,
followed by
zero or more <el>style</el> elements.</p>
<p>Any metadata specified by children in the <loc href="#element-vocab-group-metadata"><code>Metadata.class</code></loc>
element group applies semantically to the <el>region</el> element and its descendants as a whole.
Any animation elements specified by children in the <loc href="#element-vocab-group-animation"><code>Animation.class</code></loc>
element group apply semantically to the <el>region</el> element.
Any <el>style</el> child element must be considered a local style
definition that applies only to the containing <el>region</el>
element, i.e., does not apply for resolving referential styling (but does apply for region
style inheritance).</p>
<table id="elt-syntax-region" role="syntax">
<caption>XML Representation &ndash; Element Information Item: region</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;region
  <loc href="#animation-attribute-animate">animate</loc> = IDREFS
  <loc href="#timing-attribute-begin">begin</loc> = <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc>
  <loc href="#content-attribute-condition">condition</loc> = <loc href="#content-value-condition">&lt;condition&gt;</loc>
  <loc href="#timing-attribute-dur">dur</loc> = <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc>
  <loc href="#timing-attribute-end">end</loc> = <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc>
  <loc href="#style-attribute-style">style</loc> = IDREFS
  <loc href="#timing-attribute-timeContainer">timeContainer</loc> = (<emph>"par"</emph> | <emph>"seq"</emph>)
  <loc href="#metadata-attribute-role">ttm:role</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  <loc href="#content-attribute-xml-base">xml:base</loc> = <loc href="#content-value-uri">&lt;uri&gt;</loc>
  <loc href="#content-attribute-xml-id">xml:id</loc> = ID
  <loc href="#content-attribute-xml-lang">xml:lang</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  <loc href="#content-attribute-xml-space">xml:space</loc> = (<emph>"default"</emph> | <emph>"preserve"</emph>)
  {<emph>any <loc href="#terms-styling-attribute">styling attributes</loc></emph>}
  <emph>Content:</emph> <loc href="#element-vocab-group-metadata">Metadata.class</loc>*, <loc href="#element-vocab-group-animation">Animation.class</loc>*, <loc href="#styling-vocabulary-style">style</loc>*
&lt;/region&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>An <loc href="#terms-out-of-line-region">out-of-line</loc> <el>region</el> element may specify one or more of the timing attributes:
<att>begin</att>, <att>end</att>, <att>dur</att>. An <loc href="#terms-inline-region">inline</loc> <el>region</el> element must not
specifiy a timing attribute, and, if specified, must be ignored for the purpose
of presentation processing.</p>
<p>If <att>begin</att> and (or) <att>end</att> attributes are specified on an out-of-line
<el>region</el> element, then they specify the beginning and (or) ending points
of a time interval during which the region is eligible for activation and with
respect to which animation child elements of the region are timed.
If specified, these begin and end points are relative to the time
interval of the nearest ancestor element associated with a time
interval, irregardless of whether that interval is explicit or implied.
The nearest ancestor element of an out-of-line <el>region</el> element that is associated
with a time interval is the <el>layout</el> element.
If a <att>dur</att> attribute is specified on an out-of-line <el>region</el> element, then it
specifies the simple duration of the region.</p>
<p>The active time interval of an <loc href="#terms-inline-region">inline</loc> <el>region</el> element is the
active time interval of its parent <loc href="#terms-content-element">content element</loc>.</p>
<p>For the purpose of determining the semantics of presentation processing, a
region that is temporally inactive must not produce any visible marks when
presented on a visual medium.</p>
<note role="motivation">
<p>An <loc href="#terms-out-of-line-region">out-of-line</loc> <el>region</el> element may be associated with a time interval for two
purposes: (1) in order to temporally bound the presentation of the region and
its content, and (2) to provide a temporal context in which animations of region
styles may be effected.</p>
<p>For example, an author may wish to specify an <loc href="#terms-out-of-line-region">out-of-line</loc> <el>region</el> element that is otherwise empty, but
may have a visible background color to be presented starting at some time and
continuing over the region&apos;s duration.  The simple duration of the region serves
additionally to scope the presentation effects of content that is targeted to the
region. An author may also wish to move a region within the <loc href="#terms-root-container-region">root container region</loc>
or change a region&apos;s background color by means of animation effects. In
both of these cases, it is necessary to posit an active time interval for a
region.</p>
<p>In contrast to <loc href="#terms-out-of-line-region">out-of-line regions</loc>, <loc href="#terms-inline-region">inline regions</loc> are specifically bound to
the temporal context of their parent <loc href="#terms-content-element">content elements</loc>,
and, as such, do not require (or admit) the specification of independent timing.</p>
</note>
<p>If no <att>timeContainer</att> attribute is specified on
a <el>region</el> element, then it must be interpreted as having
<emph>parallel</emph> time containment semantics.</p>
<p>If both <loc href="#style-attribute-origin"><att>tts:origin</att></loc> and <loc href="#style-attribute-position"><att>tts:position</att></loc> attributes are present
on a <el>region</el> element, then the <loc href="#style-attribute-origin"><att>tts:origin</att></loc> must be ignored for the purpose of presentation processing.
If neither <loc href="#style-attribute-origin"><att>tts:origin</att></loc> nor <loc href="#style-attribute-position"><att>tts:position</att></loc> attribute is present, then
the semantics of the initial value of the <loc href="#style-attribute-position"><att>tts:position</att></loc> attribute apply for the purpose of presentation processing.</p>
<p>If a <loc
href="#metadata-attribute-role"><att>ttm:role</att></loc> attribute is
specified on a <el>region</el> element, then it must adhere to the
value syntax defined by <specref
ref="metadata-attribute-role-syntax"/>, and where the roles identified
by this attribute express the semantic roles of the region
independently from the semantic roles of any content targeted to
(associated with) the region.</p>
<div4 id="layout-vocabulary-region-special-inline-animation-semantics">
<head>Special Semantics of Inline Animation</head>
<p>When specified on a <loc href="#content-vocabulary-div"><el>div</el></loc> or <loc href="#content-vocabulary-p"><el>p</el></loc> element <emph>E</emph>,
the following style attributes apply exceptionally to the <el>region</el> <emph>R</emph> associated with <emph>E</emph> as further specified below:</p>
<ulist>
  <item><p><loc href="#style-attribute-disparity"><att>tts:disparity</att></loc></p></item>
  <item><p><loc href="#style-attribute-extent"><att>tts:extent</att></loc></p></item>
  <item><p><loc href="#style-attribute-origin"><att>tts:origin</att></loc></p></item>
  <item><p><loc href="#style-attribute-position"><att>tts:position</att></loc></p></item>
</ulist>
<p>In such cases, the application of each of these style attributes is considered to be
equivalent to an anonymous <loc href="#terms-inline-animation">inline animation</loc> taking
the form of a <loc href="#animation-vocabulary-set"><el>set</el></loc> animation element <emph>A</emph>, where the
animation applies to <emph>R</emph> over an active time interval equivalent to the active time
interval of <emph>E</emph>, and where, if multiple animation elements
(<emph>A<sub>i</sub></emph>&thinsp;, ..., <emph>A<sub>j</sub></emph>) already apply to <emph>R</emph>,
then <emph>A</emph> applies subsequent to the last of these existing animations, namely, immediately after <emph>A<sub>j</sub></emph>.</p>
<note role="clarification">
<p>In the event that multiple anonymous <loc href="#terms-inline-animation">inline animations</loc> of the same style attribute are
applied to some region <emph>R</emph>, then the corresponding
<loc href="#animation-vocabulary-set"><el>set</el></loc> animation elements, <emph>A<sub>j</sub></emph>&thinsp;, ..., <emph>A<sub>k</sub></emph>&thinsp;, 
are added to <emph>R</emph> according to the pre-order traversal order of elements <emph>E<sub>j</sub></emph>&thinsp;, ..., <emph>E<sub>k</sub></emph> that
produced these animations.</p>
<p>Note also that the semantics of applying multiple animations to a specific style attribute for a given element are
governed by step (5), <phrase role="strong">[animation styling]</phrase>, of <specref ref="semantics-style-resolution-processing-sss"/>.</p>
</note>
<p>These special semantics are depicted by the following model example using a <att>tts:extent</att> style attribute,
but which model applies generally to all the above listed style attributes:</p>
<table id="anonymous-inline-set-example-extent-input" role="example">
<caption>Example &ndash; Anonymous Inline Animation of Region - Input Fragment</caption>
<tbody>
<tr>
<td>
<eg>
&lt;region xml:id="r1" <phrase role="strong">tts:extent="80% 10%"</phrase> .../&gt;
...
&lt;p region="r1" begin="10s" end="12s" <phrase role="strong">tts:extent="70% 20%"</phrase>&gt;change extent&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>In the above input fragment example, a <att>tts:extent</att> attribute is specified on a paragraph (<el>p</el>) element
which, without loss of generality, is assigned to the time interval <code>[10s,12s)</code>. This attribute
is then used to synthesize an anonymous animation in the form of a <el>set</el> element in the following output fragment, with the attribute copied
into the <el>set</el> element along with equivalent timing attributes. The original <att>tts:extent</att> is then
removed from the paragraph (<el>p</el>).</p>
<table id="anonymous-inline-set-example-extent-output" role="example">
<caption>Example &ndash; Anonymous Inline Animation of Region - Equivalent Output Fragment</caption>
<tbody>
<tr>
<td>
<eg>
&lt;region xml:id="r1" <phrase role="strong">tts:extent="80% 10%"</phrase> ...&gt;
  &lt;set begin="10s" end="12s" <phrase role="strong">tts:extent="70% 20%"</phrase>&lt;/set&gt;
&lt;/region&gt;
...
&lt;p region="r1" begin="10s" end="12s"&gt;change extent&lt;/p&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>The resulting output fragment shows that the original extent of the region is retained, but that
the child animation overrides this extent during the indicated time interval, thus producing an effect of (temporarily) changing
the extent of the region as desired.</p>
</div4>
</div3>
</div2> <!-- layout-element-vocabulary -->
<div2 id="layout-attribute-vocabulary">
<head>Layout Attribute Vocabulary</head>
<p>This section defines the <specref ref="layout-attribute-region"/> attribute used with <loc href="#terms-content-element">content elements</loc>.</p>
<div3 id="layout-attribute-region">
<head>region</head>
<p>The <att>region</att> attribute is used to reference a <el>region</el>
element which defines a space or area into which a <loc href="#terms-content-element">content element</loc> is intended to be flowed.</p>
<p>If specified, the value of a <att>region</att> attribute must
adhere to the <code>IDREF</code> data type defined by <bibref ref="xsd-2"/>,
&sect;3.3.9, and, furthermore, this IDREF must reference a <el>region</el> element
which has a <el>layout</el> element as an ancestor.</p>
<p>The <att>region</att> attribute may be specified by an instance of the following
element types:</p>
<ulist>
<item><p><loc href="#document-structure-vocabulary-body"><el>body</el></loc></p></item>
<item><p><loc href="#content-vocabulary-div"><el>div</el></loc></p></item>
<item><p><loc href="#content-vocabulary-p"><el>p</el></loc></p></item>
<item><p><loc href="#content-vocabulary-span"><el>span</el></loc></p></item>
<item><p><loc href="#embedded-content-vocabulary-image"><el>image</el></loc></p></item>
</ulist>
<note role="elaboration">
<p>If a <loc href="#layout-vocabulary-region"><el>region</el></loc> element referenced by
a <att>region</att> attribute is <loc href="#terms-conditionally-excluded">conditionally excluded</loc>,
then that region is not associated with the element on which the <att>region</att> attribute is specified.</p>
</note>
<note role="seealso">
<p>See <specref ref="semantics-region-layout"/> below for further information on content
flow in a region.</p>
</note>
</div3>
</div2> <!-- layout-attribute-vocabulary -->
<div2 id="semantics-layout">
<head>Layout Semantics</head>
<div3 id="semantics-region-layout">
<head>Region Layout and Presentation</head>
<p>This section defines the semantics of region layout and
presentation in terms of a standard processing model as
follows:</p>
<ulist>
<item><p><specref ref="semantics-default-region"/></p></item>
<item><p><specref ref="semantics-inline-regions"/></p></item>
<item><p><specref ref="semantics-region-layout-step-1"/></p></item>
<item><p><specref ref="semantics-region-layout-step-2"/></p></item>
<item><p><specref ref="semantics-region-layout-example"/></p></item>
</ulist>
<p>Any
implementation is permitted provided that the externally observable
results are consistent with the results produced by this model.
</p>
<div4 id="semantics-default-region">
<head>Default Region</head>
<p>If a <loc href="#terms-document-instance">document instance</loc> does not specify an
<loc href="#terms-out-of-line-region">out-of-line region</loc>,
then a <emph>default region</emph> is implied with the following characteristics:</p>
<ulist>
<item>
<p>the identity of the default region is considered to be an anonymous <loc href="#terms-out-of-line-region">out-of-line region</loc>;</p>
</item>
<item>
<p>the extent of the default region is the same as the extent of the <loc href="#terms-root-container-region">root container region</loc>;</p>
</item>
<item>
<p>the temporal interval of the default region is the same as the interval defined by the <loc href="#terms-root-temporal-extent">root temporal extent</loc>;</p>
</item>
</ulist>
<p>Furthermore, if no
<loc href="#terms-out-of-line-region">out-of-line region</loc> is specified, then the
<loc href="#layout-attribute-region"><att>region</att></loc> attribute must
not be specified on any <loc href="#terms-content-element">content element</loc> in the <loc href="#terms-document-instance">document instance</loc>.</p>
<p>If a default region is implied for a given <loc href="#terms-document-instance">document instance</loc>, then
the <loc href="#document-structure-vocabulary-body"><el>body</el></loc> element
is implicitly targeted to (associated with) the default region.</p>
<p>When implying a default region, the <loc href="#terms-document-instance">document instance</loc> is to be
treated as if a <loc
href="#layout-vocabulary-region"><el>region</el></loc> element and its
parent <loc href="#layout-vocabulary-layout"><el>layout</el></loc>
element were specified in a <loc
href="#document-structure-vocabulary-head"><el>head</el></loc>
element, and a matching <loc
href="#layout-attribute-region"><att>region</att></loc> attribute were
specified on the <loc
href="#document-structure-vocabulary-body"><el>body</el></loc> element
as shown in the following example:</p>
<table id="semantics-default-region-example" role="example">
<caption>Example &ndash; Implied Default Region</caption>
<tbody>
<tr>
<td>
<eg>
&lt;tt xml:lang="" xmlns="http://www.w3.org/ns/ttml"&gt;
  &lt;head&gt;
    <phrase role="strong">&lt;layout&gt;
      &lt;region xml:id="anonymous"/&gt;
    &lt;/layout&gt;</phrase>
  &lt;/head&gt;
  &lt;body <phrase role="strong">region="anonymous"</phrase>/&gt;
&lt;/tt&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<note role="explanation">
<p>In the above example, a default <el>region</el> element and <att>region</att>
attribute are implied. In addition, a <el>layout</el> container element is implied for
the implied <el>region</el> element.</p>
</note>
</div4>
<div4 id="semantics-inline-regions">
<head>Inline Regions</head>
<p>An <loc href="#terms-inline-region">inline region</loc> is a syntactic mechanism for specifying a
<loc href="#terms-region">region</loc> in a way that minimizes the syntactic distance between a region
specification and the content that references that region. Semantically, each
<loc href="#terms-inline-region">inline region</loc> is equivalent to specifying a unique
<loc href="#terms-out-of-line-region">out-of-line region</loc> referenced implicitly only by the
<loc href="#terms-content-element">content element</loc> in whose context the
<loc href="#terms-inline-region">inline region</loc> is specified (or implied).</p>
<p>An <loc href="#terms-inline-region">inline region</loc> is declared
by specifying a <loc href="#layout-vocabulary-region"><el>region</el></loc> element
child of a <loc href="#terms-content-element">content element</loc>
in the <loc href="#element-vocab-group-block">Block.class</loc> element group, which is
referred to as an <termdef id="defs-inline-region-specification" term=""><term>inline region specification</term></termdef>.</p>
<p>Inline regions are processed in accordance with the procedure
<phrase role="strong"><loc href="#procedure-process-inline-regions">[process inline regions]</loc></phrase>
which generates out-of-line regions that correspond with
inline regions. This procedure additionally binds <loc href="#terms-content-element">content elements</loc> associated with inline regions
to the corresponding generated out-of-line regions.</p>
<note role="elaboration">
<p>A <loc href="#terms-content-element">content element</loc> can be associated with only a single
<loc href="#terms-region">region</loc> (within a given <loc href="#terms-intermediate-synchronic-document">intermediate synchronic document</loc>),
either by an attribute specification or via a child <loc href="#layout-vocabulary-region"><el>region</el></loc> element. Consequently,
if a <loc href="#terms-content-element">content element</loc> specifies a <loc href="#layout-attribute-region"><att>region</att></loc> attribute, then any 
<termref def="defs-inline-region-specification">inline region specification</termref> is ignored.</p>
</note>
<glist>
<gitem id="procedure-process-inline-regions">
<label>[process inline regions]</label>
<def>
<p></p>
<p>For each <loc href="#terms-content-element">content element</loc> <emph>B</emph>
in the <loc href="#element-vocab-group-block">Block.class</loc> element group,
perform the following ordered steps:</p>
<olist>
<item>
<p>if the <code>[attributes]</code> information item property of <emph>B</emph> contains a
<loc href="#layout-attribute-region"><att>region</att></loc> attribute, then exit this procedure</p>
</item>
<item>
<p>if the <code>[children]</code> information item property of <emph>B</emph> does not contain
a <loc href="#layout-vocabulary-region"><el>region</el></loc> element <emph>R</emph>, then exit this procedure;</p>
</item>
<item><p>create an empty <loc href="#layout-vocabulary-region"><el>region</el></loc> element <emph>R&apos;&nbsp;</emph>,
initialized as follows:</p>
<ulist>
<item>
<p>set the <code>[children]</code> information item property of <emph>R&apos;&nbsp;</emph> to a deep copy of
the <code>[children]</code> information item property of <emph>R</emph>;</p>
</item>
<item>
<p>set the <code>[attributes]</code> information item property of <emph>R&apos;&nbsp;</emph> to a deep copy of
the <code>[attributes]</code> information item property of <emph>R</emph>;</p>
</item>
<item>
<p>if the <code>[attributes]</code> information item property of <emph>R&apos;&nbsp;</emph> does not include
an <att>xml:id</att> attribute, then add an implied <att>xml:id</att> attribute with a generated value
<emph>ID</emph> that is unique within the scope of the TTML <loc href="#terms-document-instance">document instance</loc>;
otherwise, let <emph>ID</emph> be the value of the <att>xml:id</att> attribute of <emph>R&apos;&nbsp;</emph>;</p>
</item>
<item>
<p>if present, remove the following attributes from the <code>[attributes]</code> information item property of <emph>R&apos;&nbsp;</emph>:
<att>begin</att>,
<att>dur</att>, and
<att>end</att>;</p>
</item>
<item>
  <p>add <att>begin</att> and <att>end</att> attributes to the <code>[attributes]</code> information item property of <emph>R&apos;&nbsp;</emph>
  as follows:</p>
  <olist>
    <item><p>if not operating in smpte time base and discontinuous marker mode, then set the values of these <att>begin</att> and <att>end</att>
    attributes to values equivalent to the respective active begin and end times of <emph>B</emph> within the 
    <loc href="#terms-document-temporal-coordinate-space">document temporal coordinate space</loc>;</p></item>
    <item><p>otherwise (smpte discontinuous mode), set the values of these <att>begin</att> and <att>end</att>
    attributes to values that correspond to the labeled synchronization events (markers) that apply to the respective begin and end times of
    <emph>B</emph> within the <loc href="#terms-document-temporal-coordinate-space">document temporal coordinate space</loc>;</p></item>
  </olist>
</item>
</ulist>
</item>
<item>
<p>if the TTML <loc href="#terms-document-instance">document instance</loc> does not have a
<loc href="#document-structure-vocabulary-head"><el>head</el></loc> element, then insert an empty
<loc href="#document-structure-vocabulary-head"><el>head</el></loc> element as the first child of
the <loc href="#document-structure-vocabulary-tt"><el>tt</el></loc> element;</p>
</item>
<item>
<p>if the <loc href="#document-structure-vocabulary-head"><el>head</el></loc> element does not have
a <loc href="#layout-vocabulary-layout"><el>layout</el></loc> child element, then insert an empty
<loc href="#layout-vocabulary-layout"><el>layout</el></loc> element immediately after a
<loc href="#styling-vocabulary-styling"><el>styling</el></loc> element, if present, and immediately before an
<loc href="#animation-vocabulary-animation"><el>animation</el></loc> element, if present, or as the last child of
the <loc href="#document-structure-vocabulary-head"><el>head</el></loc> element if neither are present;</p>
</item>
<item>
<p>append <emph>R&apos;&nbsp;</emph> to the <code>[children]</code> information item property of the
<loc href="#layout-vocabulary-layout"><el>layout</el></loc> element child of the 
<loc href="#document-structure-vocabulary-head"><el>head</el></loc> element;</p>
</item>
<item>
<p>add a <loc href="#layout-attribute-region"><att>region</att></loc> attribute with value <emph>ID</emph> to the <code>[attributes]</code> information
item property of <emph>B</emph>;</p>
</item>
<item>
<p>remove <emph>R</emph> from the <code>[children]</code> information item property of <emph>B</emph>.</p>
</item>
</olist>
</def>
</gitem>
</glist>
<p>The use of an <termref def="defs-inline-region-specification">inline region specification</termref>
and the resulting generated out-of-line region is shown by the following examples.</p>
<table id="semantics-inline-region-input-example" role="example">
<caption>Example &ndash; Inline Region Specification</caption>
<tbody>
<tr>
<td>
<eg>
&lt;tt xml:lang="" xmlns="http://www.w3.org/ns/ttml"&gt;
  &lt;head/&gt;
  &lt;body&gt;
    &lt;div begin="5s" dur="10s"&gt;
      <phrase role="strong">&lt;region tts:extent="540px 100px" tts:origin="50px 339px"/&gt;</phrase>
      &lt;p&gt;Some Content&lt;/p&gt;
    &lt;div/&gt;
  &lt;body/&gt;
&lt;/tt&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<table id="semantics-generated-out-of-line-region-example" role="example">
<caption>Example &ndash; Generated Out-of-line Region</caption>
<tbody>
<tr>
<td>
<eg>
&lt;tt xml:lang="" xmlns="http://www.w3.org/ns/ttml"&gt;
  &lt;head&gt;
    <phrase role="strong">&lt;layout&gt;
      &lt;region xml:id="region3451" begin="5s" end="15s"
        tts:extent="540px 100px" tts:origin="50px 339px"/&gt;
    &lt;/layout&gt;</phrase>
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div begin="5s" dur="10s" <phrase role="strong">region="region3451"</phrase>&gt;
      &lt;p&gt;Some Content&lt;/p&gt;
    &lt;div/&gt;
  &lt;body/&gt;
&lt;/tt&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<note role="elaboration">
<p>Take note that, in the above pair of examples, the timing attributes on the generated out-of-line region
make use of an <code>end</code> attribute rather than the original <code>dur</code> attribute of the
<loc href="#content-vocabulary-div"><el>div</el></loc> parent element of the inline <loc href="#layout-vocabulary-region"><el>region</el></loc>
element. This translation from <code>dur</code> to <code>end</code> is required by the above procedure in order to specify the
active time interval of the generated out-of-line region within the root temporal extent.</p>
</note>
<note role="elaboration">
<p>The region ID generated in this example, <code>region3451</code>, is implementation dependent, with the only requirement being that it be a valid value
of the <loc href="#content-attribute-xml-id"><att>xml:id</att></loc> attribute, which includes being unique within the scope of the document instance.</p>
</note>
</div4>
<div4 id="semantics-region-layout-step-1">
<head>Intermediate Synchronic Document Construction</head>
<p>For the purpose of performing presentation processing, (1) invoke the
<phrase role="strong"><loc href="#procedure-resolve-timing">[resolve timing]</loc></phrase> procedure, and then, (2) invoke
the <phrase role="strong"><loc href="#procedure-construct-intermediate-document">[construct intermediate document]</loc></phrase> procedure.</p>
<glist>
<gitem id="procedure-resolve-timing">
<label>[resolve timing]</label>
<def>
<olist>
<item>
<p>optionally, invoke procedure <phrase role="strong"><loc href="#procedure-construct-anonymous-spans">[construct anonymous spans]</loc></phrase>;
otherwise, if not invoked at this time, then resolve the implicit duration for each <termref def="defs-text-node">text node</termref> that would have had its
implicit duration resolved had this procedure been invoked;</p>
</item>
<item>
<p>divide the <loc href="#terms-root-temporal-extent">root temporal extent</loc>
into an ordered sequence
of time coordinates <code>{T<sub>0</sub>, T<sub>1</sub>, T<sub>2</sub>, ...}</code> where, at each time coordinate <code>T<sub>i</sub></code>,
some element becomes temporally active or inactive.</p>
</item>
</olist>
</def>
</gitem>
<gitem id="procedure-construct-anonymous-spans">
<label>[construct anonymous spans]</label>
<def>
<p></p>
<p>Perform the following ordered steps:</p>
<olist>
<item><p>for each <loc href="#terms-significant-text-node">significant text node</loc> child of a <loc href="#terms-content-element">content element</loc>,
synthesize an <loc href="#terms-anonymous-span">anonymous span</loc> to enclose the <termref def="defs-text-node">text node</termref>, substituting
the new <loc href="#terms-anonymous-span">anonymous span</loc> for the original <termref def="defs-text-node">text node</termref> child in its sibling
and parent hierarchy;</p></item>
<item><p>for each contiguous sequence of <loc href="#terms-anonymous-span">anonymous spans</loc>, replace the
sequence with a single <loc href="#terms-anonymous-span">anonymous span</loc> which contains a sequence of
<termref def="defs-text-node">text nodes</termref> representing the individual <termref def="defs-text-node">text node</termref> children of the
original sequence of <loc href="#terms-anonymous-span">anonymous spans</loc>;</p></item>
<item><p>for each span element whose child is a single <loc href="#terms-anonymous-span">anonymous span</loc>,
replace the <loc href="#terms-anonymous-span">anonymous span</loc> with its sequence of child <termref def="defs-text-node">text nodes</termref>.</p></item>
</olist>
</def>
</gitem>
<gitem id="procedure-construct-intermediate-document">
<label>[construct intermediate document]</label>
<def>
<p></p>
<p>For each time interval obtained from the <phrase role="strong"><loc href="#procedure-resolve-timing">[resolve timing]</loc></phrase> procedure,
where each such interval consists of a sequential pair of the time coordinates <code>(T<sub>i</sub>,T<sub>i+1</sub>)</code>,
that is, <code>(T<sub>0</sub>,T<sub>1</sub>)</code>, <code>(T<sub>1</sub>,T<sub>2</sub>)</code>, &hellip;, map the current
<loc href="#terms-document-instance">document instance</loc> from its original, source form,
<emph>DOC<sub>source</sub></emph>&thinsp;, to an intermediate synchronic document form, <emph>DOC<sub>inter</sub></emph>&thinsp;, according to the
following ordered steps:</p>
<olist>
<item>
<p>invoke procedure <phrase role="strong"><loc href="#procedure-process-inline-regions">[process inline regions]</loc></phrase>;</p>
</item>
<item>
<p>for each <loc href="#terms-temporally-active-region">temporally active region</loc> <emph>R</emph>, replicate the
sub-tree
 of <emph>DOC<sub>source</sub></emph>
headed by the <el>body</el> element;</p>
</item>
<item>
<p>evaluating this sub-tree in a postorder traversal, prune elements if any of the following conditions is true:</p>
<olist>
<item><p>they are not a <loc href="#terms-presentation-related-element">presentation related element</loc>
<!-- ttml1 uses "neither a <loc href="#element-vocab-type-content">Content</loc> nor <loc href="#element-vocab-type-animation">Animation</loc> elements" -->; or</p></item>
<item><p>they are temporally inactive; or</p></item>
<item><p>they are empty and neither <loc href="#element-vocab-type-animation">Animation</loc> elements nor <loc href="#content-vocabulary-br">br</loc> elements; or</p></item>
<item><p>they <!-- ttml1 "are <loc href="#element-vocab-type-content">Content</loc> elements and" -->aren&apos;t associated with region <emph>R</emph>
 according to the <phrase role="strong"><loc href="#procedure-associate-region">[associate region]</loc></phrase> procedure.</p></item>
</olist>
</item>
<item>
<p>if the pruned sub-tree is non-empty, then reparent it to the <emph>R</emph>
element;</p>
</item>
<item>
<p>finally, after completing the above steps, prune the original <el>body</el>
element from the intermediate document, then prune all <att>region</att>,
<att>begin</att>, <att>end</att>, and <att>dur</att> attributes, which are no
longer semantically relevant.</p>
</item>
</olist>
<note role="elaboration">
<p>In this section, the term <emph>prune</emph>, when used in reference to
an element, means that the element is to be removed from its parent&apos;s children,
which, in turn, implies that the descendants of the pruned element will no longer
be descendants of the element&apos;s parent. When <emph>prune</emph> is used in
reference to an attribute, it means that attribute is to be removed from its
associated (owning) <termref def="defs-element-node">element node</termref>.</p>
</note>
<note role="clarification">
<p>A compliant presentation processor is permitted to perform early style resolution as a post-processing step of the above procedure,
more about which see step (2) of the <loc href="#procedure-flow-transformation">[flow transformation]</loc> procedure.</p>
</note>
</def>
</gitem>
<gitem id="procedure-associate-region">
<label>[associate region]</label>
<def>
<p></p>
<p>A <loc href="#terms-content-element">content element</loc> is associated with a region according
to the following ordered rules, where the first rule satisfied
is used and remaining rules are skipped:</p>
<olist>
<item><p>if the element specifies a <loc
href="#layout-attribute-region"><att>region</att></loc> attribute
and that region is not <loc href="#terms-conditionally-excluded">conditionally excluded</loc>,
then the element is associated with the region referenced by that
attribute;</p></item>
<item><p>if some ancestor of that element specifies a <loc
href="#layout-attribute-region"><att>region</att></loc> attribute
and that region is not <loc href="#terms-conditionally-excluded">conditionally excluded</loc>,
then the element is associated with the region referenced by the most
immediate ancestor that specifies this attribute;</p></item>
<item><p> if the element contains a descendant element that
specifies a <loc
href="#layout-attribute-region"><att>region</att></loc> attribute
and that region is not <loc href="#terms-conditionally-excluded">conditionally excluded</loc>,
then the element is associated with the region referenced by that
attribute;</p></item>
<item><p>if a default region was implied (due to the absence of any
<loc href="#layout-vocabulary-region"><el>region</el></loc> element),
then the element is associated with the default region;</p></item>
<item><p>the element is not associated with any region.</p></item>
</olist>
</def>
</gitem>
</glist>
<p>The result of performing the processing described above will be a sequence of
<emph>N</emph> intermediate  synchronic
<loc href="#terms-document-instance">document instances</loc>,
<emph>DOC<sub><phrase>inter<sub>0</sub></phrase></sub></emph> &hellip;
<emph>DOC<sub><phrase>inter<sub>N&minus;1</sub></phrase></sub></emph>.</p>
<note id="semantics-smooth-scrolling-recommendation" role="elaboration">
<p>Where an implementation is able to detect significant similarity between two
adjacent synchronic <loc href="#terms-document-instance">document instances</loc>,
<emph>DOC<sub><phrase>inter<sub>N</sub></phrase></sub></emph>
<emph>DOC<sub><phrase>inter<sub>N&minus;1</sub></phrase></sub></emph>&thinsp;,
then the <loc href="#terms-processor">processor</loc> implementation can apply processing to make the transition between
presenting the two instances as smooth as possible, e.g., as described
by <bibref ref="cta608e"/>, &sect;C.3, and <bibref ref="ccreq"/>.</p>
</note>
</div4>
<div4 id="semantics-region-layout-step-2">
<head>Synchronic Flow Processing</head>
<p>Subsequent to performing a temporal (synchronic) slice and subsequent
remapping of regionally selected content hierarchy, the resulting intermediate
synchronic document is subjected to a flow transformation step that produces 
a rooted flow object tree represented as an XSL FO document instance as defined by <bibref ref="xslfo11"/>,
and semantically extended by TTML specific style properties that have no XSL
FO counterpart.</p>
<note>
<p>In this section, the use of XSL FO is intended to be conceptual only, employed
solely for the purpose of defining the normative presentation semantics of
TTML. An actual implementation of this algorithm is not required to create or process
XSL-FO representations. In particular, it is possible to implement these semantics
using alternative presentation models, such as Cascading Style Sheets (CSS).</p>
</note>
<note>
<p>Due to the possible presence of TTML style properties or style property values
in a given <loc href="#terms-document-instance">document instance</loc> for which there is no <bibref ref="xslfo11"/> counterpart,
Implementors should take note that it is the layout model of <bibref ref="xslfo11"/> that is being referenced
by this specification, not the requirement to use a compliant <bibref ref="xslfo11"/> formatting processor,
since such would not necessarily be sufficient to satisfy the full presentation semantics
defined by this specification, and would contain a large number of features not needed to
implement the presentation semantics of TTML.</p>
</note>
<p>For the purpose of performing presentation processing, for each intermediate synchronic document produced by
<specref ref="semantics-region-layout-step-1"/>, <emph>DOC<sub><phrase>inter<sub>i</sub></phrase></sub></emph>&thinsp;, (1) invoke the following
<phrase role="strong"><loc href="#procedure-flow-transformation">[flow transformation]</loc></phrase> procedure
to obtain an XSL FO document instance, <emph>F<sub>i</sub></emph>&thinsp;, and then (2) if processing requires presentation on a
visual medium, apply to <emph>F<sub>i</sub></emph> all relevant formatting and rendering semantics consistent with that prescribed
by <bibref ref="xslfo11"/> and this specification.</p>
<glist>
<gitem id="procedure-flow-transformation">
<label>[flow transformation]</label>
<def>
<olist>
<item>
<p>if not previously invoked, perform procedure
<phrase role="strong"><loc href="#procedure-construct-anonymous-spans">[construct anonymous spans]</loc></phrase>;</p>
<note role="clarification">
<p>A compliant presentation processor is permitted to perform this step at an earlier processing stage, in which case this step is not
repeated here. Note that if <loc href="#terms-anonymous-span">anonymous span</loc> construction occurs before intermediate synchronic document construction as defined by
<specref ref="semantics-region-layout-step-1"/>, then the intermediate synchronic document will contain <loc href="#terms-anonymous-span">anonymous spans</loc>.</p>
</note>
</item>
<item>
<p>resolve styles according to <specref ref="semantics-style-resolution-process-overall"/>;</p>
<note role="clarification">
<p>A compliant presentation processor is permitted to perform this step
as a post-processing step while performing the
<loc href="#procedure-construct-intermediate-document"><phrase role="strong">[construct intermediate document]</phrase></loc> procedure,
in which case each intermediate synchronic document produced by <specref ref="semantics-region-layout-step-1"/> will contain
<loc href="#terms-computed-style-set">computed style sets</loc>, and therefore, this step would not be repeated here.</p>
</note>
</item>
<item>
<p>map the <el>tt</el> element to an <el>fo:root</el> element, populated
initially with an <el>fo:layout-master-set</el> element that contains a valid
<el>fo:simple-page-master</el> that, in turn, contains an
<el>fo:region-body</el> child, where the extent of the <loc href="#terms-root-container-region">root container region</loc> expressed on the
<el>tt</el> element is mapped to <att>page-width</att> and
<att>page-height</att> attributes on the <el>fo:simple-page-master</el>
element;</p>
</item>
<item>
<p>map the <el>layout</el> element to an <el>fo:page-sequence</el> element and a
child <el>fo:flow</el> element that reference the page master and page region
defined by the simple page master produced above;</p>
<note role="elaboration">
<p>In an XSL FO area tree produced by formatting <emph>F</emph> using 
an <bibref ref="xslfo11"/> formatting processor, 
the <code>page-viewport-area</code>,
which is generated by <code>fo:page-sequence</code> element by
reference to the sole generated <code>fo:simple-page-master</code>
element, would correspond to the <loc href="#terms-root-container-region">root container region</loc> defined
above in <specref ref="definitions"/>.</p>
</note>
</item>
<item>
<p>map each non-empty <el>region</el> element to an <el>fo:block-container</el>
element with an <att>absolute-position</att> attribute with value
<code>absolute</code>, with <att>top</att>, <att>left</att>, <att>bottom</att>, and <att>right</att>
attributes that express a rectangle equivalent to the region&apos;s origin and
extent (including padding), and with a <att>line-stacking-strategy</att> attribute with value <code>line-height</code>;</p>
<note role="clarification">
<p>The region&apos;s extent corresponds with the allocation rectangle of the block area generated by the <code>fo:block-container</code>.</p>
</note>
<note role="clarification">
<p>When mapping a <el>region</el> element to <el>fo:block-container</el>, it may
be necessary to use a negative offset as a value for one or more of the
<att>top</att>, <att>left</att>, <att>bottom</att>, and <att>right</att>
XSL-FO properties in case the region extends outside of its containing block.</p>
</note>
</item>
<item>
<p>for each (1) <el>body</el>, <el>div</el>, and <el>p</el> element or (2) <el>image</el> element
in a block level context, i.e., an <el>image</el> child of an element
in the <loc href="#element-vocab-group-block">Block.class</loc> element group,
then, if the element is not associated with a <att>tts:display</att> style property with the value
<code>none</code>:</p>
<olist>
<item>
<p>if the element is not an <el>image</el> element, then map the element to a distinct <el>fo:block</el> element,
populating the style properties of <el>fo:block</el> by using the computed
style set associated with each original TTML <loc href="#terms-content-element">content element</loc>;</p>
</item>
<item>
<p>otherwise (the element is an <el>image</el> element), map the element to a distinct <el>fo:block</el> element
containing a single <el>fo:external-graphic</el> child element, 
populating the style properties of <el>fo:block</el> and <el>fo:external-graphic</el> by using the computed
style set associated with each original TTML <loc href="#terms-content-element">content element</loc>
and populating the <att>src</att> property of the <el>fo:external-graphic</el> element by using an appropriate
reference to the related <loc href="#terms-image-resource">image resource</loc>;</p>
</item>
</olist>
</item>
<item>
<p>for the resulting <el>fo:block</el> formatting object
produced in the previous step that corresponds to the <el>body</el>
element, invoke the following ordered sub-steps:</p>
<olist>
<item>
<p>if the <att>display-align</att> style property of this <el>fo:block</el>
has the value <code>center</code> or <code>after</code>,
then synthesize and insert as the first child of this <el>fo:block</el>
an empty <el>fo:block</el> with the following attributes:
<att>space-after.optimum</att>, <att>space-after.maximum</att>, and
<att>space-after.conditionality</att>, where the value of the former
two attributes is the height or width of the containing
<el>fo:block-container</el> element, whichever of these is designated
as the block progression dimension, and where the value of the last is
<code>retain</code>;</p>
</item>
<item>
<p>if the <att>display-align</att> style property of this <el>fo:block</el>
has the value <code>center</code> or <code>before</code>,
then synthesize and insert as the last child of this <el>fo:block</el>
an empty <el>fo:block</el> with the following attributes:
<att>space-after.optimum</att>, <att>space-after.maximum</att>, and
<att>space-after.conditionality</att>, where the value of the former
two attributes is the height or width of the containing
<el>fo:block-container</el> element, whichever of these is designated
as the block progression dimension, and where the value of the last is
<code>retain</code>;</p>
</item>
</olist>
<note role="explanation">
<p>The purpose of inserting additional, collapsible space in the block progression
dimension of the <el>fo:block</el> that corresponds with the <el>body</el> element
is to ensure that the before and after edges of this <el>fo:block</el> are coincident
with the before and after edges of the <el>fo:block-container</el> that corresponds
to the containing <el>region</el>, while simultaneously taking into account the needs
to satisfy alignment in the block progression dimension. For example, this assures that
the background color associated with the <el>body</el> element, if not <code>transparent</code>,
 will fill the containing region wholly.</p>
</note>
</item>
<item>
<p>for each (1) <el>span</el> element and <loc href="#terms-anonymous-span">anonymous span</loc>
 or (2) <el>image</el> element in an inline level context,
i.e., an <el>image</el> child of a <el>p</el> or <el>span</el> element, then,
if the element or the <loc href="#terms-anonymous-span">anonymous span</loc> is not associated
with a <att>tts:display</att> style property with the value <code>none</code>:</p>
<olist>
<item>
<p>if the object is an <loc href="#terms-anonymous-span">anonymous span</loc>, then map the sequence of character items
of the <loc href="#terms-anonymous-span">anonymous span</loc> to a distinct <el>fo:inline</el> element,
populating the style properties of <el>fo:inline</el> by using the computed
style set associated with the <loc href="#terms-anonymous-span">anonymous span</loc>;</p>
</item>
<item>
<p>if the object is a <el>span</el> element, then map the element
to a distinct <el>fo:inline</el> element, populating the style properties of <el>fo:inline</el> by using the computed
style set associated with the <el>span</el>;</p>
</item>
<item>
<p>otherwise (the object is an <el>image</el> element), map the element to a distinct <el>fo:inline</el> element
containing a single <el>fo:external-graphic</el> child element, 
populating the style properties of <el>fo:inline</el> and <el>fo:external-graphic</el> by using the computed
style set associated with the <el>image</el> element
and populating the <att>src</att> property of the <el>fo:external-graphic</el> element by using an appropriate
reference to the related <loc href="#terms-image-resource">image resource</loc>;</p>
</item>
</olist>
</item>
<item>
<p>for each <el>br</el> element that is not
associated with a <att>tts:display</att> style property with the value
<code>none</code>, map the element to
a distinct <el>fo:character</el> element having the following
properties:</p>
<ulist>
<item>
<p><code>character="&amp;#x000A;"</code></p>
</item>
<item>
<p><code>suppress-at-line-break="retain"</code></p>
</item>
</ulist>
</item>
<item>
<p>for each <loc href="#semantics-style-property">style property</loc> in some computed
style set that
has no counterpart in <bibref ref="xslfo11"/>, map that property directly through
to the relevant formatting object produced by the input TTML <loc href="#terms-content-element">content element</loc> to
which the <loc href="#semantics-style-property">style property</loc> applies;</p>
</item>
<item>
<p>optionally, synthesize a unique <att>id</att> attribute on each resulting
formatting object element that relates that element to the input element that
resulted in that formatting object element;</p>
</item>
</olist>
</def>
</gitem>
</glist>
</div4>
<div4 id="semantics-region-layout-example">
<head>Elaborated Example (Non-Normative)</head>
<p>An example of the processing steps described above is elaborated below, starting with <specref
ref="region-mapping-example-1-s"/>.</p>
<table id="region-mapping-example-1-s" role="example">
<caption>Example &ndash; Sample Source Document</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">&ttml-ex1;</eg>
</td>
</tr>
</tbody>
</table>
<p>In the above document, the content hierarchy consists of two divisions, each
containing two paragraphs. This content is targeted (associated with) one of two
non-overlapping regions that are styled identically except for their position
and their foreground colors, the latter of which is inherited by and applies to
the (and, in this case, anonymous) spans reparented into the regions.</p>
<p>The following, first intermediate document shows the synchronic state for time
interval [0,1), during which time only division <code>d1</code> is temporally active,
and where paragraphs <code>p1</code> and <code>p2</code> (and their ancestors)
are associated with regions <code>r1</code> and <code>r2</code>, respectively.</p>
<note>
<p>The intermediate documents shown below are not valid <loc href="#terms-document-instance">document instances</loc>,
but rather, are representations of possible internal processing states used for
didactic purposes.</p>
</note>
<table id="region-mapping-example-1-i0" role="example">
<caption>Example &ndash; Intermediate Document &ndash; [0s,1s)</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">&ttml-ex1-x-0;</eg>
</td>
</tr>
</tbody>
</table>
<p>An XSL FO document instance that would yield rendering consistent with TTML, and 
which may be produced by performing flow processing upon the first intermediate 
document is illustrated below.</p>
<table id="region-mapping-example-1-f0" role="example">
<caption>Example &ndash; XSL FO Document &ndash; [0s,1s)</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">&ttml-ex1-p-0;</eg>
</td>
</tr>
</tbody>
</table>
<p>The following, second intermediate document shows the synchronic state for
time interval [1,2), during which time both divisions <code>d1</code> and
<code>d2</code> are temporally active, and where paragraphs <code>p1</code> and
<code>p4</code> (and their ancestors) are associated with region <code>r1</code>
and paragraphs <code>p2</code> and <code>p3</code> (and their ancestors) are
associated with region <code>r2</code>.</p>
<table id="region-mapping-example-1-i1" role="example">
<caption>Example &ndash; Intermediate Document &ndash; [1s,2s)</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">&ttml-ex1-x-1;</eg>
</td>
</tr>
</tbody>
</table>
<p>The following, third intermediate document shows the synchronic state for time
interval [2,3), during which time only division <code>d2</code> is temporally active,
and where paragraphs <code>p4</code> and <code>p3</code> (and their ancestors)
are associated with regions <code>r1</code> and <code>r2</code>, respectively.</p>
<table id="region-mapping-example-1-i2" role="example">
<caption>Example &ndash; Intermediate Document &ndash; [2s,3s)</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">&ttml-ex1-x-2;</eg>
</td>
</tr>
</tbody>
</table>
</div4>
</div3> <!-- semantics-region-layout -->
<div3 id="semantics-line-layout">
<head>Line Layout</head>
<p>When a <loc href="#content-vocabulary-p"><el>p</el></loc> element, i.e., the representation of a paragraph, is processed by a
<loc href="#terms-presentation-processor">presentation processor</loc>, its content is segmented by <emph>line breaking</emph>,
where each segment is assigned to a unique <loc href="#terms-line-area">line area</loc>. In this respect, this specification adopts
a model based upon the formatting model defined by <bibref ref="xslfo11"/>, particularly &sect;4.5, &sect;4.6, and &sect;4.7.</p>
<div4 id="semantics-line-breaking">
<head>Line Breaking</head>
<p>If a profile that applies to a <loc href="#terms-document-instance">document instance</loc>
requires support or use of the <loc
href="#feature-lineBreak-uax14">#lineBreak-uax14</loc> feature, then
the recommendations defined by <loc
href="https://www.unicode.org/reports/tr14/#Algorithm">Line
Breaking Algorithm</loc> <bibref ref="uax14"/> apply when performing
line layout on the content of the <loc href="#terms-document-instance">document instance</loc>.</p>
</div4>
<div4 id="semantics-line-stacking">
<head>Line Stacking</head>
<p><emph>This sub-section is non-normative.</emph></p>
<p>The calculation of the <loc href="#terms-block-progression-dimension">block progression dimension</loc> of a
<loc href="#terms-line-area">line area</loc>, conventionally called <emph>line height</emph>,
may be particularly complex, especially when multiple font families, font sizes, font styles,
<loc href="#terms-font-resource">font resources</loc>, and advanced text formatting features, e.g., ruby, text emphasis, and
text combination (tate-chu-yoko), are applied.</p>
<p>Each <loc href="#terms-line-area">line area</loc> produced by this process is <emph>stacked</emph>, either
vertically below the preceding <loc href="#terms-line-area">line area</loc> (in the context of horizontal lines) or
horizontally to the side of the preceding line (in the context of vertical lines).
As specified by step (5) of the <loc href="#procedure-flow-transformation"><phrase role="strong">[flow transformation]</phrase></loc> procedure,
TTML employs the <code>line-height</code> line stacking strategy, which is formally defined in <bibref ref="xslfo11"/>, &sect;4.5,
the terms and concepts of which we use below.</p>
<p>When using this strategy, the dimensions of a <loc href="#terms-line-area">line area</loc> correspond with
the dimensions of the <phrase role="strong">per-inline-height-rectangle</phrase> computed for
that specific <loc href="#terms-line-area">line area</loc>, which, in turn, are determined by evaluating (1) the dimensions of
the <phrase role="strong">expanded-nominal-requested-line-rectangle</phrase>, which are uniform for each
<loc href="#terms-line-area">line area</loc> of a paragraph, and (2) the dimensions of the <phrase role="strong">expanded-rectangle</phrase>
of each <loc href="#terms-inline-area">inline area</loc> child of the <loc href="#terms-line-area">line area</loc>, which may vary for
each <loc href="#terms-inline-area">inline area</loc> of each <loc href="#terms-line-area">line area</loc> of a paragraph.</p>
<p>The phrase <emph>line height</emph>, as referred to above, should not be confused with the computed value of the <loc href="#semantics-style-property">style property</loc> associated with
the <loc href="#style-attribute-lineHeight">tts:lineHeight</loc> attribute. This latter value serves as a parameter for computing the
<emph>half leading</emph> applied to a <loc href="#terms-line-area">line area</loc> and individual <loc href="#terms-inline-area">inline areas</loc>,
which are, respectively, a parameter for determining (1) the dimensions of the <phrase role="strong">expanded-nominal-requested-line-rectangle</phrase>
of the <loc href="#terms-line-area">line area</loc> and (2) the dimensions of the <phrase role="strong">expanded-rectangle</phrase> of an
<loc href="#terms-inline-area">inline area</loc> child of the <loc href="#terms-line-area">line area</loc>.
Note well that the <emph>half leading</emph> applied to a <loc href="#terms-line-area">line area</loc> and
the <emph>half leading</emph> applied to an <loc href="#terms-inline-area">inline area</loc> child of that
<loc href="#terms-line-area">line area</loc> are often distinct values, more details about which are found in
<bibref ref="xslfo11"/>, &sect;6.5.2 (when applied to a <loc href="#terms-line-area">line area</loc>). For a given
<loc href="#terms-line-area">inline area</loc>, analogous treatment applies, although this is not explicitly indicated by
<bibref ref="xslfo11"/>, but can be inferred from language found in <bibref ref="css2"/>, &sect;10.8.1.</p>
<p>In summary, the behavior defined by the <code>line-height</code> line stacking strategy, as defined by <bibref ref="xslfo11"/>, &sect;4.5,
and adopted by TTML, is intended to be compatible with the line stacking strategy of <bibref ref="css2"/>, which means that:</p>
<ulist>
<item><p>when the computed value of <loc href="#style-attribute-lineHeight">tts:lineHeight</loc> of a paragraph is <code>normal</code>, then (1) each
<loc href="#terms-line-area">line area</loc> of a paragraph exactly abuts and does not intersect with the preceding
<loc href="#terms-line-area">line area</loc> of that paragraph, and (2) the <emph>line height</emph> of the
<loc href="#terms-line-area">line areas</loc> of a paragraph vary in accordance with the styled content of each
<loc href="#terms-line-area">line area</loc>;</p></item>
<item><p>when the computed value of <loc href="#style-attribute-lineHeight">tts:lineHeight</loc> of a paragraph is
a specified <loc href="#style-value-length">&lt;length&gt;</loc>, then the
<loc href="#terms-line-area">line areas</loc> of a paragraph exactly abut one another but their content rectangles may
(1) consume less space in the <loc href="#terms-block-progression-dimension">block progression dimension</loc> than required to fit their content,
in which case that content may intersect with the preceding <loc href="#terms-line-area">line area</loc> of that paragraph or
(2) consume more space in the <loc href="#terms-block-progression-dimension">block progression dimension</loc> than required to fit their content.</p></item>
</ulist>
<note role="clarification">
<p>When any of the following advanced text formatting features is applied to the content of a line, then additional adjustments to <emph>line height</emph>
may occur:</p>
<ulist>
<item><p>ruby text annotations</p></item>
<item><p>text combination (tate-chu-yoko)</p></item>
<item><p>text emphasis</p></item>
<item><p>(per-glyph) font shear</p></item>
</ulist>
</note>
</div4>
</div3> <!-- semantics-line-layout -->
<div3 id="semantics-rendering-model">
<head>Rendering Model</head>
<p>This section specifies the details of certain aspects of the rendering of a formatted TTML document instance.</p>
<div4 id="semantics-rendering-model-painting-order">
<head>Painting Order</head>
<p>The rendering order employed by a <loc href="#terms-presentation-processor">presentation processor</loc> must be consistent with
the rendering model specified by <bibref ref="xslfo11"/>, &sect;4.9; in addition, the following constraints apply:</p>
<ulist>
  <item><p>inline area descendants of a line area that are generated by ruby text spans are rendered
  after other inline area descendants of the line area;</p></item>
  <item><p>the intrinsic marks of a block area or an inline area generated by an
  <loc href="#embedded-content-vocabulary-image"><el>image</el></loc> element consist of the raster of the associated image.</p></item>
</ulist>
<note role="clarification">
  <p>The marks produced by an <loc href="#embedded-content-vocabulary-image"><el>image</el></loc> element referenced by a
  <loc href="#style-attribute-backgroundImage"><att>tts:backgroundImage</att></loc> attribute are not included in the intrinsic
  marks of a block area or an inline area, i.e., they are part of an area&apos;s background marks.</p>
</note>
</div4> <!-- semantics-rendering-model-painting-order -->
</div3> <!-- semantics-rendering-model -->
</div2> <!-- layout-semantics -->
</div1> <!-- layout -->
<div1 id="timing">
<head>Timing</head>
<p>This section specifies the <emph>timing</emph> matter of the core
vocabulary catalog, where
timing is to be understood as a separable layer of information that applies to
content and that denotes authorial intentions about the temporal presentation of
that content.</p>
<div2 id="timing-element-vocabulary">
<head>Timing Element Vocabulary</head>
<p>No timing related element vocabulary is defined for use in the core
vocabulary catalog.</p>
</div2> <!-- timing-element-vocabulary -->
<div2 id="timing-attribute-vocabulary">
<head>Timing Attribute Vocabulary</head>
<p>This section defines the following basic timing attributes for use with <loc href="#terms-timed-element">timed elements</loc>:</p>
<ulist>
<item><p><specref ref="timing-attribute-begin"/></p></item>
<item><p><specref ref="timing-attribute-dur"/></p></item>
<item><p><specref ref="timing-attribute-end"/></p></item>
</ulist>
<p>In addition, this section defines the <specref
ref="timing-attribute-timeContainer"/> attribute for use with <loc href="#terms-timed-element">timed elements</loc>
that serve simultaneously as timing containers.</p>
<div3 id="timing-attribute-begin">
<head>begin</head>
<p>The <att>begin</att> attribute is used to specify the begin
point of a temporal interval associated with a <loc href="#terms-timed-element">timed element</loc>. If
specified, the value of a <att>begin</att> attribute must adhere to
a &lt;time-expression&gt; specification as defined by <specref
ref="timing-value-time-expression"/>.</p>
<p>The begin point of a temporal interval is included in the
interval; i.e., the interval is left-wise closed.</p>
<p>The semantics of the <att>begin</att> attribute are those defined
by <bibref ref="smil3"/>, &sect;5.4.3,
while taking into account any overriding semantics defined by this specification.</p>
<note role="clarification">
<p>As defined by <bibref ref="smil3"/>, &sect;5.4.3,
if no <att>begin</att> attribute is explicitly specified on a <loc href="#terms-timed-element">timed element</loc>,
then the default value of the attribute is determined by the nearest time container ancestor; however, in TTML, that ancestor is either
a parallel time container or a sequential time container, both of which apply a default value of <code>0s</code>.</p>
</note>
</div3>
<div3 id="timing-attribute-dur">
<head>dur</head>
<p>The <att>dur</att> attribute is used to specify the duration of a
temporal interval associated with a <loc href="#terms-timed-element">timed element</loc>. If specified,
the value of a <att>dur</att> attribute must adhere to a
&lt;time-expression&gt; specification as defined by <specref
ref="timing-value-time-expression"/>.</p>
<note role="clarification">
<p>When the <code>clock-time</code> form of a &lt;time-expression&gt; specification
is used with a <att>dur</att> attribute, it is intended to be interpreted as
a difference between two implied clock time expressions.</p>
</note>
<p>When a <loc href="#terms-document-instance">document instance</loc> specifies the use of the
<code>smpte</code> time base and <code>discontinuous</code> marker
mode, a (well-formed) <att>dur</att> attribute must not be specified on any
element.</p>
<p>The semantics of the <att>dur</att> attribute are those defined
by <bibref ref="smil3"/>, &sect;5.4.3,
while taking into account any overriding semantics defined by this specification.
In a deliberate divergence from <bibref ref="smil3"/>, &sect;5.4.3, the value of
the <att>dur</att> attribute is permitted to be zero (<code>0s</code>).</p>
<note role="elaboration">
<p>In the context of the subset of <bibref ref="smil3"/> semantics supported by
this specification, the active duration of an element that specifies both
<att>end</att> and <att>dur</att> attributes is equal to the lesser of the value of
the <att>dur</att> attribute and the difference between the value of the
<att>end</att> attribute and the element&apos;s begin time.</p>
</note>
</div3>
<div3 id="timing-attribute-end">
<head>end</head>
<p>The <att>end</att> attribute is used to specify the ending point
of a temporal interval associated with a <loc href="#terms-timed-element">timed element</loc>. If
specified, the value of an <att>end</att> attribute must adhere to a
&lt;time-expression&gt; specification as defined by <specref
ref="timing-value-time-expression"/>.</p>
<p>The ending point of a temporal interval is not included in the
interval; i.e., the interval is right-wise open.</p>
<p>The presentation effects of a non-empty active
temporal interval include the frame immediately prior to the frame
(or tick) equal to or immediately following the time specified by the ending
point, but do not extend into this latter frame (or tick).</p>
<note role="example">
<p>For example, if an active interval is [10s,10.33333s), and the
frame rate is 30 frames per second, then the presentation effects of the interval
are limited to frames 300 through 309 only (assuming that 0s corresponds
with frame 0). The same holds if the active interval is specified
as [300f,310f).</p>
</note>
<p>The semantics of the <att>end</att> attribute are those defined
by <bibref ref="smil3"/>, &sect;5.4.3,
while taking into account any overriding semantics defined by this specification.</p>
</div3>
<div3 id="timing-attribute-timeContainer">
<head>timeContainer</head>
<p>The <att>timeContainer</att> attribute is used to specify a local temporal
context by means of which timed child elements are temporally situated.</p>
<p>If specified, the value of a <att>timeContainer</att> attribute must be one
of the following:</p>
<ulist>
<item><p><code>par</code></p></item>
<item><p><code>seq</code></p></item>
</ulist>
<p>If the time container semantics of an element instance is <code>par</code>,
then the temporal intervals of child elements are considered to apply in
parallel, i.e., simultaneously in time. Furthermore, the specification of
the time interval of each child element is considered to be relative to the temporal
interval of the container element instance. For the purpose of determining the
<bibref ref="smil3"/> <code>endsync</code> semantics of a <code>par</code>
time container, a default value of <code>all</code> applies.</p>
<note role="elaboration">
<p>The use of a default value of <code>all</code> for the <code>endsync</code>
behavior is distinct from <bibref ref="smil3"/> which uses a default value
of <code>last</code>.</p>
</note>
<p>If the time container semantics of an element instance is <code>seq</code>,
then the temporal intervals of child elements are considered to apply in
sequence, i.e., sequentially in time. Furthermore, the specification of
the time interval of each child element is considered to be relative to the temporal
interval of its sibling elements, unless it is the first child element, in which case
it is considered to be relative to the temporal interval of the container
element instance.</p>
<p>Each time container is considered to constitute an independent time base, i.e.,
time coordinate system.</p>
<p>If a <att>timeContainer</att> attribute is not specified on an element that
has time container semantics, then <code>par</code> time container semantics must apply.</p>
<p>Time container semantics applies only to the following element types:</p>
<ulist>
<item><p><loc href="#embedded-content-vocabulary-audio"><el>audio</el></loc></p></item>
<item><p><loc href="#document-structure-vocabulary-body"><el>body</el></loc></p></item>
<item><p><loc href="#content-vocabulary-div"><el>div</el></loc></p></item>
<item><p><loc href="#embedded-content-vocabulary-image"><el>image</el></loc></p></item>
<item><p><loc href="#content-vocabulary-p"><el>p</el></loc></p></item>
<item><p><loc href="#layout-vocabulary-region"><el>region</el></loc></p></item>
<item><p><loc href="#content-vocabulary-span"><el>span</el></loc></p></item>
</ulist>
<p>The semantics of parallel and sequential time
containment are those defined by <bibref ref="smil3"/>, &sect;5.4.4,
while taking into account any overriding semantics defined by this specification.</p>
</div3>
</div2> <!-- timing-attribute-vocabulary -->
<div2 id="timing-time-value-expressions">
<head>Time Value Expressions</head>
<p>Timing attribute values include the use of the following expressions:</p>
<ulist>
<item><p><specref ref="timing-value-time-expression"/></p></item>
</ulist>
<div3 id="timing-value-time-expression">
<head>&lt;time-expression&gt;</head>
<p>A &lt;time-expression&gt; is used to specify a coordinate within
some time base, where the applicable time base is determined by the
<att>ttp:timeBase</att> parameter, and where the semantics defined
by <specref ref="time-expression-semantics"/> apply.</p>
<note role="example">
<p>See
<specref ref="parameter-attribute-frameRate"/>,
<specref ref="parameter-attribute-subFrameRate"/>,
<specref ref="parameter-attribute-tickRate"/>, and
<specref ref="parameter-attribute-timeBase"/> for further information on
explicit specification of frame rate, sub-frame rate, tick rate, and time base.</p>
</note>
<table id="time-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;time-expression&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;time-expression&gt;
  : clock-time
  | offset-time
  | wallclock-time

clock-time
  : hours ":" minutes ":" seconds ( fraction | ":" frames ( "." sub-frames )? )?

offset-time
  : time-count fraction? metric

wallclock-time
  : "wallclock(" <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? ( date-time | wall-time | date ) <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? ")"

date-time
  : date "T" wall-time

wall-time
  : ( hhmm-time | hhmmss-time )

date
  : years "-" months "-" days

hhmm-time
  : hours2 ":" minutes

hhmmss-time
  : hours2 ":" minutes ":" seconds fraction?

years
  : <loc href="#style-value-digit">&lt;digit&gt;</loc> <loc href="#style-value-digit">&lt;digit&gt;</loc> <loc href="#style-value-digit">&lt;digit&gt;</loc> <loc href="#style-value-digit">&lt;digit&gt;</loc>

hours
  : hours2
  | hours3plus

hours3plus
  : <loc href="#style-value-digit">&lt;digit&gt;</loc> <loc href="#style-value-digit">&lt;digit&gt;</loc> <loc href="#style-value-digit">&lt;digit&gt;</loc>+

months | days | hours2 | minutes | seconds
  : <loc href="#style-value-digit">&lt;digit&gt;</loc> <loc href="#style-value-digit">&lt;digit&gt;</loc>

frames
  : <loc href="#style-value-digit">&lt;digit&gt;</loc> <loc href="#style-value-digit">&lt;digit&gt;</loc>
  | <loc href="#style-value-digit">&lt;digit&gt;</loc> <loc href="#style-value-digit">&lt;digit&gt;</loc> <loc href="#style-value-digit">&lt;digit&gt;</loc>+

sub-frames
  : <loc href="#style-value-digit">&lt;digit&gt;</loc>+

fraction
  : "." <loc href="#style-value-digit">&lt;digit&gt;</loc>+

time-count
  : <loc href="#style-value-digit">&lt;digit&gt;</loc>+

metric
  : "h"                 // hours
  | "m"                 // minutes
  | "s"                 // seconds
  | "ms"                // milliseconds
  | "f"                 // frames
  | "t"                 // ticks
</eg>
</td>
</tr>
</tbody>
</table>
<p>A &lt;time-expression&gt; must not contain a <loc href="#style-value-whitespace">&lt;whitespace&gt;</loc> character
except where explicitly permitted by the appearance of a <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> non-terminal
in the preceding syntax definition.</p>
<p>If a &lt;time-expression&gt; is expressed in terms of a
<emph>clock-time</emph>, then leading zeroes are used when expressing hours,
minutes, seconds, and frames less than 10. Minutes are constrained to
[0&hellip;59], while seconds (including any fractional part) are constrained to the closed
interval [0,60], where the value 60 applies only to leap seconds.
Except when <loc href="#parameter-attribute-timeBase"><att>ttp:timeBase</att></loc> is <code>clock</code>
and <loc href="#parameter-attribute-clockMode"><att>ttp:clockMode</att></loc> is <code>local</code> or <code>utc</code>,
use of the <phrase role="deprecated">special value of 60 seconds to denote a leap second is deprecated</phrase>.
When performing presentation processing, the appearance of this special value in other time bases or clock modes
must be interpreted as if the value 59 had been specified.</p>
<p>If a &lt;time-expression&gt; is expressed in terms of a
<emph>clock-time</emph> and a <emph>frames</emph> term is specified,
then the value of this term must be constrained to the interval
[0&hellip;<emph>F-1</emph>], where <emph>F</emph> is the frame rate
determined by the <att>ttp:frameRate</att> parameter as defined
by <specref ref="parameter-attribute-frameRate"/>.
It is <termref def="defs-considered-an-error">considered an error</termref> if a <emph>frames</emph> term or
<code>f</code> (frames) metric is specified when the <code>clock</code> time base applies.</p>
<p>If a &lt;time-expression&gt; is expressed in terms of a
<emph>clock-time</emph> and a <emph>sub-frames</emph> term is
specified, then the value of this term must be constrained to the
interval [0&hellip;<emph>S-1</emph>], where <emph>S</emph> is the
sub-frame rate determined by the <att>ttp:subFrameRate</att> parameter as defined by <specref
ref="parameter-attribute-subFrameRate"/>.
It is <termref def="defs-considered-an-error">considered an error</termref> if a <emph>sub-frames</emph> term is specified
when the <code>clock</code> time base applies.</p>
<p>It is <termref def="defs-considered-an-error">considered an error</termref> if the <emph>wallclock-time</emph> form of a &lt;time-expression&gt;
is used in a <loc href="#terms-document-instance">document instance</loc> and the government time base is not <code>clock</code>.</p>
<p>If the computed value of the governing time base is <code>smpte</code>, then
(1) <phrase role="deprecated">use of an <emph>offset-time</emph> form of &lt;time-expression&gt; is deprecated</phrase>, and
(2) <phrase role="deprecated">use of a <emph>fraction</emph> seconds <loc href="#terms-component">component</loc> in a <emph>clock-time</emph> form of &lt;time-expression&gt; is
deprecated</phrase>.</p>
<note role="explanation">
<p>The &lt;time-expression&gt; syntax specified above explicitly excludes the representation of time zone information. If an author
wishes to correlate a &lt;time-expression&gt; with a specific time zone, then they may convert time expressions to UTC and specify
use of the <code>utc</code> clock mode, about which see <specref ref="parameter-attribute-clockMode"/>.</p>
</note>
</div3>
</div2> <!-- timing-time-value-expressions -->
<div2 id="semantics-timing">
<head>Timing Semantics</head>
<p>The semantics of time containment, durations, and intervals defined by
<bibref ref="smil3"/> apply to the interpretation of like-named <loc href="#terms-timed-element">timed elements</loc> and timing
vocabulary defined by this specification, given the following
constraints:</p>
<ulist>
<item>
<p>The implicit duration of an <loc href="#terms-anonymous-span">anonymous span</loc> is defined as follows: if
the <loc href="#terms-anonymous-span">anonymous span&apos;s</loc> parent time container is a parallel time container, then
the implicit duration is equivalent to the <code>indefinite</code>
duration value as defined by <bibref ref="smil3"/>; if the <loc href="#terms-anonymous-span">anonymous span&apos;s</loc>
parent time container is a sequential time container, then the implicit duration
is equivalent to zero.</p>
</item>
<item>
<p>The implicit duration of an <el>animate</el>, <el>audio</el>, <el>br</el>, <el>image</el>, or <el>set</el> element is defined to be the same as
if that element were treated as an <loc href="#terms-anonymous-span">anonymous span</loc>.</p>
</item>
<item>
<p>The implicit duration of a <el>span</el> element with non-mixed content, i.e., only <code>#PCDATA</code> <termref def="defs-text-node">text node</termref>s,
is defined to be the same as if the <el>span</el> element were treated as an <loc href="#terms-anonymous-span">anonymous span</loc>.</p>
</item>
<item>
<p>The implicit duration of a <el>body</el>, <el>div</el>, <el>p</el>,
or <el>span</el> element with mixed content is determined in accordance to (1) whether
the element is a parallel or sequential time container, (2) the default
<code>endsync</code> semantics defined above by <specref ref="timing-attribute-timeContainer"/>,
and (3) the semantics of <bibref ref="smil3"/> as applied to these time
containers.</p>
</item>
<item>
<p>The implicit duration of the <el>region</el> element is defined to
be equivalent to the <code>indefinite</code>
duration value as defined by <bibref ref="smil3"/>.</p>
</item>
<item>
<p>If the governing time base is <code>clock</code>, then time
expressions are considered to be equivalent to wall-clock
based timing in <bibref ref="smil3"/>, where the specific semantics of
<specref ref="time-expression-semantics-clock"/> apply.</p>
</item>
<item>
<p>If the governing time base is <code>media</code>, then time
expressions are considered to be equivalent to offset based timing
in <bibref ref="smil3"/>, where the specific semantics of
<specref ref="time-expression-semantics-media"/> apply.</p>
</item>
<item>
<p>If the governing time base is <code>smpte</code>, then time
expressions are considered to be equivalent to either offset
based timing or event based timing in <bibref ref="smil3"/>, where the specific semantics of
<specref ref="time-expression-semantics-smpte"/> apply.</p>
</item>
</ulist>
<div3 id="semantics-anonymous-span-timing">
<head>Anonymous Span Timing</head>
<p><emph>This sub-section is non-normative.</emph></p>
<p>The following example illustrates the timing semantics of <loc href="#terms-anonymous-span">anonymous spans</loc> that are children of sequential and parallel time containers. 
The words <emph>Hello</emph> and <emph>Allo</emph> are both contained in <loc href="#terms-anonymous-span">anonymous spans</loc> that are children of a sequential 
time container (the <code>p</code> element). As such, neither <emph>Hello</emph> nor <emph>Allo</emph> will be displayed 
since the implicit duration of the <loc href="#terms-anonymous-span">anonymous spans</loc> is 0. In contrast, the <loc href="#terms-anonymous-span">anonymous span</loc> that contains the word <emph>Guten</emph> 
and the innermost <code>span</code> that contains the word <emph>Tag</emph> are children of an element with parallel time container 
semantics (the outermost <code>span</code> element).
As a result, both <emph>Guten</emph> and <emph>Tag</emph> will be displayed since the implicit duration of their respective parent <loc href="#terms-anonymous-span">anonymous span</loc> 
and <code>span</code> element are indefinite, resulting in the implicit duration of 
its <code>span</code>, <code>p</code>, <code>div</code> and <code>body</code> ancestors to also be indefinite.</p>
<table id="timing-intervals-example-1" role="example">
<caption>Example Fragment &ndash; Timing of Anonymous Spans in a Sequential and Parallel Time Containers</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
...
&lt;body&gt;
  &lt;div&gt;
    &lt;p timeContainer=&quot;seq&quot;&gt;
      Hello
      &lt;span&gt;Guten &lt;span&gt;Tag&lt;/span&gt;&lt;/span&gt;
      Allo
    &lt;/p&gt;
  &lt;/div&gt;
&lt;/body&gt;
</eg>
</td>
</tr>
</tbody>
</table>
</div3>
</div2> <!-- semantics-timing -->
</div1> <!-- timing -->
<div1 id="animation">
<head>Animation</head>
<p>This section specifies the <emph>animation</emph> matter of the
core vocabulary catalog, where
animation is to be understood as a separable layer of information that combines
timing and styling in order to denote authorial intention about (temporally) dynamic
styling of content.</p>
<div2 id="animation-element-vocabulary">
<head>Animation Element Vocabulary</head>
<p>The following elements specify the structure and principal animation aspects of a
<loc href="#terms-document-instance">document instance</loc>:</p>
<ulist>
<item><p><specref ref="animation-vocabulary-animate"/></p></item>
<item><p><specref ref="animation-vocabulary-animation"/></p></item>
<item><p><specref ref="animation-vocabulary-set"/></p></item>
</ulist>
<div3 id="animation-vocabulary-animate">
<head>animate</head>
<p>The <el>animate</el> element expresses a series of changes (animations) to be applied (targeted)
to one or more <loc href="#terms-animatable-style">animatable styles</loc> of associated elements.</p>
<p>An <el>animate</el> element may appear as either (1) a child of a
<loc href="#terms-content-element">content element</loc> or a <loc href="#layout-vocabulary-region"><el>region</el></loc> element,
referred to as <loc href="#terms-inline-animation">inline animation</loc>, or
(2) a child of an <loc href="#animation-vocabulary-animation">animation</loc> element, referred to as
<loc href="#terms-out-of-line-animation">out-of-line animation</loc>.
In the former case, the parent of the <el>animate</el> element is the associated element; in the latter
case, any element that references the <el>animate</el> element using an <att>animate</att> attribute is
an associated element.</p>
<p>The <el>animate</el> element accepts as its children zero or more
elements in the <loc href="#element-vocab-group-metadata"><code>Metadata.class</code></loc> element group.</p>
<table id="elt-syntax-animate" role="syntax">
<caption>XML Representation &ndash; Element Information Item: animate</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;animate
  <loc href="#timing-attribute-begin">begin</loc> = <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc>
  calcMode = <loc href="#animation-value-calculation-mode">&lt;calculation-mode&gt;</loc>
  <loc href="#content-attribute-condition">condition</loc> = <loc href="#content-value-condition">&lt;condition&gt;</loc>
  <loc href="#timing-attribute-dur">dur</loc> = <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc>
  <loc href="#timing-attribute-end">end</loc> = <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc>
  fill = <loc href="#animation-value-fill">&lt;fill&gt;</loc>
  keySplines = <loc href="#animation-value-key-splines">&lt;key-splines&gt;</loc>
  keyTimes = <loc href="#animation-value-key-times">&lt;key-times&gt;</loc>
  repeatCount = <loc href="#animation-value-repeat-count">&lt;repeat-count&gt;</loc>
  <loc href="#content-attribute-xml-base">xml:base</loc> = <loc href="#content-value-uri">&lt;uri&gt;</loc>
  <loc href="#content-attribute-xml-id">xml:id</loc> = ID
  <loc href="#content-attribute-xml-lang">xml:lang</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  <loc href="#content-attribute-xml-space">xml:space</loc> = (<emph>"default"</emph> | <emph>"preserve"</emph>)
  {<emph>any <loc href="#terms-animatable-style">animatable</loc> <loc href="#terms-styling-attribute">styling attributes</loc></emph>}
  <emph>Content:</emph> <loc href="#element-vocab-group-metadata">Metadata.class</loc>*
&lt;/animate&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p><loc href="#terms-styling-attribute">Styling attributes</loc> are directly targeted by an <el>animate</el> element,
where the list (sequence) of animation values
adhere to the <loc href="#animation-value-animation-value-list">&lt;animation-value-list&gt;</loc> syntax, and where each
constituent <loc href="#animation-value-animation-value">&lt;animation-value&gt;</loc> adheres to the syntax of the specified
attribute.</p>
<p>Targeting a <termref def="defs-non-animatable-style">non-animatable style</termref> is
<termref def="defs-considered-an-error">considered an error</termref> and must be ignored for the purpose of presentation processing.</p>
<note role="elaboration">
<p>In contrast with <bibref ref="svg11"/>, &sect;19.2.12, a single <el>animate</el> element, as defined here, may be used to
perform continuous animations on a set of targeted <loc href="#terms-styling-attribute">style attributes</loc> instead of being limited to targeting a
single <loc href="#terms-styling-attribute">styling attribute</loc>.
In <bibref ref="svg11"/>, this would require the use of multiple <el>animate</el> elements rather than a single <el>animate</el> element.</p>
<p>Furthermore, by using direct specification of animated style property and key values, it is not necessary to employ the <att>from</att>,
<att>to</att>, <att>by</att>, or <att>values</att> animation value attributes defined by <bibref ref="svg11"/>, &sect;19.2.9.</p>
</note>
<p>The semantics of the <el>animate</el> element and its attributes
enumerated above are defined to be those specified by <bibref ref="svg11"/>, &sect;19.2, as constrained or further clarified below:</p>
<olist>
<item><p>The attributes targeted by an <el>animate</el> element and the values to be applied to these attributes are
specified by direct use of <loc href="#terms-styling-attribute">styling attributes</loc>;
therefore, the <att>attributeName</att>, <att>from</att>,  <att>to</att>, <att>by</att>, and <att>values</att> attributes defined by
<bibref ref="svg11"/> are not supported by this version of TTML.</p>
<note role="clarification">
<p>The effect of using directly named style attributes is equivalent to specifying multiple <bibref ref="svg11"/> <el>animate</el> elements
where each such element specifies an <att>attributeName</att> and <att>values</att> attribute.</p>
</note>
<note role="example">
<p>For example, specifying <code>tts:color="red;green;blue"</code> is
considered equivalent to specifying <code>attributeName="tts:color"</code> and <code>values="red;green;blue"</code> in <bibref ref="svg11"/>.</p>
</note>
</item>
<item>
<p>If no <att>calcMode</att> attribute is specified, then a <emph>calcMode</emph> value of <code>linear</code> applies.</p>
<note role="clarification"><p>This implied value corresponds to the default value specified by <bibref ref="svg11"/>, &sect;19.2.9.</p></note>
</item>
<item>
<p>If a targeted <loc href="#terms-animatable-style">animatable style</loc> is <termref def="defs-discrete">discretely</termref> animatable
but not <termref def="defs-continuous">continuously</termref> animatable, then it is <termref def="defs-considered-an-error">considered an error</termref>
if the applied value of the <att>calcMode</att> attribute is not <code>discrete</code>, in which case
the targeted <loc href="#terms-animatable-style">animatable style</loc> must be ignored for the purpose of presentation processing.</p>
</item>
<item>
<p>If no <att>fill</att> attribute is specified, then a <emph>fill</emph> value of <code>remove</code> applies.</p>
<note role="clarification"><p>This implied value corresponds to the default value specified by <bibref ref="svg11"/>, &sect;19.2.9.</p></note>
</item>
<item>
<p>If a <att>keyTimes</att> attribute is specified and the computed value of <emph>calcMode</emph> is <attval>paced</attval>,
then this usage must be <termref def="defs-considered-an-error">considered an error</termref> and the animation must be ignored for the purpose of
presentation processing.</p>
</item>
<item>
<p>If a <att>keyTimes</att> attribute is specified and the computed value of <emph>calcMode</emph> is not <attval>paced</attval>,
then the number of time <loc href="#terms-component">components</loc> specified in the <att>keyTimes</att> attribute must match the number of animation values specified
by each animated attribute.</p>
<note role="clarification">
<p>This constraint applies regardless of whether a single or multiple attributes are targeted by the same
<el>animate</el> element, which, in turn, implies that when multiple attributes are targeted, the value of each animated attribute must
specify the same number of values in its <loc href="#animation-value-animation-value-list">&lt;animation-value-list&gt;</loc>.</p>
</note>
<note role="example">
<p>For example, the first <el>animate</el> element shown below is valid: the animated attribute has 3 values,
while the second and third are not valid: for the second case, the animated attribute has 2 values, but 3 key times are specified;
for the third case, the first animated attribute has 2 values and the second animated attribute has 4 values, but 3 key times are specified:</p>
<table role="example">
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;!-- valid animation of single attribute with matching key times --&gt;
&lt;animate xml:id="a1" keyTimes="0;0.2;1" tts:color="red;green;blue"/&gt;

&lt;!-- invalid animation of single attribute with non-matching key times --&gt;
&lt;animate xml:id="a2" keyTimes="0;0.2;1" tts:color="red;green"/&gt;

&lt;!-- invalid animation of multiple attributes with non-matching key times --&gt;
&lt;animate xml:id="a3" keyTimes="0;0.2;1"
  tts:color="red;green" tts:backgroundColor="cyan;magenta;yellow;black"/&gt;
</eg>
</td>
</tr>
</tbody>
</table>
</note>
</item>
<item>
<p>If no <att>keyTimes</att> attribute is specified and the computed value of <emph>calcMode</emph> is not <attval>paced</attval>,
then a <emph>keyTimes</emph> value applies that corresponds to an even (linear) spacing of specified animation values over the simple duration of
the animation.</p>
<note role="example">
<p>For example, if the animated style is specified as <code>tts:color="red;green;blue"</code>, then the implied value of <att>keyTimes</att>
is <attval>0;0.5;1</attval>.</p>
</note>
</item>
<item>
<p>If a <att>keySplines</att> attribute is specified and the computed value of <emph>calcMode</emph> is not <attval>spline</attval>,
then this usage must be <termref def="defs-considered-an-error">considered an error</termref> and the animation must be ignored for the purpose of
presentation processing.</p>
</item>
<item>
<p>If a <att>keySplines</att> attribute is specified and the computed value of <emph>calcMode</emph> is <attval>spline</attval>,
then the number of control <loc href="#terms-component">components</loc> specified in the <att>keySplines</att> attribute must be one less than the number
of time <loc href="#terms-component">components</loc> in the computed value of the <emph>keyTimes</emph> attribute.</p>
</item>
<item>
<p>If no <att>keySplines</att> attribute is specified and the computed value of <emph>calcMode</emph> is <attval>spline</attval>,
then this usage must be <termref def="defs-considered-an-error">considered an error</termref> and the animation must be ignored for the purpose of
presentation processing.</p>
</item>
<item>
<p>If no <att>repeatCount</att> attribute is specified, then a <emph>repeatCount</emph> value of <code>1</code> applies.</p>
</item>
<item>
<p>The <att>additive</att> attribute defined by <bibref ref="svg11"/>, &sect;19.2.10, is not supported by this
version of TTML; therefore, in its absence, the semantics of the <attval>replace</attval> value of this attribute apply.</p>
</item>
<item>
<p>The <att>accumulate</att> attribute defined by <bibref ref="svg11"/>, &sect;19.2.10, is not supported by this
version of TTML; therefore, in its absence, the semantics of the <attval>none</attval> value of this attribute apply.</p>
</item>
</olist>
<p>An example of using the <el>animate</el> element to animate content
styling is illustrated below:</p>
<table id="animation-vocabulary-animate-example-1" role="example">
<caption>Example Fragment &ndash; Content Style Animation</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
...
&lt;p dur="5s"&gt;
<phrase role="strong">&lt;animate tts:color="yellow;red;green;blue;yellow"/&gt;</phrase>
Text with Continuously Varying Colors!
&lt;/p&gt;
...
</eg>
</td>
</tr>
</tbody>
</table>
<note role="explanation">
<p>In the above example, the foreground color of the content "Text
with Continuously Varying Colors!" is continuously animated from yellow, to red, to green, to
red, then back to yellow over a 5 second period, after which the animation effect is removed
and the original color restored (since <att>fill</att> defaults to <attval>remove</attval>).</p>
</note>
<p>An example of using the <el>animate</el> element to animate region
styling is illustrated below:</p>
<table id="animation-vocabulary-animate-example-2" role="example">
<caption>Example Fragment &ndash; Region Style Animation</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;tt xml:lang="" xmlns="http://www.w3.org/ns/ttml"
    xmlns:ttp="http://www.w3.org/ns/ttml#parameter"
    xmlns:tts="http://www.w3.org/ns/ttml#styling"
    ttp:extent="640px 480px"&gt;
    &lt;head&gt;
      &lt;layout&gt;
	&lt;region xml:id="r1" timeContainer="seq" tts:opacity="0"&gt;
	  <phrase role="strong">&lt;animate dur="1s" tts:opacity="0;1"/&gt;</phrase>
	  &lt;set dur="5s" tts:opacity="1"/&gt;
	  <phrase role="strong">&lt;animate dur="1s" tts:opacity="1;0"/&gt;</phrase>
	  &lt;style tts:extent="480px 60px"/&gt;
	  &lt;style tts:origin="80px 400px"/&gt;
	&lt;/region&gt;
      &lt;/layout&gt;
    &lt;/head&gt;
    &lt;body region="r1"&gt;...&lt;/body&gt;
&lt;/tt&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<note role="explanation">
<p>In the above example, a region, <code>r1</code>, is initially set to 0% opacity,
fully transparent, then is faded in to 100% opacity, fully opaque, over a one second
interval. Opacity remains at 100% for five more seconds, and then is faded out to 0%
over a one second interval, where it remains.</p>
</note>
<p></p>
<note role="derivation">
<p>The semantics of the <el>animate</el> element
are based upon that defined by <bibref ref="svg11"/>,
&sect;19.2.12, which, in turn, is based upon <bibref ref="smil3"/>, &sect;12.</p>
</note>
</div3>
<div3 id="animation-vocabulary-animation">
<head>animation</head>
<p>The <el>animation</el> element is a container element used to group
<loc href="#terms-out-of-line-animation">out-of-line animation</loc> matter, including metadata that applies to animation matter.</p>
<p>The <el>animation</el> element accepts as its children zero or more
elements in the <loc href="#element-vocab-group-metadata"><code>Metadata.class</code></loc> element group, followed by
zero or more elements in the <loc href="#element-vocab-group-animation"><code>Animation.class</code></loc> element group.</p>
<table id="elt-syntax-animation" role="syntax">
<caption>XML Representation &ndash; Element Information Item: animation</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;animation
  <loc href="#content-attribute-xml-base">xml:base</loc> = <loc href="#content-value-uri">&lt;uri&gt;</loc>
  <loc href="#content-attribute-xml-id">xml:id</loc> = ID
  <loc href="#content-attribute-xml-lang">xml:lang</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  <loc href="#content-attribute-xml-space">xml:space</loc> = (<emph>"default"</emph> | <emph>"preserve"</emph>)
  <emph>Content:</emph> <loc href="#element-vocab-group-metadata">Metadata.class</loc>*, <loc href="#element-vocab-group-animation">Animation.class</loc>*
&lt;/animation&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>To the extent that time semantics apply to the content of the
<el>animation</el> element, the implied time interval of this element is
defined to be coterminous with the <loc href="#terms-root-temporal-extent">root temporal extent</loc>.</p>
</div3>
<div3 id="animation-vocabulary-set">
<head>set</head>
<p>The <el>set</el> element expresses one or more discrete changes (animations) to be applied (targeted)
to one or more <loc href="#terms-animatable-style">animatable styles</loc> of associated elements.</p>
<p>A <el>set</el> element may appear as either (1) a child of a
<loc href="#terms-content-element">content element</loc> or a <loc href="#layout-vocabulary-region"><el>region</el></loc> element,
referred to as <loc href="#terms-inline-animation">inline animation</loc>, or
(2) a child of an <loc href="#animation-vocabulary-animation">animation</loc> element, referred to as
<loc href="#terms-out-of-line-animation">out-of-line animation</loc>.
In the former case, the parent of the <el>set</el> element is the associated element; in the latter
case, any element that references the <el>set</el> element using an <att>animate</att> attribute is
an associated element.</p>
<p>The <el>set</el> element accepts as its children zero or more
elements in the <loc href="#element-vocab-group-metadata"><code>Metadata.class</code></loc> element group.</p>
<table id="elt-syntax-set" role="syntax">
<caption>XML Representation &ndash; Element Information Item: set</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;set
  <loc href="#timing-attribute-begin">begin</loc> = <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc>
  <loc href="#content-attribute-condition">condition</loc> = <loc href="#content-value-condition">&lt;condition&gt;</loc>
  <loc href="#timing-attribute-dur">dur</loc> = <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc>
  <loc href="#timing-attribute-end">end</loc> = <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc>
  fill = <loc href="#animation-value-fill">&lt;fill&gt;</loc>
  repeatCount = <loc href="#animation-value-repeat-count">&lt;repeat-count&gt;</loc>
  <loc href="#content-attribute-xml-base">xml:base</loc> = <loc href="#content-value-uri">&lt;uri&gt;</loc>
  <loc href="#content-attribute-xml-id">xml:id</loc> = ID
  <loc href="#content-attribute-xml-lang">xml:lang</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  <loc href="#content-attribute-xml-space">xml:space</loc> = (<emph>"default"</emph> | <emph>"preserve"</emph>)
  {<emph>any <loc href="#terms-animatable-style">animatable</loc> <loc href="#terms-styling-attribute">styling attributes</loc></emph>}
  <emph>Content:</emph> <loc href="#element-vocab-group-metadata">Metadata.class</loc>*
&lt;/set&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p><loc href="#terms-styling-attribute">Style attributes</loc> targeted by a <el>set</el> element are specified directly using
attributes in the TT Style Namespaces or in a namespace that is not some TT Namespace, where the single target animation (key) value
adheres to the <loc href="#animation-value-animation-value">&lt;animation-value&gt;</loc> syntax.</p>
<p>Targeting a <termref def="defs-non-animatable-style">non-animatable style</termref> is
<termref def="defs-considered-an-error">considered an error</termref> and must be ignored for the purpose of presentation processing.</p>
<note role="elaboration">
<p>In contrast with <bibref ref="svg11"/>, &sect;19.2.13, a single <el>set</el> element, as defined here, may be used to
perform discrete animations on a set of targeted <loc href="#terms-styling-attribute">styling attributes</loc> instead of being limited to targeting a
single <loc href="#terms-styling-attribute">styling attribute</loc>.
In <bibref ref="svg11"/>, this would require the use of multiple <el>set</el> elements rather than a single <el>set</el> element.</p>
</note>
<p>Except for the constraints or variations enumerated below, the semantics of the <el>set</el> element and its attributes
enumerated above are defined to be those specified by <bibref ref="svg11"/>, &sect;19.2.13:</p>
<olist>
<item><p>The attributes targeted by a <el>set</el> element and the discrete values to be applied to these attributes are
specified by direct use of <loc href="#terms-styling-attribute">styling attributes</loc> (as opposed to using SVG&apos;s
<att>attributeName</att> and <att>to</att> attributes).</p>
<note role="example">
<p>For example, specifying <code>tts:color="red"</code> is
considered equivalent to specifying <code>attributeName="tts:color"</code> and <code>to="red"</code> in <bibref ref="svg11"/>.</p>
</note>
</item>
<item><p>If no <att>fill</att> attribute is specified, then a <emph>fill</emph> value of <code>remove</code> applies.</p></item>
</olist>
<p>An example of using the <el>set</el> element to animate content
styling is illustrated below:</p>
<table id="animation-vocabulary-set-example-1" role="example">
<caption>Example Fragment &ndash; Content Style Animation</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
...
&lt;p dur="5s" tts:color="yellow"&gt;
<phrase role="strong">&lt;set begin="1s" dur="1s" tts:color="red"/&gt;</phrase>
<phrase role="strong">&lt;set begin="2s" dur="1s" tts:color="green"/&gt;</phrase>
<phrase role="strong">&lt;set begin="3s" dur="1s" tts:color="red"/&gt;</phrase>
Text with Flashing Colors!
&lt;/p&gt;
...
</eg>
</td>
</tr>
</tbody>
</table>
<note role="explanation">
<p>In the above example, the foreground color of the content "Text
with Flashing Colors!" is animated from yellow, to red, to green, to
red, then back to yellow over a 5 second period.</p>
</note>
<p>An example of using the <el>set</el> element to animate region
styling is illustrated below:</p>
<table id="animation-vocabulary-set-example-2" role="example">
<caption>Example Fragment &ndash; Region Style Animation</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;tt xml:lang="" xmlns="http://www.w3.org/ns/ttml"
    xmlns:ttp="http://www.w3.org/ns/ttml#parameter"
    xmlns:tts="http://www.w3.org/ns/ttml#styling"
    ttp:cellResolution="40 16"&gt;
    &lt;head&gt;
      &lt;layout&gt;
	&lt;region xml:id="r1" timeContainer="seq"&gt;
	  <phrase role="strong">&lt;set dur="10s" tts:origin=" 8c 14c"/&gt;</phrase>
	  <phrase role="strong">&lt;set dur="2s"  tts:origin=" 2c  2c"/&gt;</phrase>
	  <phrase role="strong">&lt;set dur="3s"  tts:origin=" 8c 14c"/&gt;</phrase>
	  <phrase role="strong">&lt;set dur="2s"  tts:origin="14c  4c"/&gt;</phrase>
	  <phrase role="strong">&lt;set dur="10s" tts:origin=" 8c 14c"/&gt;</phrase>
	  &lt;style tts:extent="24c 2c"/&gt;
	&lt;/region&gt;
      &lt;/layout&gt;
    &lt;/head&gt;
    &lt;body region="r1"&gt;...&lt;/body&gt;
&lt;/tt&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<note role="explanation">
<p>In the above example, the <loc href="#terms-root-container-region">root container region</loc> is divided into a
cell grid of 40 columns and 16 rows. A region, <code>r1</code>, with
dimensions of 24 columns and 2 rows is then positioned within the
<loc href="#terms-root-container-region">root container region</loc>, with its position varying over time in order to
create an effect of moving the region, which may be desirable so as
to avoid obscuring characters in an underlying video with captions.</p>
</note>
<p></p>
<note role="derivation">
<p>The semantics of the <el>set</el> element
are based upon that defined by <bibref ref="svg11"/>,
&sect;19.2.13, which, in turn, is based upon <bibref ref="smil3"/>, &sect;12.</p>
</note>
</div3>
</div2> <!-- animation-element-vocabulary -->
<div2 id="animation-attribute-vocabulary">
<head>Animation Attribute Vocabulary</head>
<p>This section defines the <specref ref="animation-attribute-animate"/> attribute used with <loc href="#terms-content-element">content elements</loc>
and certain layout elements.</p>
<div3 id="animation-attribute-animate">
<head>animate</head>
<p>The <att>animate</att> attribute is used
to reference one or more elements in the <loc href="#element-vocab-group-animation"><code>Animation.class</code></loc> element group
each of which defines a specific <loc href="#terms-out-of-line-animation">out-of-line animation</loc>.</p>
<p>The <att>animate</att> attribute may be specified by an instance of the following
element types:</p>
<ulist>
<item><p><loc href="#embedded-content-vocabulary-audio"><el>audio</el></loc></p></item>
<item><p><loc href="#document-structure-vocabulary-body"><el>body</el></loc></p></item>
<item><p><loc href="#content-vocabulary-div"><el>div</el></loc></p></item>
<item><p><loc href="#embedded-content-vocabulary-image"><el>image</el></loc></p></item>
<item><p><loc href="#content-vocabulary-p"><el>p</el></loc></p></item>
<item><p><loc href="#layout-vocabulary-region"><el>region</el></loc></p></item>
<item><p><loc href="#content-vocabulary-span"><el>span</el></loc></p></item>
</ulist>
<p>If specified, the value of an <att>animate</att> attribute must
adhere to the <code>IDREFS</code> data type defined by <bibref ref="xsd-2"/>,
&sect;3.3.10, and, furthermore, each IDREF must reference an element in the <loc href="#element-vocab-group-animation"><code>Animation.class</code></loc>
element group which has a <loc href="#animation-vocabulary-animation"><el>animation</el></loc> element as an ancestor.</p>
<p>A given IDREF must not appear more than one time in the value of an <att>animate</att>
attribute.</p>
<p>For each <loc href="#terms-out-of-line-animation">out-of-line animation</loc> element <emph>A</emph> referenced by the <att>animate</att>
attribute of an element <emph>E</emph>, perform the following steps (in order of specified IDREFs):</p>
<olist>
<item><p>create a deep copy, <emph>A&apos;</emph>, of <emph>A</emph>;</p></item>
<item><p>remove the <loc href="#content-attribute-xml-id"><att>xml:id</att></loc> attribute from <emph>A&apos;</emph>&nbsp;;</p></item>
<item><p>insert <emph>A&apos;</emph> into the <code>[children]</code> information item property of <emph>E</emph> such that <emph>A&apos;</emph> appears
as the last element in the subsequence of child elements that corresponds to the
<code><loc href="#element-vocab-group-animation">Animation.class</loc>*</code> wildcard of the content model of <emph>E</emph>.</p></item>
</olist>
<note role="elaboration">
<p>The semantics of out-of-line-animation essentially form a shortcut for specifying inline animations, which is useful in the case that
the same animation is used in multiple referring elements.</p>
</note>
<note role="usage">
<p>See also the specific element type definitions that permit use of the
<att>animate</att> attribute.</p>
</note>
</div3>
</div2> <!-- animation-attribute-vocabulary -->
<div2 id="animation-value-expressions">
<head>Animation Value Expressions</head>
<p>Animation attribute values include the use of the following expressions:</p>
<ulist>
<item><p><specref ref="animation-value-animation-value"/></p></item>
<item><p><specref ref="animation-value-animation-value-list"/></p></item>
<item><p><specref ref="animation-value-calculation-mode"/></p></item>
<item><p><specref ref="animation-value-fill"/></p></item>
<item><p><specref ref="animation-value-key-splines"/></p></item>
<item><p><specref ref="animation-value-key-times"/></p></item>
<item><p><specref ref="animation-value-repeat-count"/></p></item>
</ulist>
<div3 id="animation-value-animation-value">
<head>&lt;animation-value&gt;</head>
<p>An &lt;animation-value&gt; expression is used to specify the starting (initial), intermediate,
or ending (final) of the attribute targeted by the animation.</p>
<table id="animation-value-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;animation-value&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;animation-value&gt;
  : ([^;] | escape)+

escape
  : &apos;\\&apos; <emph>char</emph>
</eg>
</td>
</tr>
</tbody>
</table>
<p>The syntax of an &lt;animation-value&gt; expression must satisfy all syntax
requirements that apply to the attribute targeted by the animation, and, furthermore, must not contain
an unescaped semicolon.</p>
<p>The semantics of an &lt;animation-value&gt; expression are those defined by
<bibref ref="svg11"/>, &sect;19.2.9.</p>
</div3>
<div3 id="animation-value-animation-value-list">
<head>&lt;animation-value-list&gt;</head>
<p>An &lt;animation-value-list&gt; expression is used to specify a list of animation values that sequentially
apply to the attribute targeted by the animation.</p>
<table id="animation-value-list-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;animation-value-list&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;animation-value-list&gt;
  : <loc href="#animation-value-animation-value">&lt;animation-value&gt;</loc> (<loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? ";" <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? <loc href="#animation-value-animation-value">&lt;animation-value&gt;</loc>)+
</eg>
</td>
</tr>
</tbody>
</table>
<p>The syntax of an &lt;animation-value&gt; in an &lt;animation-value-list&gt; expression must satisfy all syntax
requirements that apply to the attribute targeted by the animation.</p>
<p>The semantics of an &lt;animation-value-list&gt; expression are those defined by
<bibref ref="svg11"/>, &sect;19.2.9.</p>
</div3>
<div3 id="animation-value-calculation-mode">
<head>&lt;calculation-mode&gt;</head>
<p>A &lt;calculation-mode&gt; expression is used to control the interpolation mode of the animation.</p>
<table id="calculation-mode-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;calculation-mode&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;calculation-mode&gt;
  : "discrete"
  | "linear"
  | "paced"
  | "spline"
</eg>
</td>
</tr>
</tbody>
</table>
<p>The semantics of a &lt;calculation-mode&gt; expression are those defined by
<bibref ref="svg11"/>, &sect;19.2.9.</p>
</div3>
<div3 id="animation-value-fill">
<head>&lt;fill&gt;</head>
<p>A &lt;fill&gt; expression is used to determine effect of the animation after the active end of the animation.</p>
<table id="fill-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;fill&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;fill&gt;
  : "freeze"
  | "remove"
</eg>
</td>
</tr>
</tbody>
</table>
<p>The semantics of a &lt;fill&gt; expression are those defined by
<bibref ref="svg11"/>, &sect;19.2.8.</p>
</div3>
<div3 id="animation-value-key-splines">
<head>&lt;key-splines&gt;</head>
<p>A &lt;key-splines&gt; expression is used to specify a list of Bezier control points that control the pacing of an
animation, wherein each pair of values is separated by a SEMICOLON (U+003B) character
optionally surrounded by linear whitespace (LWSP) characters.</p>
<table id="key-splines-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;key-splines&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;key-splines&gt;
  : control ( <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? ";" <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? control )*

control
  : x1 <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> y1 <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> x2 <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> y2

x1, x2, y1, y2
  : coordinate

coordinate                                // 0 &ge; <emph>value</emph> &ge; 1
  : whole
  | whole "." fraction
  | "." fraction

whole, fraction
  : <loc href="#style-value-non-negative-integer">&lt;non-negative-integer&gt;</loc>
</eg>
</td>
</tr>
</tbody>
</table>
<p>The semantics of a &lt;key-splines&gt; expression are those defined by
<bibref ref="svg11"/>, &sect;19.2.9, as apply to the <att>key-splines</att> attribute.</p>
</div3>
<div3 id="animation-value-key-times">
<head>&lt;key-times&gt;</head>
<p>A &lt;key-times&gt; expression is used to specify a list of relative time values that control the pacing of an
animation, wherein each pair of values is separated by a SEMICOLON (U+003B) character
optionally surrounded by linear whitespace (LWSP) characters.</p>
<table id="key-times-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;key-times&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;key-times&gt;
  : time ( <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? ";" <loc href="#style-value-lwsp">&lt;lwsp&gt;</loc>? time )*

time                                // 0 &ge; <emph>value</emph> &ge; 1
  : whole
  | whole "." fraction
  | "." fraction

whole, fraction
  : <loc href="#style-value-non-negative-integer">&lt;non-negative-integer&gt;</loc>
</eg>
</td>
</tr>
</tbody>
</table>
<p>The semantics of a &lt;key-times&gt; expression are those defined by
<bibref ref="svg11"/>, &sect;19.2.9, as apply to the <att>key-times</att> attribute.</p>
</div3>
<div3 id="animation-value-repeat-count">
<head>&lt;repeat-count&gt;</head>
<p>A &lt;repeat-count&gt; expression is used to determine the (possibly fractional) number of iterations of a repeated animation.</p>
<table id="repeat-count-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;repeat-count&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;repeat-count&gt;
  : count                           // <emph>value</emph> > 0
  | "indefinite"

count:
  : whole
  | whole "." fraction
  | "." fraction

whole, fraction
  : <loc href="#style-value-non-negative-integer">&lt;non-negative-integer&gt;</loc>
</eg>
</td>
</tr>
</tbody>
</table>
<p>The semantics of a &lt;repeat-count&gt; expression are those defined by
<bibref ref="svg11"/>, &sect;19.2.8.</p>
</div3>
</div2> <!-- animation-value-expressions -->
</div1> <!-- animation -->
<div1 id="metadata">
<head>Metadata</head>
<p>This section specifies the <emph>metadata</emph> matter of the core
vocabulary catalog, where
metadata is to be understood as a separable layer of information that applies to
parameters, content,
style, layout, timing, and even metadata itself, where the information
represented by metadata takes one of two forms: (1) metadata defined by this
specification for standardized use in a <loc href="#terms-document-instance">document instance</loc>, and (2) arbitrary
metadata defined outside of the scope of this specification, whose use and
semantics depend entirely upon an application&apos;s use of TTML Content.</p>
<p>This specification does not define any presentation semantics for metadata; therefore, a conformant
<loc href="#terms-presentation-processor">presentation processor</loc> may ignore all metadata matter.</p>
<note role="clarification">
<p>Although this specification does not ascribe any presentation semantics to metadata, a superset profile of
this specification may do so, in which case any metadata dependent presentation semantics defined by such a profile is
considered outside the scope of this specification.</p>
</note>
<div2 id="metadata-element-vocabulary">
<head>Metadata Element Vocabulary</head>
<p>The <specref ref="metadata-vocabulary-metadata"/> element serves as
a generic container element for grouping metadata information.</p>
<p>In addition, the following elements, all defined in the TT Metadata Namespace,
provide standard representations for metadata that is expected to be commonly
used in a <loc href="#terms-document-instance">document instance</loc>:
</p>
<ulist>
<item><p><specref ref="metadata-vocabulary-actor"/></p></item>
<item><p><specref ref="metadata-vocabulary-agent"/></p></item>
<item><p><specref ref="metadata-vocabulary-copyright"/></p></item>
<item><p><specref ref="metadata-vocabulary-desc"/></p></item>
<item><p><specref ref="metadata-vocabulary-item"/></p></item>
<item><p><specref ref="metadata-vocabulary-name"/></p></item>
<item><p><specref ref="metadata-vocabulary-title"/></p></item>
</ulist>
<div3 id="metadata-vocabulary-metadata">
<head>metadata</head>
<p>The <el>metadata</el> element functions as a generic container for metadata
information.</p>
<p>Metadata information may be expressed with a <el>metadata</el> element by specifying
(1) one or more metadata attributes or foreign namespace attributes on the <el>metadata</el> element,
(2) one or more metadata item or foreign namespace child elements,
(3) one or more <loc href="#embedded-content-vocabulary-data"><el>data</el></loc> child elements, or
(4) a combination of the preceding.</p>
<note role="clarification"><p>This specification defines the
formal validity of a <loc href="#terms-document-instance">document instance</loc> to be based on an
<loc href="#terms-abstract-document-instance">abstract document instance</loc> from
which all foreign namespace elements and attributes have been removed. Therefore, the
following XML Representation does not formally include foreign namespace attributes or foreign namespace child elements in its content model;
nevertheless, such foreign namespace child elements may appear in a concrete encoding of TTML
<loc href="#terms-document-instance">document instance</loc>.</p></note>
<table id="elt-syntax-metadata" role="syntax">
<caption>XML Representation &ndash; Element Information Item: metadata</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;metadata
  <loc href="#content-attribute-condition">condition</loc> = <loc href="#content-value-condition">&lt;condition&gt;</loc>
  <loc href="#content-attribute-xml-base">xml:base</loc> = <loc href="#content-value-uri">&lt;uri&gt;</loc>
  <loc href="#content-attribute-xml-id">xml:id</loc> = ID
  <loc href="#content-attribute-xml-lang">xml:lang</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  <loc href="#content-attribute-xml-space">xml:space</loc> = (<emph>"default"</emph> | <emph>"preserve"</emph>)
  {<emph>any attributes in TT Metadata Namespace</emph>}
  <emph>Content:</emph> (<loc href="#element-vocab-group-data"><code>Data.class</code></loc>|{<emph>any element in TT Metadata Namespace</emph>})*
&lt;/metadata&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<note role="explanation">
<p>The meaning of a specific metadata item must be evaluated in the
context where it appears. The core vocabulary catalog permits an
arbitrary number of <el>metadata</el> element children on any
<loc href="#terms-content-element">content element</loc> type. See specific element
vocabulary definitions for any constraints that apply to such
usage.</p>
</note>
<p>The use of document metadata is illustrated by the following example.</p>
<table id="metadata-vocabulary-metadata-example-1" role="example">
<caption>Example Fragment &ndash; Document Metadata</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
...
&lt;head&gt;
  &lt;metadata xmlns:ttm="http://www.w3.org/ns/ttml#metadata"&gt;
    &lt;ttm:title&gt;Document Metadata Example&lt;/ttm:title&gt;
    &lt;ttm:desc&gt;This document employs document metadata.&lt;/ttm:desc&gt;
  &lt;/metadata&gt;
&lt;/head&gt;
...
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<p>The use of element metadata is illustrated by the following example.</p>
<table id="metadata-vocabulary-metadata-example-2" role="example">
<caption>Example Fragment &ndash; Element Metadata</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
...
&lt;div&gt;
  &lt;metadata xmlns:ttm="http://www.w3.org/ns/ttml#metadata"&gt;
    &lt;ttm:title&gt;Chapter 6 &ndash; Sherlock Holmes Gives a Demonstration&lt;/ttm:title&gt;
    &lt;ttm:desc&gt;Holmes shows Watson how the murderer entered the window.&lt;/ttm:desc&gt;
  &lt;/metadata&gt;
&lt;/div&gt;
...
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<p>The use of metadata attribute items is illustrated by the following example.</p>
<table id="metadata-vocabulary-metadata-example-3" role="example">
<caption>Example Fragment &ndash; Foreign Metadata Attribute Items</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
...
&lt;div xmlns:ext="https://example.org/ttml#metadata"&gt;
  &lt;metadata ext:ednote="remove this division prior to publishing"/&gt;
&lt;/div&gt;
...
</eg>
</td>
</tr>
</tbody>
</table>
<note role="explanation">
<p>In the above example, a global attribute from a foreign (external)
namespace is used to express a metadata attribute that applies
semantically to the containing <el>div</el> element. Note that the
attribute may also be expressed directly on the <el>div</el> element;
however, in this case the author wishes to segregate certain metadata
attributes by expressing them indirectly on <el>metadata</el>
elements.</p>
</note>
<note role="clarification"><p>The presence of foreign namespace attributes in a concrete encoding of a TTML
<loc href="#terms-document-instance">document instance</loc> does not affect the formal validity of that
<loc href="#terms-document-instance">document instance</loc> with respect to the applicable
<loc href="#terms-abstract-document-type">abstract document type</loc> selected by <specref ref="doctypes"/>.</p></note>
<p>The use of foreign element metadata is illustrated by the following example.</p>
<table id="metadata-vocabulary-metadata-example-4" role="example">
<caption>Example Fragment &ndash; Foreign Element Metadata</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
...
&lt;metadata
  xmlns:dc="http://purl.org/dc/elements/1.1/"
  xmlns:dcterms="http://purl.org/dc/terms/"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
  &lt;dc:title&gt;Foreign Element Metadata Example&lt;/dc:title&gt;
  &lt;dc:description&gt;Express metadata using elements in foreign namespace.&lt;/dc:description&gt;
  &lt;dc:format xsi:type="dcterms:IMT"&gt;application/ttml+xml&lt;/dc:format&gt;
&lt;/metadata&gt;
...
</eg>
</td>
</tr>
</tbody>
</table>
<note role="explanation">
<p>In the above example, a number of elements defined by the Dublin
Core metadata vocabulary are used to express document level metadata.</p>
</note>
<note role="clarification"><p>The presence of foreign namespace elements in a concrete encoding of a TTML
<loc href="#terms-document-instance">document instance</loc> does not affect the formal validity of that
<loc href="#terms-document-instance">document instance</loc> with respect to the applicable
<loc href="#terms-abstract-document-type">abstract document type</loc> selected by <specref ref="doctypes"/>.</p></note>
</div3>
<div3 id="metadata-vocabulary-actor">
<head>ttm:actor</head>
<p>The <el>ttm:actor</el> element is used to link the definition of a (role-based) character
agent with another agent that portrays the character.</p>
<table id="elt-syntax-metadata-actor" role="syntax">
<caption>XML Representation &ndash; Element Information Item: ttm:actor</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;ttm:actor
  <phrase role="reqattr">agent</phrase> = IDREF
  <loc href="#content-attribute-condition">condition</loc> = <loc href="#content-value-condition">&lt;condition&gt;</loc>
  <loc href="#content-attribute-xml-base">xml:base</loc> = <loc href="#content-value-uri">&lt;uri&gt;</loc>
  <loc href="#content-attribute-xml-id">xml:id</loc> = ID
  <loc href="#content-attribute-xml-lang">xml:lang</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  <loc href="#content-attribute-xml-space">xml:space</loc> = (<emph>"default"</emph> | <emph>"preserve"</emph>)
  <emph>Content:</emph> EMPTY
&lt;/ttm:actor&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>The <att>agent</att> attribute of a <el>ttm:actor</el> element must
reference a <emph>significant</emph> <el>ttm:agent</el> element that denotes the agent
acting the part of a character.</p>
<p>The use of <phrase role="deprecated">a reference from the
<att>agent</att> attribute of a <el>ttm:actor</el> element to its
parent <el>ttm:agent</el> element is deprecated</phrase>, and,
furthermore, the semantics of such a circular chain of references are
not defined by this specification.</p>
<note role="clarification"><p>If an implementation follows such a
circular chain of agent references, then it is recommended that this
condition be detected and further dereferencing of agent references be
terminated in order to avoid an infinite loop.</p></note>
<note role="example"><p>In the case of an actor playing themselves,
for example, Steve Coogan in <emph>The Trip</emph> playing Steve Coogan, the
expected practice is to use two <el>ttm:agent</el> elements. The first
element (corresponding to Steve Coogan the person) uses a
<att>type</att> attribute with value <code>person</code>, while the
second element (corresponding to Steve Coogan the character) uses (i)
a <att>type</att> attribute with value <code>character</code> and (ii)
a child <el>ttm:actor</el> element that references the first
<el>ttm:agent</el> element.</p></note>
<p>An example of the <el>ttm:actor</el> element is shown above in
<specref ref="metadata-vocabulary-agent-example-1"/>.</p>
</div3>
<div3 id="metadata-vocabulary-agent">
<head>ttm:agent</head>
<p>The <el>ttm:agent</el> element is used to define an agent for the purpose of associating
content information with an agent who is involved in the production or expression of that content.</p>
<p>The <el>ttm:agent</el> element accepts as its children zero or more <el>ttm:name</el> elements followed by
zero or one <el>ttm:actor</el> element.</p>
<p>At least one <el>ttm:name</el> element child should be specified that expresses a name for the
agent, whether it be the name of a person, character, group, or organization.</p>
<table id="elt-syntax-metadata-agent" role="syntax">
<caption>XML Representation &ndash; Element Information Item: ttm:agent</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;ttm:agent
  <loc href="#content-attribute-condition">condition</loc> = <loc href="#content-value-condition">&lt;condition&gt;</loc>
  <phrase role="reqattr">type</phrase> = (<emph>"person"</emph> | <emph>"character"</emph> | <emph>"group"</emph> | <emph>"organization"</emph> | <emph>"other"</emph>)
  <loc href="#content-attribute-xml-base">xml:base</loc> = <loc href="#content-value-uri">&lt;uri&gt;</loc>
  <loc href="#content-attribute-xml-id">xml:id</loc> = ID
  <loc href="#content-attribute-xml-lang">xml:lang</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  <loc href="#content-attribute-xml-space">xml:space</loc> = (<emph>"default"</emph> | <emph>"preserve"</emph>)
  <emph>Content:</emph> <loc href="#metadata-vocabulary-name">ttm:name</loc>*, <loc href="#metadata-vocabulary-actor">ttm:actor</loc>?
&lt;/ttm:agent&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>A <att>type</att> attribute must be specified on each <el>ttm:agent</el> element, and,
if specified, must have one of the following values:</p>
<ulist>
<item><p><code>person</code></p></item>
<item><p><code>character</code></p></item>
<item><p><code>group</code></p></item>
<item><p><code>organization</code></p></item>
<item><p><code>other</code></p></item>
</ulist>
<p>If the value of the <att>type</att> attribute is <code>character</code>, then the
<el>ttm:agent</el> element instance should specify a <el>ttm:actor</el> child that
specifies the agent that plays the role of the actor.</p>
<p>A <att>ttm:agent</att> metadata item is considered to be significant only
when specified as a child of the <el>head</el> element or as a child of a
<el>metadata</el> element child of the <el>head</el> element.</p>
<note role="elaboration">
<p>A <el>ttm:agent</el> element instance is typically referenced using a <att>ttm:agent</att>
attribute on a <loc href="#terms-content-element">content element</loc> type.</p>
</note>
<note role="elaboration">
<p>If a character agent is played by multiple actors, then multiple character
agents may be specified (and referenced) wherein different definitions of the
character specify different actors.</p>
</note>
<p>The use of agent metadata is illustrated by the following example.</p>
<table id="metadata-vocabulary-agent-example-1" role="example">
<caption>Example Fragment &ndash; Agent Metadata</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;tt xml:lang="en" xmlns="http://www.w3.org/ns/ttml" xmlns:ttm="http://www.w3.org/ns/ttml#metadata"&gt;
  &lt;head&gt;
    <phrase role="strong">&lt;ttm:agent xml:id="connery" type="person"&gt;</phrase>
      &lt;ttm:name type="family"&gt;Connery&lt;/ttm:name&gt;
      &lt;ttm:name type="given"&gt;Thomas Sean&lt;/ttm:name&gt;
      &lt;ttm:name type="alias"&gt;Sean&lt;/ttm:name&gt;
      &lt;ttm:name type="full"&gt;Sir Thomas Sean Connery&lt;/ttm:name&gt;
    <phrase role="strong">&lt;/ttm:agent&gt;</phrase>
    <phrase role="strong">&lt;ttm:agent xml:id="bond" type="character"&gt;</phrase>
      &lt;ttm:name type="family"&gt;Bond&lt;/ttm:name&gt;
      &lt;ttm:name type="given"&gt;James&lt;/ttm:name&gt;
      &lt;ttm:name type="alias"&gt;007&lt;/ttm:name&gt;
      &lt;ttm:actor agent="connery"/&gt;
    <phrase role="strong">&lt;/ttm:agent&gt;</phrase>
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div&gt;
      ...  
      &lt;p <phrase role="strong">ttm:agent="bond"</phrase>&gt;I travel, a sort of licensed troubleshooter.&lt;/p&gt;
      ...  
    &lt;/div&gt;
  &lt;/body&gt;
&lt;/tt&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<note role="explanation">
<p>In the above example, two agents, a real (person) agent, Sean
Connery, and a fictitious (character) agent, James Bond, are defined,
where the latter is linked to the former by means of the a
<el>ttm:actor</el> element. A reference is then made from content (the
<el>p</el> element) to the character agent associated with
(responsible for producing) that content. Note that in this example
the <el>ttm:agent</el> metadata items are specified as immediate
children of the document&apos;s <el>head</el> element rather than being
placed in a container <el>metadata</el> element.</p>
</note>
</div3>
<div3 id="metadata-vocabulary-copyright">
<head>ttm:copyright</head>
<p>The <el>ttm:copyright</el> element is used to express a human-readable copyright that
applies to some scoping level.</p>
<p>A copyright statement that applies to a document as a whole should appear as a
child of the <el>head</el> element.</p>
<table id="elt-syntax-metadata-copyright" role="syntax">
<caption>XML Representation &ndash; Element Information Item: ttm:copyright</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;ttm:copyright
  <loc href="#content-attribute-condition">condition</loc> = <loc href="#content-value-condition">&lt;condition&gt;</loc>
  <loc href="#content-attribute-xml-base">xml:base</loc> = <loc href="#content-value-uri">&lt;uri&gt;</loc>
  <loc href="#content-attribute-xml-id">xml:id</loc> = ID
  <loc href="#content-attribute-xml-lang">xml:lang</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  <loc href="#content-attribute-xml-space">xml:space</loc> = (<emph>"default"</emph> | <emph>"preserve"</emph>)
  <emph>Content:</emph> #PCDATA
&lt;/ttm:copyright&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<note role="elaboration">
<p>No specific use of the <el>ttm:copyright</el> element is defined by this specification.</p>
</note>
</div3>
<div3 id="metadata-vocabulary-desc">
<head>ttm:desc</head>
<p>The <el>ttm:desc</el> element is used to express a human-readable description of
a specific element instance.</p>
<table id="elt-syntax-metadata-desc" role="syntax">
<caption>XML Representation &ndash; Element Information Item: ttm:desc</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;ttm:desc
  <loc href="#content-attribute-condition">condition</loc> = <loc href="#content-value-condition">&lt;condition&gt;</loc>
  <loc href="#content-attribute-xml-base">xml:base</loc> = <loc href="#content-value-uri">&lt;uri&gt;</loc>
  <loc href="#content-attribute-xml-id">xml:id</loc> = ID
  <loc href="#content-attribute-xml-lang">xml:lang</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  <loc href="#content-attribute-xml-space">xml:space</loc> = (<emph>"default"</emph> | <emph>"preserve"</emph>)
  <emph>Content:</emph> #PCDATA
&lt;/ttm:desc&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<note role="elaboration">
<p>No specific use of the <el>ttm:desc</el> element is defined by this specification.</p>
</note>
<p>Examples of the <att>ttm:desc</att> element are shown above in
<specref ref="metadata-vocabulary-metadata-example-1"/> and
<specref ref="metadata-vocabulary-metadata-example-2"/>.</p>
</div3>
<div3 id="metadata-vocabulary-item">
<head>ttm:item</head>
<p>The <el>ttm:item</el> element is used to express arbitrary named metadata items.</p>
<p>The <el>ttm:item</el> element accepts one of the following two content models:
(1) one or more <termref def="defs-text-node">text nodes</termref> (i.e., <code>#PCDATA</code>) or
(2) zero or more nested <loc href="#metadata-vocabulary-item">ttm:item</loc> elements.</p>
<table id="elt-syntax-metadata-item" role="syntax">
<caption>XML Representation &ndash; Element Information Item: ttm:item</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;ttm:item
  <loc href="#content-attribute-condition">condition</loc> = <loc href="#content-value-condition">&lt;condition&gt;</loc>
  <phrase role="reqattr">name</phrase> = <loc href="#metadata-value-item-name">&lt;item-name&gt;</loc>
  <loc href="#content-attribute-xml-base">xml:base</loc> = <loc href="#content-value-uri">&lt;uri&gt;</loc>
  <loc href="#content-attribute-xml-id">xml:id</loc> = ID
  <loc href="#content-attribute-xml-lang">xml:lang</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  <loc href="#content-attribute-xml-space">xml:space</loc> = (<emph>"default"</emph> | <emph>"preserve"</emph>)
  <emph>Content:</emph> #PCDATA | <loc href="#metadata-vocabulary-item">ttm:item</loc>*
&lt;/ttm:item&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>A <att>name</att> attribute must be specified to identify the name of the item, the value of which must adhere to
an <loc href="#metadata-value-item-name">&lt;item-name&gt;</loc> value expression.</p>
<note role="elaboration">
<p>No general constraint is placed on the appearance of multiple named metadata items that specify the same name; however,
the definition of a specific named item may further constrain the context of use as well as the potential appearance of multiple items that share the same name.</p>
</note>
<p>The value of a named metadata item is
(1) empty if the element has no child text or <termref def="defs-element-node">element node</termref>s,
(2) the character content of the <el>ttm:item</el> element when that element&apos;s children consists solely of <termref def="defs-text-node">text node</termref>s, or
(3) a collection of named metadata sub-items.</p>
<note role="elaboration">
<p>The definition of a particular named item will typically constrain the set of permitted values. Furthermore, it may
specify that a particular value is implied in the absence of a specified value.</p>
</note>
<note role="elaboration">
<p>When the value of a named metadata item consists of natural language text, the
<loc href="#content-attribute-xml-lang"><att>xml:lang</att></loc> attribute may be directly
specified on the metadata item element or indirectly inherited from that element&apos;s nearest ancestor
in order to identify the language that applies to the named metadata item value.</p>
</note>
<p>The use of a named metadata item is illustrated by the following example, which shows the use of a named metadata item
in order to associate a <loc href="#terms-simple-data-embedding">simple data embedding</loc> with an original file name.</p>
<table id="metadata-vocabulary-item-example-1" role="example">
<caption>Example Fragment &ndash; Named Metadata Item</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
...
&lt;image&gt;
  &lt;source&gt;
    &lt;data type="image/png"&gt;
      <phrase role="strong">&lt;ttm:item name="originalFileName"
        xmlns:ttm="http://www.w3.org/ns/ttml#metadata"&gt;image.png&lt;/ttm:item&gt;</phrase>
      &lt;chunk length="119"&gt;
        iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8
        YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAMSURBVBhXY2BgYAAAAAQAAVzN/2kAAAAASUVORK5CYII=
      &lt;/chunk&gt;
    &lt;/data&gt;
  &lt;/source&gt;
&lt;/image&gt;
...
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<note role="explanation">
<p>The above example makes use of a single <loc href="#embedded-content-vocabulary-chunk">chunk</loc> element in order
to include a <el>ttm:item</el> element as a child of the <loc href="#embedded-content-vocabulary-data">data</loc> element;
i.e., if the encoded image bytes had been included directly as #PCDATA in the <loc href="#embedded-content-vocabulary-data">data</loc> element,
then it would not have been possible to include the <el>ttm:item</el> child element. See the supported content models on the
<loc href="#embedded-content-vocabulary-data">data</loc> element for more information.</p>
</note>
</div3>
<div3 id="metadata-vocabulary-name">
<head>ttm:name</head>
<p>The <el>ttm:name</el> element is used to specify a name of a person, character,
group, or organization.</p>
<table id="elt-syntax-metadata-name" role="syntax">
<caption>XML Representation &ndash; Element Information Item: ttm:name</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;ttm:name
  <loc href="#content-attribute-condition">condition</loc> = <loc href="#content-value-condition">&lt;condition&gt;</loc>
  <phrase role="reqattr">type</phrase> = (<emph>"full"</emph> | <emph>"family"</emph> | <emph>"given"</emph> | <emph>"alias"</emph> | <emph>"other"</emph>)
  <loc href="#content-attribute-xml-base">xml:base</loc> = <loc href="#content-value-uri">&lt;uri&gt;</loc>
  <loc href="#content-attribute-xml-id">xml:id</loc> = ID
  <loc href="#content-attribute-xml-lang">xml:lang</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  <loc href="#content-attribute-xml-space">xml:space</loc> = (<emph>"default"</emph> | <emph>"preserve"</emph>)
  <emph>Content:</emph> #PCDATA
&lt;/ttm:name&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>A <att>type</att> attribute must be specified on each <el>ttm:name</el> element, and,
if specified, must have one of the following values:</p>
<ulist>
<item><p><code>full</code></p></item>
<item><p><code>family</code></p></item>
<item><p><code>given</code></p></item>
<item><p><code>alias</code></p></item>
<item><p><code>other</code></p></item>
</ulist>
<p>The relationship between the type of a name and the syntactic expression of the name
is not defined by this specification.</p>
<p>Two examples of the <el>ttm:name</el> element are shown above in
<specref ref="metadata-vocabulary-agent-example-1"/>.</p>
</div3>
<div3 id="metadata-vocabulary-title">
<head>ttm:title</head>
<p>The <el>ttm:title</el> element is used to express a human-readable title of
a specific element instance.</p>
<table id="elt-syntax-metadata-title" role="syntax">
<caption>XML Representation &ndash; Element Information Item: ttm:title</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;ttm:title
  <loc href="#content-attribute-condition">condition</loc> = <loc href="#content-value-condition">&lt;condition&gt;</loc>
  <loc href="#content-attribute-xml-base">xml:base</loc> = <loc href="#content-value-uri">&lt;uri&gt;</loc>
  <loc href="#content-attribute-xml-id">xml:id</loc> = ID
  <loc href="#content-attribute-xml-lang">xml:lang</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  <loc href="#content-attribute-xml-space">xml:space</loc> = (<emph>"default"</emph> | <emph>"preserve"</emph>)
  <emph>Content:</emph> #PCDATA
&lt;/ttm:title&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<note role="elaboration">
<p>No specific use of the <el>ttm:title</el> element is defined by this specification.</p>
</note>
<p>Examples of the <att>ttm:title</att> element are shown above in
<specref ref="metadata-vocabulary-metadata-example-1"/> and
<specref ref="metadata-vocabulary-metadata-example-2"/>.</p>
</div3>
</div2> <!-- metadata-element-vocabulary -->
<div2 id="metadata-attribute-vocabulary">
<head>Metadata Attribute Vocabulary</head>
<p>This section specifies the following attributes in the TT Metadata Namespace
for use with the <el>metadata</el> element and with
<loc href="#terms-content-element">content elements</loc>:</p>
<ulist>
<item><p><specref ref="metadata-attribute-agent"/></p></item>
<item><p><specref ref="metadata-attribute-role"/></p></item>
</ulist>
<div3 id="metadata-attribute-agent">
<head>ttm:agent</head>
<p>The <att>ttm:agent</att> attribute takes an <code>IDREFS</code>
value, and is used with <loc href="#terms-content-element">content elements</loc> to designate the
agents that perform or are
involved in the performance of the content.</p>
<p>If specified, a <att>ttm:agent</att> attribute must reference <emph>significant</emph>
<el>ttm:agent</el> element instances.</p>
<p>The same IDREF, <emph>ID</emph>, should not appear more than once in the value of a <att>ttm:agent</att> attribute.</p>
<note role="explanation">
<p>This constraint is intended to discourage the use of redundant agent references.</p>
</note>
<p>An example of the <att>ttm:agent</att> attribute is shown above in
<specref ref="metadata-vocabulary-agent-example-1"/>.</p>
</div3>
<div3 id="metadata-attribute-role">
<head>ttm:role</head>
<p>The <att>ttm:role</att> attribute may be used by a content author
to express
the roles, functions, or characteristics
of <loc href="#terms-content-element">content elements</loc> so labeled.</p>
<p>If specified, the value of this attribute must adhere to the following
syntax:</p>
<table id="metadata-attribute-role-syntax" role="syntax">
<caption>Syntax Representation &ndash; ttm:role</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
ttm:role
  role (<loc href="#style-value-lwsp">&lt;lwsp&gt;</loc> role)*

role
  : "action"
  | "caption"
  | "description"
  | "dialog"
  | "expletive"
  | "kinesic"
  | "lyrics"
  | "music"
  | "narration"
  | "quality"
  | "sound"
  | "source"
  | "suppressed"
  | "reproduction"
  | "thought"
  | "title"
  | "transcription"
  | extension-role

extension-role
  : "x-" token-char+

token-char
  : { XML NameChar }    // <bibref ref="xml10"/> Production [4a]
</eg>
</td>
</tr>
</tbody>
</table>
<p>The same <code>role</code> token, <emph>R</emph>, should not appear more than once in the value of a <att>ttm:role</att> attribute.</p>
<note role="explanation">
<p>This constraint is intended to discourage the use of redundant role tokens.</p>
</note>
<note role="extensibility">
<p>All values of <att>ttm:role</att> that do not start with the prefix
<code>x-</code> are reserved for future standardization.</p>
</note>
<note role="extensibility">
<p>If using a custom <code>x-</code> prefixed form of <att>ttm:role</att>, it
is recommended that an organization unique infix be used as well in order to
prevent collisions. For example, <code>x-example-org-custom-role</code>. Furthermore,
a registry for role values is available at
<loc href="https://www.w3.org/wiki/TTML/RoleRegistry">https://www.w3.org/wiki/TTML/RoleRegistry</loc>
in order to promote interoperability and collision avoidance.</p>
</note>
</div3>
</div2> <!-- metadata-attribute-vocabulary -->
<div2 id="metadata-value-expressions">
<head>Metadata Value Expressions</head>
<p>Metadata vocabulary may make use of the following expressions:</p>
<ulist>
<item><p><specref ref="metadata-value-item-name"/></p></item>
</ulist>
<div3 id="metadata-value-item-name">
<head>&lt;item-name&gt;</head>
<p>An &lt;item-name&gt; expression is used to specify the name of a metadata item expressed with a
<loc href="#metadata-vocabulary-item">ttm:item</loc> element.</p>
<table id="item-name-value-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;item-name&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;item-name&gt;
  : <loc href="#metadata-value-named-item">&lt;named-item&gt;</loc>
  | <loc href="https://www.w3.org/TR/xmlschema-2/#QName">xsd:QName</loc>
</eg>
</td>
</tr>
</tbody>
</table>
<p>If an item name expression takes the form of a qualified name (<loc href="https://www.w3.org/TR/xmlschema-2/#QName">xsd:QName</loc>), 
then the prefix of that qualified name must have been declared in a namespace declaration as specified by <bibref ref="xmlns10"/>.</p>
<p>All values of &lt;item-name&gt; that do not take the form of qualified name (<loc href="https://www.w3.org/TR/xmlschema-2/#QName">xsd:QName</loc>)
are either defined by this specification or reserved for future standardization by the W3C.</p>
<note role="elaboration">
<p>It is intended that all item names defined by this specification are unqualified (without a prefix), whereas those defined by
external specifications are qualified (with a prefix).</p>
</note>
<note role="extensibility">
<p>See <loc href="https://www.w3.org/wiki/TTML/ItemNameRegistry">https://www.w3.org/wiki/TTML/ItemNameRegistry</loc> for a registry of
qualified item namespaces.</p>
</note>
</div3>
<div3 id="metadata-value-named-item">
<head>&lt;named-item&gt;</head>
<p>A &lt;named-item&gt; value is a member of an enumerated collection of named metadata items associated with a value by
a <loc href="#metadata-vocabulary-item"><el>ttm:item</el></loc> element.</p>
<table id="named-item-value-expression-syntax" role="syntax">
<caption>Syntax Representation &ndash; &lt;named-item&gt;</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;named-item&gt;
  : "altText"
  | "usesForced"
</eg>
</td>
</tr>
</tbody>
</table>
<p></p>
<glist>
<gitem id="named-item-altText">
<label><code>altText</code></label>
<def>
<p>A string that expresses alternate text content, where the value
adheres to <loc href="https://www.w3.org/TR/xmlschema-2/#string"><code>xsd:string</code></loc>. Typically used to
provide a text equivalent or summary for some related image content.</p>
<note role="elaboration"><p>This text equivalent may be used to support indexing of the content and also facilitate
quality checking of a document during authoring.</p></note>
<note role="elaboration"><p>In contrast to <bibref ref="html"/>, the text content of this named
metadata item is not intended to be presented in place of a referring element if the element&apos;s primary (as opposed to alternate)
content cannot be presented; however, this alternate text content can be used by assistive technologies.</p></note>
</def>
</gitem>
<gitem id="named-item-usesForced">
<label><code>usesForced</code></label>
<def>
<p>A boolean that expresses whether some <loc href="#content-value-condition">&lt;condition&gt;</loc> expression
makes use of the <loc href="#bound-parameter-forced"><code>forced</code></loc> bound parameter, where the value
adheres to <loc href="https://www.w3.org/TR/xmlschema-2/#boolean"><code>xsd:boolean</code></loc>. If this named metadata item
is present in a <loc href="#terms-document-instance">document instance</loc>, then it must be specified as a child
of the <loc href="#document-structure-vocabulary-head"><el>head</el></loc> element.</p>
</def>
</gitem>
</glist>
</div3>
</div2> <!-- metadata-value-expressions -->
</div1> <!-- metadata -->
</body>
<back>
<div1 id="concrete-encoding">
<head>Concrete Encoding</head>
<p><emph>This appendix is normative.</emph></p>
<p>In the absence of other requirements, a <loc href="#terms-document-instance">document instance</loc> should be concretely encoded as a
well-formed XML 1.0 <bibref ref="xml10"/> document using the UTF-8 character encoding.</p>
<note role="elaboration">
<p>When using XML 1.0 <bibref ref="xml10"/> as the concrete encoding of TTML, only the following named character entities are defined:
<code>&amp;amp;</code>, <code>&amp;apos;</code>, <code>&amp;gt;</code>, <code>&amp;lt;</code>, and <code>&amp;quot;</code>.</p>
</note>
</div1>
<div1 id="reduced-infoset">
<head>Reduced XML Infoset</head>
<p><emph>This appendix is normative.</emph></p>
<p>For the purposes of this specification, a <loc href="#terms-reduced-xml-infoset">reduced xml infoset</loc> is
an XML Information Set <bibref ref="infoset"/> that consists of only the following information items
and information item properties:</p>
<div2 id="reduced-infoset-document">
<head>Document Information Item</head>
<ulist>
<item><p><code>[document element]</code></p></item>
</ulist>
</div2>
<div2 id="reduced-infoset-element">
<head>Element Information Item</head>
<ulist>
<item><p><code>[namespace URI]</code></p></item>
<item><p><code>[local name]</code></p></item>
<item><p><code>[children]</code></p></item>
<item><p><code>[attributes]</code></p></item>
</ulist>
<p>Child information items <code>[children]</code> are reduced to only
<loc href="#terms-element-information-item">element information items</loc> and
<loc href="#terms-character-information-item">character information items</loc>.</p>
</div2>
<div2 id="reduced-infoset-attribute">
<head>Attribute Information Item</head>
<ulist>
<item><p><code>[namespace URI]</code></p></item>
<item><p><code>[local name]</code></p></item>
<item><p><code>[normalized value]</code></p></item>
</ulist>
<note role="clarification">
<p>If a <loc href="#terms-reduced-xml-infoset">reduced xml infoset</loc> is constructed from a concrete representation of an XML
document entity, then a <code>[normalized value]</code> information item may contain unnormalized XML whitespace characters
&amp;#9; (HT), &amp;#10; (LF), &amp;#13; (CR), and &amp;#20; (SPACE), as specified in <bibref ref="xml10"/>, &sect;3.3.3, step (3), first bullet.
In particular, this may occur if a numeric character reference is used to denote one of these whitespace characters (which is not normalized)
rather than using the whitespace character itself (which would be normalized).</p>
</note>
<note role="elaboration">
<p>See also <loc href="#terms-attribute-information-item">attribute information item</loc>.</p>
</note>
</div2>
<div2 id="reduced-infoset-character">
<head>Character Information Item</head>
<ulist>
<item><p><code>[character code]</code></p></item>
</ulist>
<p>Contiguous character information items are not required to be represented distinctly,
but may be aggregated (chunked) into a sequence of character codes (i.e., a character string).</p>
<note role="elaboration">
<p>See also <loc href="#terms-character-information-item">character information item</loc>.</p>
</note>
</div2>
</div1>
<div1 id="schemas">
<head>Schemas</head>
<p><emph>This appendix is normative.</emph></p>
<p>This appendix specifies the following schemas for use with
<loc href="#terms-document-instance">document instances</loc>:</p>
<ulist>
<item><p>Relax NG, Compact Syntax (RNC) Schema</p></item>
<item><p>XML Schema Definition (XSD) Schema</p></item>
</ulist>
<p>In any case where a schema specified by this appendix differs from the
normative definitions of document type, element type, or attribute type
as defined by the body of this specification, then the body of this
specification takes precedence.</p>
<div2 id="ttml-schema-rnc">
<head>Relax NG Compact (RNC) Schema</head>
<p>A Relax NG Compact Syntax (RNC) <bibref ref="rng"/> based schema
for TTML Content is available at <loc href="rnc/schema.zip">ZIP
Archive</loc>. This schema is to be considered non-normative for the purpose of defining the validity
of Timed Text Markup Language content as defined by this specification.
In particular, the formal validity of TTML Content
is defined by <specref ref="conformance-content"/>.</p>
</div2>
<div2 id="ttml-schema-xsd">
<head>XML Schema Definition (XSD) Schema</head>
<p>A W3C XML Schema Definition (XSD) <bibref ref="xsd-1"/> based schema
for TTML Content is available at <loc href="xsd/schema.zip">ZIP
Archive</loc>. This schema is to be considered non-normative for the purpose of defining the validity
of Timed Text Markup Language content as defined by this specification.
In particular, the formal validity of TTML Content
is defined by <specref ref="conformance-content"/>.</p>
</div2>
</div1>
<div1 id="media-types-registration">
<head>Media Type Registration</head>
<p><emph>This appendix has been removed from this specification.</emph></p>
</div1>
<div1 id="features">
<head>Features</head>
<p><emph>This appendix is normative.</emph></p>
<p>This appendix specifies (1) a set of feature designations, each of which
labels one or more syntactic and (or) semantic features defined by this
specification, and (2) for each designated feature, whether the feature is mandatory or optional for a
TTML <loc href="#terms-content-processor">content processor</loc> that complies with the requirements of
<specref ref="conformance-transformation-processor"/> or <specref ref="conformance-presentation-processor"/>.</p>
<note>
<p>A TTML processor is said to <emph>implement the transformation semantics</emph> or
<emph>implement the presentation semantics</emph> of feature designation <emph>F</emph>
if it satisfies the requirements of this appendix with respect to the definition of
feature designation <emph>F</emph> as pertains to transformation or
presentation processing, respectively.</p>
</note>
<note role="clarification">
<p>If the definition of a feature designation below is not scoped to a specific element type or context, then supporting
that (designated) feature is intended to mean supporting it in all permitted contexts of use.</p>
<p>For example, supporting the <loc href="#feature-length-root-container-relative"><code>#length-root-container-relative</code></loc>
feature means supporting its use with any <loc href="#style-value-length">&lt;length&gt;</loc> expression where it would not otherwise
be prohibited.</p>
</note>
<note role="interoperability">
<p>If a <loc href="#terms-processor">processor</loc> implementation does not support the semantics of some feature and the
syntactic expression of that feature is known to the implementation, then it is recommended that the
implementation be able to parse the expression but ignore the semantics of the unsupported <loc href="#terms-component">components</loc> of the expression.</p>
<p>For example, if <loc href="#feature-textEmphasis-minimal"><code>#textEmphasis-minimal</code></loc> is
supported, but <loc href="#feature-textEmphasis-color"><code>#textEmphasis-color</code></loc> is not
supported, then values of <loc href="#style-attribute-textEmphasis"><att>tts:textEmphasis</att></loc>
that contain a <loc href="#style-value-emphasis-color">&lt;emphasis-color&gt;</loc> <loc href="#terms-component">component</loc> should
be parsed while ignoring the semantics of that unsupported <loc href="#terms-component">component</loc> (but not ignoring the semantics of other
supported <loc href="#terms-component">components</loc> of the attribute value).</p>
</note>
<div2 id="feature-designations">
<head>Feature Designations</head>
<p>A feature designation is expressed as a string that adheres to the following
form:</p>
<eg xml:space="preserve">
feature-designation
  : feature-namespace designation

feature-namespace
  : <emph>TT Feature Namespace</emph>                    // http://www.w3.org/ns/ttml/feature/

designation
  : "#" token-char+

token-char
  : { XML NameChar }                        // <bibref ref="xml10"/> Production [4a]
</eg>
<p>All values of <code>feature-designation</code> not defined by this specification are reserved
for future standardization.</p>
<p>The following sub-sections define all feature designations, expressed
as relative URIs (fragment identifiers) with respect to the 
TT Feature Namespace base URI.</p>
<p>When the definition of a feature designator in this section refers to the definition of the same feature designator
in <bibref ref="ttml1"/> and the latter (referenced) definition uses the phrase "all defined values", then those
values consist of all values defined in <bibref ref="ttml1"/>; otherwise, when the phrase "all defined values" appears
directly below, then those values consist of all values defined in this specification.</p>
<note role="clarification">
<p>Feature designations in this section that have the suffix <code>-version-2</code> are newly defined by
this (second) version of the TTML specification, i.e., TTML2.</p>
</note>
<div3 id="feature-animate">
<head>#animate</head>
<p>A TTML processor supports the <code>#animate</code> feature if it supports the following features:</p>
<ulist>
<item><p><loc href="#feature-animate-fill"><code>#animate-fill</code></loc></p></item>
<item><p><loc href="#feature-animate-minimal"><code>#animate-minimal</code></loc></p></item>
<item><p><loc href="#feature-animate-paced"><code>#animate-paced</code></loc></p></item>
<item><p><loc href="#feature-animate-repeat"><code>#animate-repeat</code></loc></p></item>
<item><p><loc href="#feature-animate-spline"><code>#animate-spline</code></loc></p></item>
</ulist>
<p>The <code>#animate</code> feature is a syntactic and semantic extension of the
<loc href="#feature-animation"><code>#animate-minimal</code></loc> feature.</p>
<p>It is an error for a content profile to require or permit use of the <code>#animate</code> feature but prohibit use of any of the following
features:
<loc href="#feature-animate-fill"><code>#animate-fill</code></loc>,
<loc href="#feature-animate-minimal"><code>#animate-minimal</code></loc>,
<loc href="#feature-animate-paced"><code>#animate-paced</code></loc>,
<loc href="#feature-animate-repeat"><code>#animate-repeat</code></loc>, or
<loc href="#feature-animate-spline"><code>#animate-spline</code></loc>.</p>
</div3>
<div3 id="feature-animate-minimal">
<head>#animate-minimal</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the <code>#animate-minimal</code>
feature if it recognizes and is capable of transforming the semantics of the <loc href="#animation-vocabulary-animate"><el>animate</el></loc> element
when used with the <code>discrete</code> and <code>linear</code> values of the <att>calcMode</att> attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the <code>#animate-minimal</code>
feature if it implements presentation semantic support for the
same vocabulary enumerated above.</p>
<note role="elaboration">
<p>Support for the <code>discrete</code> and <code>linear</code> values of the <att>calcMode</att> attribute implies support for
the <att>keyTimes</att> attribute as well.</p>
</note>
<note role="elaboration">
<p>Support for the <code>#animate-minimal</code> feature does not imply support for any of the following features:
<loc href="#feature-animate-fill"><code>#animate-fill</code></loc>,
<loc href="#feature-animate-paced"><code>#animate-paced</code></loc>,
<loc href="#feature-animate-repeat"><code>#animate-repeat</code></loc>, or
<loc href="#feature-animate-spline"><code>#animate-spline</code></loc>.</p>
</note>
</div3>
<div3 id="feature-animate-fill">
<head>#animate-fill</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the <code>#animate-fill</code>
feature if it recognizes and is capable of transforming the semantics of the <att>fill</att> attribute of the
<loc href="#animation-vocabulary-animate"><el>animate</el></loc> element.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the <code>#animate-fill</code>
feature if it implements presentation semantic support for the same vocabulary enumerated above.</p>
</div3>
<div3 id="feature-animate-paced">
<head>#animate-paced</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the <code>#animate-paced</code>
feature if it recognizes and is capable of transforming the semantics of the <loc href="#animation-vocabulary-animate"><el>animate</el></loc> element
when used with the <code>paced</code> value of the <att>calcMode</att> attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the <code>#animate-paced</code>
feature if it implements presentation semantic support for the
same vocabulary enumerated above.</p>
</div3>
<div3 id="feature-animate-repeat">
<head>#animate-repeat</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the <code>#animate-repeat</code>
feature if it recognizes and is capable of transforming the semantics of the <att>repeatCount</att> attribute of the
<loc href="#animation-vocabulary-animate"><el>animate</el></loc> element.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the <code>#animate-repeat</code>
feature if it implements presentation semantic support for the same vocabulary enumerated above.</p>
</div3>
<div3 id="feature-animate-spline">
<head>#animate-spline</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the <code>#animate-spline</code>
feature if it recognizes and is capable of transforming the semantics of the <loc href="#animation-vocabulary-animate"><el>animate</el></loc> element
when used with the <code>spline</code> value of the <att>calcMode</att> attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the <code>#animate-spline</code>
feature if it implements presentation semantic support for the
same vocabulary enumerated above.</p>
<note role="elaboration">
<p>Support for the <code>spline</code> value of the <att>calcMode</att> attribute implies support for
the <att>keySplines</att> attribute as well.</p>
</note>
</div3>
<div3 id="feature-animation">
<head>#animation</head>
<p>A TTML content processor supports the <code>#animation</code>
feature if it supports the <code>#animation</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.1.</p>
<note role="clarification"><p>Support for the <code>#animation</code> feature is functionally equivalent to support for the
<loc href="#feature-set"><code>#set</code></loc> feature.</p></note>
<p>It is an error for a content profile to require or permit use of the <code>#animation</code> feature but prohibit use
of the <loc href="#feature-set"><code>#set</code></loc> feature.</p>
</div3>
<div3 id="feature-animation-out-of-line">
<head>#animation-out-of-line</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the <code>#animation-out-of-line</code>
feature if it recognizes and is capable of transforming the following vocabulary defined by <specref ref="animation"/>:</p>
<ulist>
<item><p><loc href="#animation-vocabulary-animation"><el>animation</el></loc></p></item>
</ulist>
<p>and supports the following attribute defined by <specref ref="animation-attribute-vocabulary"/>:</p>
<ulist>
<item><p><loc href="#animation-attribute-animate"><att>animate</att></loc></p></item>
</ulist>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the <code>#animation-out-of-line</code>
feature if it implements presentation semantic support for the
same vocabulary enumerated above.</p>
</div3>
<div3 id="feature-animation-version-2">
<head>#animation-version-2</head>
<p>A TTML processor supports the <code>#animation-version-2</code> feature if it supports the following features:</p>
<ulist>
<item><p><loc href="#feature-animate"><code>#animate</code></loc></p></item>
<item><p><loc href="#feature-animation-out-of-line"><code>#animation-out-of-line</code></loc></p></item>
<item><p><loc href="#feature-animation"><code>#animation</code></loc></p></item>
</ulist>
<p>The <code>#animation-version-2</code> feature is a syntactic and semantic extension of the
<loc href="#feature-animation"><code>#animation</code></loc> feature.</p>
<p>It is an error for a content profile to require or permit use of the <code>#animation-version-2</code> feature but prohibit use of any of the following
features: <loc href="#feature-animate"><code>#animate</code></loc>,
<loc href="#feature-animation-out-of-line"><code>#animation-out-of-line</code></loc>, or
<loc href="#feature-animation"><code>#animation</code></loc>.</p>
</div3>
<div3 id="feature-audio">
<head>#audio</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the <code>#audio</code>
feature if it recognizes and is capable of transforming the following
vocabulary defined by <specref ref="embedded-content"/>:</p>
<ulist>
<item><p><loc href="#embedded-content-vocabulary-audio"><el>audio</el></loc></p></item>
</ulist>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the <code>#audio</code>
feature if it implements presentation semantic support for the
same vocabulary enumerated above.</p>
</div3>
<div3 id="feature-audio-description">
<head>#audio-description</head>
<p>A TTML processor supports the <code>#audio-description</code> feature if it
supports the following features:</p>
<ulist>
<item><p><loc href="#feature-audio"><code>#audio</code></loc></p></item>
<item><p><loc href="#feature-gain"><code>#gain</code></loc></p></item>
<item><p><loc href="#feature-pan"><code>#pan</code></loc></p></item>
</ulist>
<p>It is an error for a content profile to require or permit use of the <code>#audio-description</code> feature but prohibit use of any of the following
features:
<loc href="#feature-audio"><code>#audio</code></loc>,
<loc href="#feature-gain"><code>#gain</code></loc>, or
<loc href="#feature-pan"><code>#pan</code></loc>.</p>
</div3>
<div3 id="feature-audio-speech">
<head>#audio-speech</head>
<p>A TTML processor supports the <code>#audio-speech</code> feature if it
supports the following features:</p>
<ulist>
<item><p><loc href="#feature-pitch"><code>#pitch</code></loc></p></item>
<item><p><loc href="#feature-speak"><code>#speak</code></loc></p></item>
<item><p><loc href="#feature-speech"><code>#speech</code></loc></p></item>
</ulist>
<p>It is an error for a content profile to require or permit use of the <code>#audio-speech</code> feature but prohibit use of any of the following
features:
<loc href="#feature-pitch"><code>#pitch</code></loc>,
<loc href="#feature-speak"><code>#speak</code></loc>, or
<loc href="#feature-speech"><code>#speech</code></loc>.</p>
</div3>
<div3 id="feature-background">
<head>#background</head>
<p>A TTML processor supports the <code>#background</code> feature if it
supports the following features:</p>
<ulist>
<item><p><loc href="#feature-backgroundColor"><code>#backgroundColor</code></loc></p></item>
<item><p><loc href="#feature-background-image"><code>#background-image</code></loc></p></item>
</ulist>
<p>It is an error for a content profile to require or permit use of the <code>#background</code> feature but prohibit use of any of the following
features:
<loc href="#feature-backgroundColor"><code>#backgroundColor</code></loc> or
<loc href="#feature-background-image"><code>#background-image</code></loc>.</p>
</div3>
<div3 id="feature-background-image">
<head>#background-image</head>
<p>A TTML processor supports the <code>#background-image</code> feature if it
supports the following features:</p>
<ulist>
<item><p><loc href="#feature-backgroundClip"><code>#backgroundClip</code></loc></p></item>
<item><p><loc href="#feature-backgroundClip"><code>#backgroundExtent</code></loc></p></item>
<item><p><loc href="#feature-backgroundClip"><code>#backgroundImage</code></loc></p></item>
<item><p><loc href="#feature-backgroundClip"><code>#backgroundOrigin</code></loc></p></item>
<item><p><loc href="#feature-backgroundClip"><code>#backgroundPosition</code></loc></p></item>
<item><p><loc href="#feature-backgroundClip"><code>#backgroundRepeat</code></loc></p></item>
</ulist>
<p>It is an error for a content profile to require or permit use of the <code>#background</code> feature but prohibit use of any of the following
features:
<loc href="#feature-backgroundClip"><code>#backgroundClip</code></loc>,
<loc href="#feature-backgroundClip"><code>#backgroundExtent</code></loc>,
<loc href="#feature-backgroundClip"><code>#backgroundImage</code></loc>,
<loc href="#feature-backgroundClip"><code>#backgroundOrigin</code></loc>,
<loc href="#feature-backgroundClip"><code>#backgroundPosition</code></loc>, or
<loc href="#feature-backgroundClip"><code>#backgroundRepeat</code></loc>.</p>
</div3>
<div3 id="feature-backgroundClip">
<head>#backgroundClip</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#backgroundClip</code> feature if it recognizes and is capable of
transforming all defined values of the <loc
href="#style-attribute-backgroundClip"><att>tts:backgroundClip</att></loc>
attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#backgroundClip</code> feature if it implements presentation semantic support
for all defined values of the <loc
href="#style-attribute-backgroundClip"><att>tts:backgroundClip</att></loc>
attribute.</p>
</div3>
<div3 id="feature-backgroundColor">
<head>#backgroundColor</head>
<p>A TTML content processor supports the <code>#backgroundColor</code>
feature if it supports the <code>#backgroundColor</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.2.</p>
<note role="clarification"><p>Support for the <code>#backgroundColor</code> feature is functionally equivalent to support for the following features:</p>
<ulist>
<item><p><loc href="#feature-backgroundColor-block"><code>#backgroundColor-block</code></loc></p></item>
<item><p><loc href="#feature-backgroundColor-inline"><code>#backgroundColor-inline</code></loc></p></item>
<item><p><loc href="#feature-backgroundColor-region"><code>#backgroundColor-region</code></loc></p></item>
</ulist>
</note>
<p>It is an error for a content profile to require or permit use of the <code>#backgroundColor</code> feature but prohibit use of any of the following
features: <loc href="#feature-backgroundColor-block"><code>#backgroundColor-block</code></loc>,
<loc href="#feature-backgroundColor-inline"><code>#backgroundColor-inline</code></loc>, or
<loc href="#feature-backgroundColor-region"><code>#backgroundColor-region</code></loc>.</p>
</div3>
<div3 id="feature-backgroundColor-block">
<head>#backgroundColor-block</head>
<p>A TTML content processor supports the <code>#backgroundColor-block</code>
feature if it supports the <code>#backgroundColor-block</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.3.</p>
</div3>
<div3 id="feature-backgroundColor-inline">
<head>#backgroundColor-inline</head>
<p>A TTML content processor supports the <code>#backgroundColor-inline</code>
feature if it supports the <code>#backgroundColor-inline</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.4.</p>
</div3>
<div3 id="feature-backgroundColor-region">
<head>#backgroundColor-region</head>
<p>A TTML content processor supports the <code>#backgroundColor-region</code>
feature if it supports the <code>#backgroundColor-region</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.5.</p>
</div3>
<div3 id="feature-backgroundExtent">
<head>#backgroundExtent</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#backgroundExtent</code> feature if it recognizes and is capable of
transforming all defined values of the <loc
href="#style-attribute-backgroundExtent"><att>tts:backgroundExtent</att></loc>
attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#backgroundExtent</code> feature if it implements presentation semantic support
for all defined values of the <loc
href="#style-attribute-backgroundExtent"><att>tts:backgroundExtent</att></loc>
attribute.</p>
</div3>
<div3 id="feature-backgroundImage">
<head>#backgroundImage</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#backgroundImage</code> feature if it recognizes and is capable of
transforming all defined values of the <loc
href="#style-attribute-backgroundImage"><att>tts:backgroundImage</att></loc>
attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#backgroundImage</code> feature if it implements presentation semantic support
for all defined values of the <loc
href="#style-attribute-backgroundImage"><att>tts:backgroundImage</att></loc>
attribute.</p>
</div3>
<div3 id="feature-backgroundOrigin">
<head>#backgroundOrigin</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#backgroundOrigin</code> feature if it recognizes and is capable of
transforming all defined values of the <loc
href="#style-attribute-backgroundOrigin"><att>tts:backgroundOrigin</att></loc>
attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#backgroundOrigin</code> feature if it implements presentation semantic support
for all defined values of the <loc
href="#style-attribute-backgroundOrigin"><att>tts:backgroundOrigin</att></loc>
attribute.</p>
</div3>
<div3 id="feature-backgroundPosition">
<head>#backgroundPosition</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#backgroundPosition</code> feature if it recognizes and is capable of
transforming all defined values of the <loc
href="#style-attribute-backgroundPosition"><att>tts:backgroundPosition</att></loc>
attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#backgroundPosition</code> feature if it implements presentation semantic support
for all defined values of the <loc
href="#style-attribute-backgroundPosition"><att>tts:backgroundPosition</att></loc>
attribute.</p>
</div3>
<div3 id="feature-backgroundRepeat">
<head>#backgroundRepeat</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#backgroundRepeat</code> feature if it recognizes and is capable of
transforming all defined values of the <loc
href="#style-attribute-backgroundRepeat"><att>tts:backgroundRepeat</att></loc>
attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#backgroundRepeat</code> feature if it implements presentation semantic support
for all defined values of the <loc
href="#style-attribute-backgroundRepeat"><att>tts:backgroundRepeat</att></loc>
attribute.</p>
</div3>
<div3 id="feature-base">
<head>#base</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the <code>#base</code>
feature if it recognizes and is capable of transforming the <loc href="#content-attribute-xml-base"><att>xml:base</att></loc>
attribute when applied to the following vocabulary defined by <specref ref="profile-element-vocabulary"/>:</p>
<ulist>
<item><p><loc href="#profile-vocabulary-features"><el>ttp:features</el></loc></p></item>
<item><p><loc href="#profile-vocabulary-extensions"><el>ttp:extensions</el></loc></p></item>
</ulist>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the <code>#base</code>
feature if it implements presentation semantic support for the
same vocabulary enumerated above.</p>
</div3>
<div3 id="feature-base-general">
<head>#base-general</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the <code>#base-general</code>
feature if it recognizes and is capable of transforming the <loc href="#content-attribute-xml-base"><att>xml:base</att></loc>
attribute when applied to all vocabulary defined by <specref ref="profile-element-vocabulary"/> on which this attribute is permitted except for:</p>
<ulist>
<item><p><loc href="#profile-vocabulary-features"><el>ttp:features</el></loc></p></item>
<item><p><loc href="#profile-vocabulary-extensions"><el>ttp:extensions</el></loc></p></item>
</ulist>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the <code>#base-general</code>
feature if it implements presentation semantic support for the
same vocabulary enumerated above.</p>
</div3>
<div3 id="feature-base-version-2">
<head>#base-version-2</head>
<p>A TTML processor supports the <code>#base-version-2</code> feature if it
supports the following features:</p>
<ulist>
<item><p><loc href="#feature-base"><code>#base</code></loc></p></item>
<item><p><loc href="#feature-base-general"><code>#base-general</code></loc></p></item>
</ulist>
<p>The <code>#base-version-2</code> feature is a syntactic and semantic extension of the
<loc href="#feature-base"><code>#base</code></loc> feature.</p>
<p>It is an error for a content profile to require or permit use of the <code>#base-version-2</code> feature
but prohibit use of any of the following features:
<loc href="#feature-base"><code>#base</code></loc> or
<loc href="#feature-base-general"><code>#base-general</code></loc>.</p>
</div3>
<div3 id="feature-bidi">
<head>#bidi</head>
<p>A TTML content processor supports the <code>#bidi</code>
feature if it supports the <code>#bidi</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.6.</p>
<note role="clarification"><p>Support for the <code>#bidi</code> feature is functionally equivalent to support for the following features:</p>
<ulist>
<item><p><loc href="#feature-direction"><code>#direction</code></loc></p></item>
<item><p><loc href="#feature-unicodeBidi"><code>#unicodeBidi</code></loc></p></item>
<item><p><loc href="#feature-writingMode-horizontal"><code>#writingMode-horizontal</code></loc></p></item>
</ulist>
</note>
<p>It is an error for a content profile to require or permit use of the <code>#bidi</code> feature but prohibit use of any of the following
features: <loc href="#feature-direction"><code>#direction</code></loc>,
<loc href="#feature-unicodeBidi"><code>#unicodeBidi</code></loc>, or
<loc href="#feature-writingMode-horizontal"><code>#writingMode-horizontal</code></loc>.</p>
</div3>
<div3 id="feature-bidi-version-2">
<head>#bidi-version-2</head>
<p>A TTML processor supports the <code>#bidi-version-2</code> feature if it
supports the following features:</p>
<ulist>
<item><p><loc href="#feature-bidi"><code>#bidi</code></loc></p></item>
<item><p><loc href="#feature-unicodeBidi-version-2"><code>#unicodeBidi-version-2</code></loc></p></item>
</ulist>
<p>The <code>#bidi-version-2</code> feature is a syntactic and semantic extension of the
<loc href="#feature-bidi"><code>#bidi</code></loc> feature.</p>
<p>It is an error for a content profile to require or permit use of the <code>#bidi-version-2</code> feature but prohibit use of any of the following
features:
<loc href="#feature-bidi"><code>#bidi</code></loc> or
<loc href="#feature-unicodeBidi-isolate"><code>#unicodeBidi-isolate</code></loc>.</p>
</div3>
<div3 id="feature-border">
<head>#border</head>
<p>A TTML processor supports the <code>#border</code> feature if it
supports the following features:</p>
<ulist>
<item><p><loc href="#feature-border-block"><code>#border-block</code></loc></p></item>
<item><p><loc href="#feature-border-inline"><code>#border-inline</code></loc></p></item>
<item><p><loc href="#feature-border-region"><code>#border-region</code></loc></p></item>
</ulist>
<p>It is an error for a content profile to require or permit use of the <code>#border</code> feature but prohibit use of any of the following
features:
<loc href="#feature-border-block"><code>#border-block</code></loc>,
<loc href="#feature-border-inline"><code>#border-inline</code></loc>, or
<loc href="#feature-border-region"><code>#border-region</code></loc>.</p>
</div3>
<div3 id="feature-border-block">
<head>#border-block</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#border-block</code> feature if it recognizes and is
capable of transforming all defined values of the <loc
href="#style-attribute-border"><att>tts:border</att></loc>
attribute when applied to a <loc href="#terms-content-element">content element</loc> that would generate a
block area during presentation processing.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#border-block</code> feature if it implements presentation semantic
support for the <loc
href="#style-attribute-border"><att>tts:border</att></loc>
attribute when applied to a <loc href="#terms-content-element">content element</loc> that generates a
block area.</p>
</div3>
<div3 id="feature-border-inline">
<head>#border-inline</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#border-inline</code> feature if it recognizes and is
capable of transforming all defined values of the <loc
href="#style-attribute-border"><att>tts:border</att></loc>
attribute when applied to a <loc href="#terms-content-element">content element</loc> that would generate an
inline area during presentation processing.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#border-inline</code> feature if it implements presentation semantic
support for the <loc
href="#style-attribute-border"><att>tts:border</att></loc>
attribute when applied to a <loc href="#terms-content-element">content element</loc> that generates an
inline area.</p>
</div3>
<div3 id="feature-border-radii">
<head>#border-radii</head>
<p>A TTML processor supports the <code>#border-radii</code> feature if it
supports the following features:</p>
<ulist>
<item><p><loc href="#feature-border-radii-1"><code>#border-radii-1</code></loc></p></item>
<item><p><loc href="#feature-border-radii-2"><code>#border-radii-2</code></loc></p></item>
</ulist>
<p>It is an error for a content profile to require or permit use of the <code>#border-radii</code> feature but prohibit use of any of the following
features:
<loc href="#feature-border-radii-1"><code>#border-radii-1</code></loc> or
<loc href="#feature-border-radii-2"><code>#border-radii-2</code></loc>.</p>
</div3>
<div3 id="feature-border-radii-1">
<head>#border-radii-1</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#border-radii-1</code> feature if it recognizes and is capable of transforming
one <loc href="#terms-component">component</loc> values of a
<loc href="#style-value-border-radii">&lt;border-radii&gt;</loc> value expression specified in a
<loc href="#style-attribute-border"><att>tts:border</att></loc>
attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#backgroundClip</code> feature if it implements presentation semantic support for
one <loc href="#terms-component">component</loc> values of a
<loc href="#style-value-border-radii">&lt;border-radii&gt;</loc> value expression specified in a
<loc href="#style-attribute-border"><att>tts:border</att></loc>
attribute.</p>
</div3>
<div3 id="feature-border-radii-2">
<head>#border-radii-2</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#border-radii-2</code> feature if it recognizes and is capable of transforming
two <loc href="#terms-component">component</loc> values of a
<loc href="#style-value-border-radii">&lt;border-radii&gt;</loc> value expression specified in a
<loc href="#style-attribute-border"><att>tts:border</att></loc>
attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#backgroundClip</code> feature if it implements presentation semantic support for
two <loc href="#terms-component">component</loc> values of a
<loc href="#style-value-border-radii">&lt;border-radii&gt;</loc> value expression specified in a
<loc href="#style-attribute-border"><att>tts:border</att></loc>
attribute.</p>
</div3>
<div3 id="feature-border-region">
<head>#border-region</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#border-region</code> feature if it recognizes and is
capable of transforming all defined values of the <loc
href="#style-attribute-border"><att>tts:border</att></loc>
attribute when applied to a <loc
href="#layout-vocabulary-region"><el>region</el></loc> element.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#border-region</code> feature if it implements presentation semantic
support for the <loc
href="#style-attribute-border"><att>tts:border</att></loc>
attribute when applied to a <loc
href="#layout-vocabulary-region"><el>region</el></loc> element.</p>
</div3>
<div3 id="feature-bpd">
<head>#bpd</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#bpd</code> feature if it recognizes and is capable of
transforming the <loc href="#style-attribute-bpd"><att>tts:bpd</att></loc> attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#bpd</code> feature if it implements presentation semantic support for the
<loc href="#style-attribute-bpd"><att>tts:bpd</att></loc> attribute.</p>
</div3>
<div3 id="feature-cellResolution">
<head>#cellResolution</head>
<p>A TTML content processor supports the <code>#cellResolution</code>
feature if it supports the <code>#cellResolution</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.7.</p>
</div3>
<div3 id="feature-chunk">
<head>#chunk</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the <code>#chunk</code>
feature if it recognizes and is capable of transforming the following
vocabulary defined by <specref ref="embedded-content"/>:</p>
<ulist>
<item><p><loc href="#embedded-content-vocabulary-chunk"><el>chunk</el></loc></p></item>
</ulist>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the <code>#chunk</code>
feature if it implements presentation semantic support for the
same vocabulary enumerated above.</p>
</div3>
<div3 id="feature-clockMode">
<head>#clockMode</head>
<p>A TTML content processor supports the <code>#clockMode</code>
feature if it supports the <code>#clockMode</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.8.</p>
</div3>
<div3 id="feature-clockMode-gps">
<head>#clockMode-gps</head>
<p>A TTML content processor supports the <code>#clockMode-gps</code>
feature if it supports the <code>#clockMode-gps</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.9.</p>
</div3>
<div3 id="feature-clockMode-local">
<head>#clockMode-local</head>
<p>A TTML content processor supports the <code>#clockMode-local</code>
feature if it supports the <code>#clockMode-local</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.10.</p>
</div3>
<div3 id="feature-clockMode-utc">
<head>#clockMode-utc</head>
<p>A TTML content processor supports the <code>#clockMode-utc</code>
feature if it supports the <code>#clockMode-utc</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.11.</p>
</div3>
<div3 id="feature-color">
<head>#color</head>
<p>A TTML content processor supports the <code>#color</code>
feature if it supports the <code>#color</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.12.</p>
</div3>
<div3 id="feature-condition">
<head>#condition</head>
<p>A TTML processor supports the <code>#condition</code> feature if it supports the following features:</p>
<ulist>
<item><p><loc href="#feature-condition-fn-media"><code>#condition-fn-media</code></loc></p></item>
<item><p><loc href="#feature-condition-fn-parameter"><code>#condition-fn-parameter</code></loc></p></item>
<item><p><loc href="#feature-condition-fn-supports"><code>#condition-fn-supports</code></loc></p></item>
<item><p><loc href="#feature-condition-primary"><code>#condition-primary</code></loc></p></item>
</ulist>
<p>It is an error for a content profile to require or permit use of the <code>#condition</code> feature but prohibit use of any of the following
features:
<loc href="#feature-condition-fn-media"><code>#condition-fn-media</code></loc>,
<loc href="#feature-condition-fn-parameter"><code>#condition-fn-parameter</code></loc>,
<loc href="#feature-condition-fn-supports"><code>#condition-fn-supports</code></loc>,
<loc href="#feature-condition-primary"><code>#condition-primary</code></loc>.</p>
</div3>
<div3 id="feature-condition-fn-media">
<head>#condition-fn-media</head>
<p>A TTML <loc href="#terms-content-processor">content processor</loc> supports the <code>#condition-fn-media</code> feature if
it supports the <loc href="#content-value-media-function">&lt;media-function&gt;</loc>
sub-expression when used in a <loc href="#content-value-condition">&lt;condition&gt;</loc> value expression.</p>
</div3>
<div3 id="feature-condition-fn-parameter">
<head>#condition-fn-parameter</head>
<p>A TTML <loc href="#terms-content-processor">content processor</loc> supports the <code>#condition-fn-parameter</code> feature if
it supports the <loc href="#content-value-parameter-function">&lt;parameter-function&gt;</loc>
sub-expression when used in a <loc href="#content-value-condition">&lt;condition&gt;</loc> value expression.</p>
</div3>
<div3 id="feature-condition-fn-supports">
<head>#condition-fn-supports</head>
<p>A TTML <loc href="#terms-content-processor">content processor</loc> supports the <code>#condition-fn-supports</code> feature if
it supports the <loc href="#content-value-supports-function">&lt;supports-function&gt;</loc>
sub-expression when used in a <loc href="#content-value-condition">&lt;condition&gt;</loc> value expression.</p>
</div3>
<div3 id="feature-condition-primary">
<head>#condition-primary</head>
<p>A TTML <loc href="#terms-content-processor">content processor</loc> supports the <code>#condition-primary</code> feature if
it supports <loc href="#content-value-condition">&lt;condition&gt;</loc> value expressions that do not contain
a <loc href="#content-value-condition-function">&lt;condition-function&gt;</loc> sub-expression.</p>
</div3>
<div3 id="feature-content">
<head>#content</head>
<p>A TTML content processor supports the <code>#content</code>
feature if it supports the <code>#content</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.13.</p>
</div3>
<div3 id="feature-content-sizing">
<head>#content-sizing</head>
<p>A TTML processor supports the <code>#content-sizing</code> feature if it
supports the following features:</p>
<ulist>
<item><p><loc href="#feature-bpd"><code>#bpd</code></loc></p></item>
<item><p><loc href="#feature-ipd"><code>#ipd</code></loc></p></item>
</ulist>
<p>It is an error for a content profile to require or permit use of the <code>#content-sizing</code> feature but prohibit use of any of the following
features:
<loc href="#feature-bpd"><code>#bpd</code></loc> or
<loc href="#feature-ipd"><code>#ipd</code></loc>.</p>
</div3>
<div3 id="feature-contentProfiles">
<head>#contentProfiles</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the <code>#contentProfiles</code>
feature if it (1) supports <loc href="#terms-non-combined-profile">non-combined profiles</loc> and (2) recognizes and is capable of transforming:</p>
<olist>
  <item>
    <p>the following profile attributes vocabulary defined by <specref ref="profile-attribute-vocabulary"/>:</p>
    <ulist>
      <item><p><loc href="#profile-attribute-contentProfiles"><att>ttp:contentProfiles</att></loc></p></item>
      <item><p><loc href="#profile-attribute-inferProcessorProfileMethod"><att>ttp:inferProcessorProfileMethod</att></loc></p></item>
    </ulist>
  </item>
  <item>
    <p>the <code>first</code> value of the
    <loc href="#profile-attribute-inferProcessorProfileSource"><att>ttp:inferProcessorProfileSource</att></loc> attribute,</p>
  </item>
  <item>
    <p>the <code>designator</code> attribute on
       the <loc href="#profile-vocabulary-profile"><el>ttp:profile</el></loc> element,</p>
  </item>
  <item>
    <p>the <code>content</code> value of the <code>type</code> attribute on
       the <loc href="#profile-vocabulary-profile"><el>ttp:profile</el></loc> element, and</p>
  </item>
  <item>
    <p>the <code>prohibited</code> value of the <code>value</code> attribute on 
       <loc href="#profile-vocabulary-feature"><el>ttp:feature</el></loc> and
       <loc href="#profile-vocabulary-extension"><el>ttp:extension</el></loc> elements.</p>
  </item>
</olist>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the <code>#contentProfiles</code>
feature if it implements presentation semantic support for the
same vocabulary enumerated above.</p>
<note role="elaboration">
<p>Support for the <code>#contentProfiles</code> feature does not imply support for <loc href="#terms-combined-profile">combined profiles</loc>
or <loc href="#terms-nesting-profile">nesting profiles</loc>.</p>
</note>
</div3>
<div3 id="feature-contentProfiles-combined">
<head>#contentProfiles-combined</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the <code>#contentProfiles-combined</code>
  feature if it (1) supports the <loc href="#feature-contentProfiles"><code>#contentProfiles</code></loc> feature,
  (2) supports <loc href="#terms-combined-profile">combined profiles</loc> and (3) recognizes and is capable of transforming:</p>
<olist>
  <item>
    <p>the following profile attributes vocabulary defined by <specref ref="profile-attribute-vocabulary"/>:</p>
    <ulist>
      <item><p><loc href="#profile-attribute-contentProfileCombination"><att>ttp:contentProfileCombination</att></loc>,</p></item>
    </ulist>
  </item>
  <item>
    <p>the <code>combined</code> value of the
    <loc href="#profile-attribute-inferProcessorProfileSource"><att>ttp:inferProcessorProfileSource</att></loc> attribute, and</p>
  </item>
  <item>
    <p>the <code>combine</code> attribute on
       the <loc href="#profile-vocabulary-profile"><el>ttp:profile</el></loc> element.</p>
  </item>
</olist>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the <code>#contentProfiles-combined</code>
feature if it implements presentation semantic support for the
same vocabulary enumerated above.</p>
<p>The <code>#contentProfiles-combine</code> feature is a syntactic and semantic extension of the
<loc href="#feature-contentProfiles"><code>#contentProfiles</code></loc> feature.</p>
<p>It is an error for a content profile to require or permit use of the <code>#contentProfiles-combine</code> feature
but prohibit use of the <loc href="#feature-contentProfiles"><code>#contentProfiles</code></loc> feature.</p>
<note role="elaboration">
<p>Support for the <code>#contentProfiles-combined</code> feature does not imply support for <loc href="#terms-nesting-profile">nesting profiles</loc>.</p>
</note>
</div3>
<div3 id="feature-core">
<head>#core</head>
<p>A TTML content processor supports the <code>#core</code>
feature if it supports the <code>#core</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.14.</p>
</div3>
<div3 id="feature-data">
<head>#data</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the <code>#data</code>
feature if it recognizes and is capable of transforming the following
vocabulary defined by <specref ref="embedded-content"/>:</p>
<ulist>
<item><p><loc href="#embedded-content-vocabulary-data"><el>data</el></loc></p></item>
</ulist>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the <code>#data</code>
feature if it implements presentation semantic support for the
same vocabulary enumerated above.</p>
</div3>
<div3 id="feature-direction">
<head>#direction</head>
<p>A TTML content processor supports the <code>#direction</code>
feature if it supports the <code>#direction</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.15.</p>
</div3>
<div3 id="feature-disparity">
<head>#disparity</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#disparity</code> feature if it recognizes and is capable of
transforming the <loc href="#style-attribute-disparity"><att>tts:disparity</att></loc> attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#disparity</code> feature if it implements presentation semantic support for the
<loc href="#style-attribute-disparity"><att>tts:disparity</att></loc> attribute.</p>
<note role="clarification">
<p>Support for the <code>#disparity</code> feature does not imply support for the
<loc href="#feature-region-implied-animation"><code>#region-implied-animation</code></loc> feature.</p>
</note>
</div3>
<div3 id="feature-display">
<head>#display</head>
<p>A TTML content processor supports the <code>#display</code>
feature if it supports the <code>#display</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.16.</p>
<note role="clarification"><p>Support for the <code>#display</code> feature is functionally equivalent to support for the following features:</p>
<ulist>
<item><p><loc href="#feature-display-block"><code>#display-block</code></loc></p></item>
<item><p><loc href="#feature-display-inline"><code>#display-inline</code></loc></p></item>
<item><p><loc href="#feature-display-region"><code>#display-region</code></loc></p></item>
</ulist>
</note>
<p>It is an error for a content profile to require or permit use of the <code>#display</code> feature but prohibit use of any of the following
features:
<loc href="#feature-display-block"><code>#display-block</code></loc>,
<loc href="#feature-display-inline"><code>#display-inline</code></loc>, or
<loc href="#feature-display-region"><code>#display-region</code></loc>.</p>
</div3>
<div3 id="feature-display-block">
<head>#display-block</head>
<p>A TTML content processor supports the <code>#display-block</code>
feature if it supports the <code>#display-block</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.17.</p>
</div3>
<div3 id="feature-display-inline">
<head>#display-inline</head>
<p>A TTML content processor supports the <code>#display-inline</code>
feature if it supports the <code>#display-inline</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.18.</p>
</div3>
<div3 id="feature-display-inlineBlock">
<head>#display-inlineBlock</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#display-inlineBlock</code> feature if it recognizes and is capable of transforming the <code>inlineBlock</code>
value of the <loc href="#style-attribute-display"><att>tts:display</att></loc> attribute
when applied to a <loc href="#terms-content-element">content element</loc> that would generate an
inline area during presentation processing.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#display-inlineBlock</code> feature if it supports the presentation semantics of the <code>inlineBlock</code>
value of the <loc href="#style-attribute-display"><att>tts:display</att></loc> attribute
when applied to a <loc href="#terms-content-element">content element</loc> that would generate an
inline area during presentation processing.</p>
</div3>
<div3 id="feature-display-region">
<head>#display-region</head>
<p>A TTML content processor supports the <code>#display-region</code>
feature if it supports the <code>#display-region</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.19.</p>
</div3>
<div3 id="feature-display-version-2">
<head>#display-version-2</head>
<p>A TTML processor supports the <code>#display-version-2</code> feature if it
supports the following features:</p>
<ulist>
<item><p><loc href="#feature-display"><code>#display</code></loc></p></item>
<item><p><loc href="#feature-display-block"><code>#display-block</code></loc></p></item>
<item><p><loc href="#feature-display-inline"><code>#display-inline</code></loc></p></item>
<item><p><loc href="#feature-display-inlineBlock"><code>#display-inlineBlock</code></loc></p></item>
<item><p><loc href="#feature-display-region"><code>#display-region</code></loc></p></item>
</ulist>
<p>The <code>#display-version-2</code> feature is a syntactic and semantic extension of the
<loc href="#feature-display"><code>#display</code></loc> feature.</p>
<p>It is an error for a content profile to require or permit use of the <code>#display-version-2</code> feature
but prohibit use of any of the following features:
<loc href="#feature-display"><code>#display</code></loc>,
<loc href="#feature-display-block"><code>#display-block</code></loc>,
<loc href="#feature-display-inline"><code>#display-inline</code></loc>,
<loc href="#feature-display-inlineBlock"><code>#display-inlineBlock</code></loc>, or
<loc href="#feature-display-region"><code>#display-region</code></loc>.</p>
</div3>
<div3 id="feature-displayAlign">
<head>#displayAlign</head>
<p>A TTML content processor supports the <code>#displayAlign</code>
feature if it supports the <code>#displayAlign</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.20.</p>
<note role="clarification"><p>Support for the <code>#displayAlign</code> feature is functionally equivalent to support for the following features:</p>
<ulist>
<item><p><loc href="#feature-displayAlign-region"><code>#displayAlign-region</code></loc></p></item>
<item><p><loc href="#feature-displayAlign-relative"><code>#displayAlign-relative</code></loc></p></item>
</ulist>
</note>
<p>It is an error for a content profile to require or permit use of the <code>#displayAlign</code> feature but prohibit use of any of the following
features: <loc href="#feature-displayAlign-region"><code>#displayAlign-region</code></loc> or
<loc href="#feature-displayAlign-relative"><code>#displayAlign-relative</code></loc>.</p>
</div3>
<div3 id="feature-displayAlign-block">
<head>#displayAlign-block</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#displayAlign-block</code> feature if it implements transformation semantic
support for the <loc href="#style-attribute-displayAlign"><att>tts:displayAlign</att></loc>
attribute when applied to a <loc href="#terms-content-element">content element</loc> that would generate a block area during presentation processing.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#displayAlign-block</code> feature if it implements presentation semantic
support for the <loc href="#style-attribute-displayAlign"><att>tts:displayAlign</att></loc>
attribute when applied to a <loc href="#terms-content-element">content element</loc> that generates a block area.</p>
</div3>
<div3 id="feature-displayAlign-justify">
<head>#displayAlign-justify</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#displayAlign-justify</code> feature if it recognizes and is
capable of transforming the <code>justify</code> value of the <loc href="#style-attribute-displayAlign"><att>tts:displayAlign</att></loc> attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#displayAlign-justify</code> feature if it implements presentation semantic support for the <code>justify</code> value
of the <loc href="#style-attribute-displayAlign"><att>tts:displayAlign</att></loc> attribute.</p>
</div3>
<div3 id="feature-displayAlign-region">
<head>#displayAlign-region</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#displayAlign-region</code> feature if it implements transformation semantic
support for the <loc href="#style-attribute-displayAlign"><att>tts:displayAlign</att></loc>
attribute when applied to a <loc href="#layout-vocabulary-region"><el>region</el></loc> element.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#displayAlign-region</code> feature if it implements presentation semantic
support for the <loc
href="#style-attribute-displayAlign"><att>tts:displayAlign</att></loc>
attribute when applied to a <loc
href="#layout-vocabulary-region"><el>region</el></loc> element.</p>
</div3>
<div3 id="feature-displayAlign-relative">
<head>#displayAlign-relative</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#displayAlign-relative</code> feature if it recognizes and is
capable of transforming the <code>before</code>, <code>center</code>,
and <code>after</code> values of the <loc
href="#style-attribute-displayAlign"><att>tts:displayAlign</att></loc>
attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#displayAlign-relative</code> feature if it implements presentation semantic
support for the <code>before</code>, <code>center</code>, and
<code>after</code> values of the <loc
href="#style-attribute-displayAlign"><att>tts:displayAlign</att></loc>
attribute.</p>
</div3>
<div3 id="feature-displayAlign-version-2">
<head>#displayAlign-version-2</head>
<p>A TTML processor supports the <code>#displayAlign-version-2</code> feature if it
supports the following features:</p>
<ulist>
<item><p><loc href="#feature-displayAlign"><code>#displayAlign</code></loc></p></item>
<item><p><loc href="#feature-displayAlign-block"><code>#displayAlign-block</code></loc></p></item>
<item><p><loc href="#feature-displayAlign-justify"><code>#displayAlign-justify</code></loc></p></item>
</ulist>
<p>The <code>#displayAlign-version-2</code> feature is a syntactic and semantic extension of the
<loc href="#feature-displayAlign"><code>#displayAlign</code></loc> feature.</p>
<p>It is an error for a content profile to require or permit use of the <code>#displayAlign-version-2</code> feature but prohibit use of any of the following
features:
<loc href="#feature-displayAlign"><code>#displayAlign</code></loc>,
<loc href="#feature-displayAlign-block"><code>#displayAlign-block</code></loc>,
<loc href="#feature-displayAlign-justify"><code>#displayAlign-justify</code></loc>,
<loc href="#feature-displayAlign-region"><code>#displayAlign-region</code></loc>, or
<loc href="#feature-displayAlign-relative"><code>#displayAlign-relative</code></loc>.</p>
</div3>
<div3 id="feature-displayAspectRatio">
<head>#displayAspectRatio</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#displayAspectRatio</code> feature if it recognizes and is capable of
transforming the <loc
href="#parameter-attribute-displayAspectRatio"><att>ttp:displayAspectRatio</att></loc>
attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#displayAspectRatio</code> feature if it implements presentation semantic support
for the <loc
href="#parameter-attribute-displayAspectRatio"><att>ttp:displayAspectRatio</att></loc>
attribute.</p>
</div3>
<div3 id="feature-dropMode">
<head>#dropMode</head>
<p>A TTML content processor supports the <code>#dropMode</code>
feature if it supports the <code>#dropMode</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.21.</p>
<note role="clarification"><p>Support for the <code>#dropMode</code> feature is functionally equivalent to support for the following features:</p>
<ulist>
<item><p><loc href="#feature-dropMode-dropNTSC"><code>#dropMode-dropNTSC</code></loc></p></item>
<item><p><loc href="#feature-dropMode-dropPAL"><code>#dropMode-dropPAL</code></loc></p></item>
<item><p><loc href="#feature-dropMode-dropPAL"><code>#dropMode-nonDrop</code></loc></p></item>
</ulist>
</note>
<p>It is an error for a content profile to require or permit use of the <code>#dropMode</code> feature but prohibit use of any of the following
features: <loc href="#feature-dropMode-dropNTSC"><code>#dropMode-dropNTSC</code></loc>,
<loc href="#feature-dropMode-dropPAL"><code>#dropMode-dropPAL</code></loc>, or
<loc href="#feature-dropMode-dropPAL"><code>#dropMode-nonDrop</code></loc>.</p>
</div3>
<div3 id="feature-dropMode-dropNTSC">
<head>#dropMode-dropNTSC</head>
<p>A TTML content processor supports the <code>#dropMode-dropNTSC</code>
feature if it supports the <code>#dropMode-dropNTSC</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.22.</p>
</div3>
<div3 id="feature-dropMode-dropPAL">
<head>#dropMode-dropPAL</head>
<p>A TTML content processor supports the <code>#dropMode-dropPAL</code>
feature if it supports the <code>#dropMode-dropPAL</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.23.</p>
</div3>
<div3 id="feature-dropMode-nonDrop">
<head>#dropMode-nonDrop</head>
<p>A TTML content processor supports the <code>#dropMode-nonDrop</code>
feature if it supports the <code>#dropMode-nonDrop</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.24.</p>
</div3>
<div3 id="feature-embedded-audio">
<head>#embedded-audio</head>
<p>A TTML processor supports the <code>#embedded-audio</code> feature if it
supports the following features:</p>
<ulist>
<item><p><loc href="#feature-embedded-data"><code>#embedded-data</code></loc></p></item>
<item><p><loc href="#feature-audio"><code>#audio</code></loc></p></item>
</ulist>
<p>It is an error for a content profile to require or permit use of the <code>#embedded-audio</code> feature but prohibit use of any of the following
features:
<loc href="#feature-embedded-data"><code>#embedded-data</code></loc> or
<loc href="#feature-audio"><code>#audio</code></loc>.</p>
</div3>
<div3 id="feature-embedded-content">
<head>#embedded-content</head>
<p>A TTML processor supports the <code>#embedded-content</code> feature if it
supports the following features:</p>
<ulist>
<item><p><loc href="#feature-embedded-audio"><code>#embedded-audio</code></loc></p></item>
<item><p><loc href="#feature-embedded-font"><code>#embedded-font</code></loc></p></item>
<item><p><loc href="#feature-embedded-image"><code>#embedded-image</code></loc></p></item>
</ulist>
<p>It is an error for a content profile to require or permit use of the <code>#embedded-content</code> feature but prohibit use of any of the following
features:
<loc href="#feature-embedded-audio"><code>#embedded-audio</code></loc>,
<loc href="#feature-embedded-font"><code>#embedded-font</code></loc>, or
<loc href="#feature-embedded-image"><code>#embedded-image</code></loc>.</p>
</div3>
<div3 id="feature-embedded-data">
<head>#embedded-data</head>
<p>A TTML processor supports the <code>#embedded-data</code> feature if it
supports the following features:</p>
<ulist>
<item><p><loc href="#feature-chunk"><code>#chunk</code></loc></p></item>
<item><p><loc href="#feature-data"><code>#data</code></loc></p></item>
<item><p><loc href="#feature-resources"><code>#resources</code></loc></p></item>
<item><p><loc href="#feature-source"><code>#source</code></loc></p></item>
</ulist>
<p>It is an error for a content profile to require or permit use of the <code>#embedded-data</code> feature but prohibit use of any of the following
features:
<loc href="#feature-chunk"><code>#chunk</code></loc>,
<loc href="#feature-data"><code>#data</code></loc>,
<loc href="#feature-resources"><code>#resources</code></loc>, or
<loc href="#feature-source"><code>#source</code></loc>.</p>
</div3>
<div3 id="feature-embedded-font">
<head>#embedded-font</head>
<p>A TTML processor supports the <code>#embedded-font</code> feature if it
supports the following features:</p>
<ulist>
<item><p><loc href="#feature-embedded-data"><code>#embedded-data</code></loc></p></item>
<item><p><loc href="#feature-font"><code>#font</code></loc></p></item>
</ulist>
<p>It is an error for a content profile to require or permit use of the <code>#embedded-font</code> feature but prohibit use of any of the following
features:
<loc href="#feature-embedded-data"><code>#embedded-data</code></loc> or
<loc href="#feature-font"><code>#font</code></loc>.</p>
</div3>
<div3 id="feature-embedded-image">
<head>#embedded-image</head>
<p>A TTML processor supports the <code>#embedded-image</code> feature if it
supports the following features:</p>
<ulist>
<item><p><loc href="#feature-embedded-data"><code>#embedded-data</code></loc></p></item>
<item><p><loc href="#feature-image"><code>#image</code></loc></p></item>
</ulist>
<p>It is an error for a content profile to require or permit use of the <code>#embedded-image</code> feature but prohibit use of any of the following
features:
<loc href="#feature-embedded-data"><code>#embedded-data</code></loc> or
<loc href="#feature-image"><code>#image</code></loc>.</p>
</div3>
<div3 id="feature-extent">
<head>#extent</head>
<p>A TTML content processor supports the <code>#extent</code>
feature if it supports the <code>#extent</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.25.</p>
<note role="clarification"><p>Support for the <code>#extent</code> feature is functionally equivalent to support for the following features:</p>
<ulist>
<item><p><loc href="#feature-extent-region"><code>#extent-region</code></loc></p></item>
<item><p><loc href="#feature-extent-root"><code>#extent-root</code></loc></p></item>
</ulist>
</note>
<p>It is an error for a content profile to require or permit use of the <code>#extent</code> feature but prohibit use of any of the following
features: <loc href="#feature-extent-region"><code>#extent-region</code></loc> or
<loc href="#feature-extent-root"><code>#extent-root</code></loc>.</p>
<note role="clarification">
<p>Support for the <code>#extent</code> feature does not imply support for the
<loc href="#feature-region-implied-animation"><code>#region-implied-animation</code></loc> feature.</p>
</note>
</div3>
<div3 id="feature-extent-auto">
<head>#extent-auto</head>
<p>A TTML content processor supports the <code>#extent-auto</code> feature if it supports the
syntax and semantics of the <code>auto</code> value of the <loc href="#style-attribute-extent"><att>tts:extent</att></loc>
attribute as defined by <bibref ref="ttml1"/>, &sect;8.2.7.</p>
</div3>
<div3 id="feature-extent-auto-version-2">
<head>#extent-auto-version-2</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#extent-auto-version-2</code> feature if it recognizes and is capable of
transforming the syntax and semantics of the <code>auto</code> value of the <loc href="#style-attribute-extent"><att>tts:extent</att></loc>
attribute as defined by this specification.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the <code>#extent-auto-version-2</code>
feature if it implements presentation semantic support for the semantic extensions to the <code>auto</code> value of the
<loc href="#style-attribute-extent"><att>tts:extent</att></loc> attribute as described above.</p>
<p>The <code>#extent-auto-version-2</code> feature is a semantic extension of the <code>#extent-auto</code> feature.</p>
<p>It is an error for a content profile to require or permit use of the <code>#extent-auto-version-2</code> feature but prohibit use of (1) the
<loc href="#feature-extent-auto"><code>#extent-auto</code></loc> feature
or (2) all of the following features:
<loc href="#feature-extent-root"><code>#extent-root</code></loc>,
<loc href="#feature-extent-region"><code>#extent-region</code></loc>, and
<loc href="#feature-extent-image"><code>#extent-image</code></loc>.</p>
<note role="clarification">
<p>Support for the <code>#extent-auto-version-2</code> feature does not imply support for the
following features:</p>
<ulist>
  <item><p><loc href="#feature-extent-root"><code>#extent-root</code></loc></p></item>
  <item><p><loc href="#feature-extent-region"><code>#extent-region</code></loc></p></item>
  <item><p><loc href="#feature-extent-image"><code>#extent-image</code></loc></p></item>
</ulist>
<p>However, if any of these features is supported, then support for the <code>#extent-auto-version-2</code> feature
does imply that <code>#extent-auto-version-2</code> is supported with respect to that feature, or, more particularly,
with respect to the element(s) supported by that feature, which is to say, with respect to any of the following element types:
<loc href="#document-structure-vocabulary-tt"><el>tt</el></loc>,
<loc href="#layout-vocabulary-region"><el>region</el></loc>, and
<loc href="#embedded-content-vocabulary-image"><el>image</el></loc>, respectively.</p>
</note>
</div3>
<div3 id="feature-extent-contain">
<head>#extent-contain</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#extent-contain</code> feature if it recognizes and is capable of
transforming the <code>contain</code> value of the <loc href="#style-attribute-extent"><att>tts:extent</att></loc>
attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#extent-contain</code> feature if it implements presentation semantic support for the <code>contain</code> value of the
<loc href="#style-attribute-extent"><att>tts:extent</att></loc> attribute.</p>
</div3>
<div3 id="feature-extent-cover">
<head>#extent-cover</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#extent-cover</code> feature if it recognizes and is capable of
transforming the <code>cover</code> value of the <loc href="#style-attribute-extent"><att>tts:extent</att></loc>
attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#extent-cover</code> feature if it implements presentation semantic support for the <code>cover</code> value of the
<loc href="#style-attribute-extent"><att>tts:extent</att></loc> attribute.</p>
</div3>
<div3 id="feature-extent-full-version-2">
<head>#extent-full-version-2</head>
<p>A TTML processor supports the <code>#extent-full-version-2</code> feature if it supports the following features:</p>
<ulist>
<item><p><loc href="#feature-extent-contain"><code>#extent-contain</code></loc></p></item>
<item><p><loc href="#feature-extent-cover"><code>#extent-cover</code></loc></p></item>
<item><p><loc href="#feature-extent-measure"><code>#extent-measure</code></loc></p></item>
<item><p><loc href="#feature-extent-version-2"><code>#extent-version-2</code></loc></p></item>
</ulist>
<p>The <code>#extent-full-version-2</code> feature is a syntactic and semantic extension of the <code>#extent-version-2</code> feature.</p>
<p>It is an error for a content profile to require or permit use of the <code>#extent-full-version-2</code> feature but prohibit use
of any of the following features:
<loc href="#feature-extent-contain"><code>#extent-contain</code></loc>,
<loc href="#feature-extent-cover"><code>#extent-cover</code></loc>,
<loc href="#feature-extent-measure"><code>#extent-measure</code></loc>, or
<loc href="#feature-extent-version-2"><code>#extent-version-2</code></loc>.</p>
<note role="clarification">
<p>Support for the <code>#extent-full-version-2</code> feature does not imply support for the
<loc href="#feature-region-implied-animation"><code>#region-implied-animation</code></loc> feature.</p>
</note>
</div3>
<div3 id="feature-extent-image">
<head>#extent-image</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#extent-image</code> feature if it supports the attribute values
of the <loc href="#style-attribute-extent"><att>tts:extent</att></loc> attribute supported by the
<loc href="#feature-extent-auto-version-2"><code>#extent-auto-version-2</code></loc> and
<loc href="#feature-extent-length-version-2"><code>#extent-length-version-2</code></loc> features
when applied to an <loc href="#embedded-content-vocabulary-image"><el>image</el></loc> element.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the <code>#extent-image</code>
feature if it implements presentation semantic support for the same vocabulary enumerated above.</p>
<p>It is an error for a content profile to require or permit use of the <code>#extent-image</code> feature but prohibit use of any of the following
features: <loc href="#feature-extent"><code>#extent</code></loc>,
features: <loc href="#feature-extent-auto-version-2"><code>#extent-auto-version-2</code></loc>, or
<loc href="#feature-extent-length-version-2"><code>#extent-length-version-2</code></loc>.</p>
</div3>
<div3 id="feature-extent-length">
<head>#extent-length</head>
<p>A TTML content processor supports the <code>#extent-length</code> feature if it supports
<loc href="#style-value-length">&lt;length&gt;</loc> <loc href="#terms-component">component</loc> values
of the <loc href="#style-attribute-extent"><att>tts:extent</att></loc> attribute as defined by <bibref ref="ttml1"/>, &sect;8.2.7.</p>
</div3>
<div3 id="feature-extent-length-version-2">
<head>#extent-length-version-2</head>
<p>A TTML content processor supports the <code>#extent-length-version-2</code> feature if it supports
the <loc href="#feature-length-version-2"><code>#length-version-2</code></loc> feature when applied to
<loc href="#style-value-length">&lt;length&gt;</loc> <loc href="#terms-component">component</loc> values
of the <loc href="#style-attribute-extent"><att>tts:extent</att></loc> attribute.</p>
<p>The <code>#extent-length-version-2</code> feature is a syntactic and semantic extension of the
<loc href="#feature-extent-length"><code>#extent-length</code></loc> feature.</p>
<p>It is an error for a content profile to require or permit use of the <code>#extent-length-version-2</code> feature
but prohibit use of the <loc href="#feature-extent-length"><code>#extent-length</code></loc> feature.</p>
</div3>
<div3 id="feature-extent-measure">
<head>#extent-measure</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#extent-measure</code> feature if it recognizes and is capable of
transforming the following values of a <loc href="#style-value-measure">&lt;measure&gt;</loc> style
value expression when used with the <loc href="#style-attribute-extent"><att>tts:extent</att></loc> attribute:</p>
<ulist>
<item><p><code>auto</code></p></item>
<item><p><code>fitContent</code></p></item>
<item><p><code>maxContent</code></p></item>
<item><p><code>minContent</code></p></item>
</ulist>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#extent-measure</code> feature if it implements presentation semantic support for
same vocabulary enumerated above.</p>
</div3>
<div3 id="feature-extent-region">
<head>#extent-region</head>
<p>A TTML content processor supports the <code>#extent-region</code>
feature if it supports the <code>#extent-region</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.26.</p>
<note role="clarification">
<p>Support for the <code>#extent-region</code> feature implies support for the
<loc href="#feature-extent-auto"><code>#extent-auto</code></loc> and
<loc href="#feature-extent-length"><code>#extent-length</code></loc> features
when applied to a <loc href="#layout-vocabulary-region"><el>region</el></loc> element.</p>
</note>
</div3>
<div3 id="feature-extent-region-version-2">
<head>#extent-region-version-2</head>
<p>A TTML processor supports the <code>#extent-region-version-2</code> feature if it supports the following features:</p>
<ulist>
<item><p><loc href="#feature-extent-region"><code>#extent-region</code></loc></p></item>
<item><p><loc href="#feature-extent-auto-version-2"><code>#extent-auto-version-2</code></loc></p></item>
<item><p><loc href="#feature-extent-length-version-2"><code>#extent-length-version-2</code></loc></p></item>
</ulist>
<p>The <code>#extent-region-version-2</code> feature is a syntactic and semantic extension of the
<loc href="#feature-extent-region"><code>#extent-region</code></loc> feature.</p>
<p>It is an error for a content profile to require or permit use of the <code>#extent-region-version-2</code> feature
but prohibit use of any of the following features:
<loc href="#feature-extent-region"><code>#extent-region</code></loc>,
<loc href="#feature-extent-auto-version-2"><code>#extent-auto-version-2</code></loc>, or
<loc href="#feature-extent-length-version-2"><code>#extent-length-version-2</code></loc>.</p>
<note role="clarification">
<p>Support for the <code>#extent-region-version-2</code> feature does not imply support for the
<loc href="#feature-region-implied-animation"><code>#region-implied-animation</code></loc> feature.</p>
</note>
</div3>
<div3 id="feature-extent-root">
<head>#extent-root</head>
<p>A TTML content processor supports the <code>#extent-root</code>
feature if it supports the <code>#extent-root</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.27.</p>
<note role="clarification">
<p>Support for the <code>#extent-root</code> feature implies support for the
<loc href="#feature-extent-auto"><code>#extent-auto</code></loc> and
<loc href="#feature-extent-length"><code>#extent-length</code></loc> features
when applied to the <loc href="#document-structure-vocabulary-tt"><el>tt</el></loc> element.</p>
</note>
</div3>
<div3 id="feature-extent-root-version-2">
<head>#extent-root-version-2</head>
<p>A TTML processor supports the <code>#extent-root-version-2</code> feature if it supports the following features:</p>
<ulist>
<item><p><loc href="#feature-extent-root"><code>#extent-root</code></loc></p></item>
<item><p><loc href="#feature-extent-auto-version-2"><code>#extent-auto-version-2</code></loc></p></item>
<item><p><loc href="#feature-extent-contain"><code>#extent-contain</code></loc></p></item>
</ulist>
<p>The <code>#extent-root-version-2</code> feature is a syntactic and semantic extension of the
<loc href="#feature-extent-root"><code>#extent-root</code></loc> feature.</p>
<p>It is an error for a content profile to require or permit use of the <code>#extent-root-version-2</code> feature
but prohibit use of any of the following features:
<loc href="#feature-extent-root"><code>#extent-root</code></loc>,
<loc href="#feature-extent-auto-version-2"><code>#extent-auto-version-2</code></loc>, or
<loc href="#feature-extent-contain"><code>#extent-contain</code></loc>.</p>
<note role="clarification">
<p>Support for the <code>#extent-root-version-2</code> feature is intended to imply support for the 
<code>#extent-contain</code> feature only when applied to the root <loc href="#document-structure-vocabulary-tt"><el>tt</el></loc> element,
and not other element types.</p>
</note>
</div3>
<div3 id="feature-extent-version-2">
<head>#extent-version-2</head>
<p>A TTML processor supports the <code>#extent-version-2</code> feature if it supports the following features:</p>
<ulist>
<item><p><loc href="#feature-extent"><code>#extent</code></loc></p></item>
<item><p><loc href="#feature-extent-image"><code>#extent-image</code></loc></p></item>
<item><p><loc href="#feature-extent-region-version-2"><code>#extent-region-version-2</code></loc></p></item>
<item><p><loc href="#feature-extent-root-version-2"><code>#extent-root-version-2</code></loc></p></item>
</ulist>
<p>The <code>#extent-version-2</code> feature is a syntactic and semantic extension of the
<loc href="#feature-extent"><code>#extent</code></loc> feature.</p>
<p>It is an error for a content profile to require or permit use of the <code>#extent-version-2</code> feature
but prohibit use of any of the following features:
<loc href="#feature-extent"><code>#extent</code></loc>,
<loc href="#feature-extent-image"><code>#extent-image</code></loc>,
<loc href="#feature-extent-region-version-2"><code>#extent-region-version-2</code></loc>, or
<loc href="#feature-extent-root-version-2"><code>#extent-root-version-2</code></loc>.</p>
<note role="clarification">
<p>Support for the <code>#extent-version-2</code> feature does not imply support for the any of the following features:
<loc href="#feature-extent-contain"><code>#extent-contain</code></loc>,
<loc href="#feature-extent-cover"><code>#extent-cover</code></loc>,
<loc href="#feature-extent-measure"><code>#extent-measure</code></loc>, or
<loc href="#feature-region-implied-animation"><code>#region-implied-animation</code></loc>.</p>
</note>
</div3>
<div3 id="feature-font">
<head>#font</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the <code>#font</code>
feature if it recognizes and is capable of transforming the following
vocabulary defined by <specref ref="embedded-content"/>:</p>
<ulist>
<item><p><loc href="#embedded-content-vocabulary-font"><el>font</el></loc></p></item>
</ulist>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the <code>#font</code>
feature if it implements presentation semantic support for the
same vocabulary enumerated above.</p>
</div3>
<div3 id="feature-fontFamily">
<head>#fontFamily</head>
<p>A TTML content processor supports the <code>#fontFamily</code>
feature if it supports the <code>#fontFamily</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.28.</p>
<note role="clarification"><p>Support for the <code>#fontFamily</code> feature is functionally equivalent to support for the following features:</p>
<ulist>
<item><p><loc href="#feature-fontFamily-generic"><code>#fontFamily-generic</code></loc></p></item>
<item><p><loc href="#feature-fontFamily-non-generic"><code>#fontFamily-non-generic</code></loc></p></item>
</ulist>
</note>
<p>It is an error for a content profile to require or permit use of the <code>#fontFamily</code> feature but prohibit use of any of the following
features: <loc href="#feature-fontFamily-generic"><code>#fontFamily-generic</code></loc> or
<loc href="#feature-fontFamily-non-generic"><code>#fontFamily-non-generic</code></loc>.</p>
</div3>
<div3 id="feature-fontFamily-generic">
<head>#fontFamily-generic</head>
<p>A TTML content processor supports the <code>#fontFamily-generic</code>
feature if it supports the <code>#fontFamily-generic</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.29.</p>
</div3>
<div3 id="feature-fontFamily-non-generic">
<head>#fontFamily-non-generic</head>
<p>A TTML content processor supports the <code>#fontFamily-non-generic</code>
feature if it supports the <code>#fontFamily-non-generic</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.30.</p>
</div3>
<div3 id="feature-fontKerning">
<head>#fontKerning</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#fontKerning</code> feature if it recognizes and is capable of
transforming the <loc href="#style-attribute-fontKerning"><att>tts:fontKerning</att></loc> attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#fontKerning</code> feature if it implements presentation semantic support for the
<loc href="#style-attribute-fontKerning"><att>tts:fontKerning</att></loc> attribute.</p>
</div3>
<div3 id="feature-fontSelectionStrategy">
<head>#fontSelectionStrategy</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#fontSelectionStrategy</code> feature if it recognizes and is capable of
transforming the <code>auto</code> value of the <loc href="#style-attribute-fontSelectionStrategy"><att>tts:fontSelectionStrategy</att></loc>
attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#fontSelectionStrategy</code> feature if it implements presentation semantic support for the <code>auto</code> value of the
<loc href="#style-attribute-fontSelectionStrategy"><att>tts:fontSelectionStrategy</att></loc> attribute.</p>
</div3>
<div3 id="feature-fontSelectionStrategy-character">
<head>#fontSelectionStrategy-character</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#fontSelectionStrategy-character</code> feature if it recognizes and is capable of
transforming the <code>character</code> value of the <loc href="#style-attribute-fontSelectionStrategy"><att>tts:fontSelectionStrategy</att></loc>
attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#fontSelectionStrategy-character</code> feature if it implements presentation semantic support for the <code>character</code> value of the
<loc href="#style-attribute-fontSelectionStrategy"><att>tts:fontSelectionStrategy</att></loc> attribute.</p>
</div3>
<div3 id="feature-fontShear">
<head>#fontShear</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#fontShear</code> feature if it recognizes and is capable of
transforming the <loc href="#style-attribute-fontShear"><att>tts:fontShear</att></loc> attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#fontShear</code> feature if it implements presentation semantic support for the
<loc href="#style-attribute-fontShear"><att>tts:fontShear</att></loc> attribute.</p>
</div3>
<div3 id="feature-fontSize">
<head>#fontSize</head>
<p>A TTML content processor supports the <code>#fontSize</code>
feature if it supports the <code>#fontSize</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.31.</p>
<note role="clarification"><p>Support for the <code>#fontSize</code> feature is functionally equivalent to support for the following features:</p>
<ulist>
<item><p><loc href="#feature-fontSize-anamorphic"><code>#fontSize-anamorphic</code></loc></p></item>
<item><p><loc href="#feature-fontSize-isomorphic"><code>#fontSize-isomorphic</code></loc></p></item>
</ulist>
</note>
<p>It is an error for a content profile to require or permit use of the <code>#fontSize</code> feature but prohibit use of any of the following
features: <loc href="#feature-fontSize-anamorphic"><code>#fontSize-anamorphic</code></loc> or
<loc href="#feature-fontSize-isomorphic"><code>#fontSize-isomorphic</code></loc>.</p>
</div3>
<div3 id="feature-fontSize-anamorphic">
<head>#fontSize-anamorphic</head>
<p>A TTML content processor supports the <code>#fontSize-anamorphic</code>
feature if it supports the <code>#fontSize-anamorphic</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.32.</p>
</div3>
<div3 id="feature-fontSize-isomorphic">
<head>#fontSize-isomorphic</head>
<p>A TTML content processor supports the <code>#fontSize-isomorphic</code>
feature if it supports the <code>#fontSize-isomorphic</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.33.</p>
</div3>
<div3 id="feature-fontStyle">
<head>#fontStyle</head>
<p>A TTML content processor supports the <code>#fontStyle</code>
feature if it supports the <code>#fontStyle</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.34.</p>
<note role="clarification"><p>Support for the <code>#fontStyle</code> feature is functionally equivalent to support for (1) the
<loc href="#feature-fontStyle-italic"><code>#fontStyle-italic</code></loc> and
<loc href="#feature-fontStyle-oblique"><code>#fontStyle-oblique</code></loc> features
and (2) the <code>normal</code> value of <loc href="#style-attribute-fontStyle"><att>tts:fontStyle</att></loc> attribute.</p>
</note>
<p>It is an error for a content profile to require or permit use of the <code>#fontStyle</code> feature but prohibit use of any of the following
features: <loc href="#feature-fontStyle-italic"><code>#fontStyle-italic</code></loc> or
<loc href="#feature-fontStyle-oblique"><code>#fontStyle-oblique</code></loc>.</p>
</div3>
<div3 id="feature-fontStyle-italic">
<head>#fontStyle-italic</head>
<p>A TTML content processor supports the <code>#fontStyle-italic</code>
feature if it supports the <code>#fontStyle-italic</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.35.</p>
</div3>
<div3 id="feature-fontStyle-oblique">
<head>#fontStyle-oblique</head>
<p>A TTML content processor supports the <code>#fontStyle-oblique</code>
feature if it supports the <code>#fontStyle-oblique</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.36.</p>
</div3>
<div3 id="feature-fontVariant">
<head>#fontVariant</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#fontVariant</code> feature if it recognizes and is capable of
transforming the <loc href="#style-attribute-fontVariant"><att>tts:fontVariant</att></loc> attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#fontVariant</code> feature if it implements presentation semantic support for the
<loc href="#style-attribute-fontVariant"><att>tts:fontVariant</att></loc> attribute.</p>
</div3>
<div3 id="feature-fontWeight">
<head>#fontWeight</head>
<p>A TTML content processor supports the <code>#fontWeight</code>
feature if it supports the <code>#fontWeight</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.37.</p>
<note role="clarification"><p>Support for the <code>#fontWeight</code> feature is functionally equivalent to support for (1) the
<loc href="#feature-fontWeight-bold"><code>#fontWeight-bold</code></loc> feature
and (2) the <code>normal</code> value of <loc href="#style-attribute-fontWeight"><att>tts:fontWeight</att></loc> attribute.</p>
</note>
<p>It is an error for a content profile to require or permit use of the <code>#fontWeight</code> feature but prohibit use of the
<loc href="#feature-fontWeight-bold"><code>#fontWeight-bold</code></loc> feature.</p>
</div3>
<div3 id="feature-fontWeight-bold">
<head>#fontWeight-bold</head>
<p>A TTML content processor supports the <code>#fontWeight-bold</code>
feature if it supports the <code>#fontWeight-bold</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.38.</p>
</div3>
<div3 id="feature-frameRate">
<head>#frameRate</head>
<p>A TTML content processor supports the <code>#frameRate</code>
feature if it supports the <code>#frameRate</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.39.</p>
</div3>
<div3 id="feature-frameRateMultiplier">
<head>#frameRateMultiplier</head>
<p>A TTML content processor supports the <code>#frameRateMultiplier</code>
feature if it supports the <code>#frameRateMultiplier</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.40.</p>
</div3>
<div3 id="feature-gain">
<head>#gain</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#gain</code> feature if it recognizes and is capable of
transforming the <loc href="#audio-style-attribute-gain"><att>tta:gain</att></loc> attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#gain</code> feature if it implements presentation semantic support for the
<loc href="#audio-style-attribute-gain"><att>tta:gain</att></loc> attribute.</p>
</div3>
<div3 id="feature-image">
<head>#image</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the <code>#image</code>
feature if it recognizes and is capable of transforming the following
vocabulary defined by <specref ref="embedded-content"/>:</p>
<ulist>
<item><p><loc href="#embedded-content-vocabulary-image"><el>image</el></loc></p></item>
</ulist>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the <code>#image</code>
feature if it implements presentation semantic support for the
same vocabulary enumerated above.</p>
</div3>
<div3 id="feature-image-png">
<head>#image-png</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the <code>#image-png</code>
feature if it recognizes and is capable of transforming <loc href="#terms-image-resource">image resources</loc>
of content type <code>image/png</code> as defined by <bibref ref="png"/>.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the <code>#image-png</code>
feature if it implements presentation semantic support for <loc href="#terms-image-resource">image resources</loc>
of content type <code>image/png</code> as defined by <bibref ref="png"/>.</p>
</div3>
<div3 id="feature-initial">
<head>#initial</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the <code>#initial</code>
feature if it recognizes and is capable of transforming the following
vocabulary defined by <specref ref="styling"/>:</p>
<ulist>
<item><p><loc href="#styling-vocabulary-initial"><el>initial</el></loc></p></item>
</ulist>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the <code>#initial</code>
feature if it implements presentation semantic support for the
same vocabulary enumerated above.</p>
</div3>
<div3 id="feature-ipd">
<head>#ipd</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#ipd</code> feature if it recognizes and is capable of
transforming the <loc href="#style-attribute-ipd"><att>tts:ipd</att></loc> attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#ipd</code> feature if it implements presentation semantic support for the
<loc href="#style-attribute-ipd"><att>tts:ipd</att></loc> attribute.</p>
</div3>
<div3 id="feature-layout">
<head>#layout</head>
<p>A TTML content processor supports the <code>#layout</code>
feature if it supports the <code>#layout</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.41.</p>
</div3>
<div3 id="feature-length">
<head>#length</head>
<p>A TTML content processor supports the <code>#length</code>
feature if it supports the <code>#length</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.42.</p>
</div3>
<div3 id="feature-length-cell">
<head>#length-cell</head>
<p>A TTML content processor supports the <code>#length-cell</code>
feature if it supports the <code>#length-cell</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.43.</p>
</div3>
<div3 id="feature-length-em">
<head>#length-em</head>
<p>A TTML content processor supports the <code>#length-em</code>
feature if it supports the <code>#length-em</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.44.</p>
</div3>
<div3 id="feature-length-integer">
<head>#length-integer</head>
<p>A TTML content processor supports the <code>#length-integer</code>
feature if it supports the <code>#length-integer</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.45.</p>
</div3>
<div3 id="feature-length-negative">
<head>#length-negative</head>
<p>A TTML content processor supports the <code>#length-negative</code>
feature if it supports the <code>#length-negative</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.46.</p>
</div3>
<div3 id="feature-length-percentage">
<head>#length-percentage</head>
<p>A TTML content processor supports the <code>#length-percentage</code>
feature if it supports the <code>#length-percentage</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.47.</p>
</div3>
<div3 id="feature-length-pixel">
<head>#length-pixel</head>
<p>A TTML content processor supports the <code>#length-pixel</code>
feature if it supports the <code>#length-pixel</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.48.</p>
</div3>
<div3 id="feature-length-positive">
<head>#length-positive</head>
<p>A TTML content processor supports the <code>#length-positive</code>
feature if it supports the <code>#length-positive</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.49.</p>
</div3>
<div3 id="feature-length-real">
<head>#length-real</head>
<p>A TTML content processor supports the <code>#length-real</code>
feature if it supports the <code>#length-real</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.50.</p>
</div3>
<div3 id="feature-length-real-version-2">
<head>#length-real-version-2</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#length-real-version-2</code> feature if it recognizes and is capable of
transforming the syntax and semantics of real values of the <loc href="#style-value-length">&lt;length&gt;</loc> style value
expression that include all values of the <code>non-negative-real</code> non-terminal expression defined by
<code><loc href="#style-value-non-negative-number">&lt;non-negative-number&gt;</loc></code>.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the <code>#length-real-version-2</code>
feature if it implements presentation semantic support for values of the <loc href="#style-value-length">&lt;length&gt;</loc> style value
expression as described above.</p>
<p>The <code>#length-real-version-2</code> feature is a syntactic extension of the <code>#length-real</code> feature.</p>
<p>It is an error for a content profile to require or permit use of the <code>#length-real-version-2</code> feature but prohibit use of the
<loc href="#feature-length-real"><code>#length-real</code></loc> feature.</p>
</div3>
<div3 id="feature-length-root-container-relative">
<head>#length-root-container-relative</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#length-root-container-relative</code> feature if it recognizes and is
capable of transforming <termref def="defs-root-container-relative">root container relative</termref> values of the <loc
href="#style-value-length">&lt;length&gt;</loc> style value
expression.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#length-root-container-relative</code> feature if it implements presentation semantic
support for <termref def="defs-root-container-relative">root container relative</termref> values of the <loc
href="#style-value-length">&lt;length&gt;</loc> style value
expression.
</p>
</div3>
<div3 id="feature-length-version-2">
<head>#length-version-2</head>
<p>A TTML processor supports the <code>#length-version-2</code> feature if it supports the following features:</p>
<ulist>
<item><p><loc href="#feature-length"><code>#length</code></loc></p></item>
<item><p><loc href="#feature-length-real-version-2"><code>#length-real-version-2</code></loc></p></item>
<item><p><loc href="#feature-length-root-container-relative"><code>#length-root-container-relative</code></loc></p></item>
</ulist>
<p>The <code>#length-version-2</code> feature is a syntactic and semantic extension of the
<loc href="#feature-length"><code>#length</code></loc> feature.</p>
<p>It is an error for a content profile to require or permit use of the <code>#length-version-2</code> feature
but prohibit use of any of the following features:
<loc href="#feature-length"><code>#length</code></loc>,
<loc href="#feature-length-real-version-2"><code>#length-real-version-2</code></loc>, or
<loc href="#feature-length-root-container-relative"><code>#length-root-container-relative</code></loc>.</p>
</div3>
<div3 id="feature-letterSpacing">
<head>#letterSpacing</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#letterSpacing</code> feature if it recognizes and is capable of
transforming the <loc href="#style-attribute-letterSpacing"><att>tts:letterSpacing</att></loc> attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#letterSpacing</code> feature if it implements presentation semantic support for the
<loc href="#style-attribute-letterSpacing"><att>tts:letterSpacing</att></loc> attribute.</p>
</div3>
<div3 id="feature-lineBreak-uax14">
<head>#lineBreak-uax14</head>
<p>A TTML content processor supports the <code>#lineBreak-uax14</code>
feature if it supports the <code>#lineBreak-uax14</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.51.</p>
</div3>
<div3 id="feature-lineHeight">
<head>#lineHeight</head>
<p>A TTML content processor supports the <code>#lineHeight</code>
feature if it supports the <code>#lineHeight</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.52.</p>
</div3>
<div3 id="feature-lineShear">
<head>#lineShear</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#lineShear</code> feature if it recognizes and is capable of
transforming the <loc href="#style-attribute-lineShear"><att>tts:lineShear</att></loc> attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#lineShear</code> feature if it implements presentation semantic support for the
<loc href="#style-attribute-lineShear"><att>tts:lineShear</att></loc> attribute.</p>
</div3>
<div3 id="feature-luminanceGain">
<head>#luminanceGain</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#luminanceGain</code> feature if it recognizes and is capable of
transforming the <loc
href="#style-attribute-luminanceGain"><att>tts:luminanceGain</att></loc>
attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#luminanceGain</code> feature if it implements presentation semantic support for
the <loc
href="#style-attribute-luminanceGain"><att>tts:luminanceGain</att></loc>.</p>
</div3>
<div3 id="feature-markerMode">
<head>#markerMode</head>
<p>A TTML content processor supports the <code>#markerMode</code>
feature if it supports the <code>#markerMode</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.53.</p>
<note role="clarification"><p>Support for the <code>#markerMode</code> feature is functionally equivalent to support for the following features:</p>
<ulist>
<item><p><loc href="#feature-markerMode-continuous"><code>#markerMode-continuous</code></loc></p></item>
<item><p><loc href="#feature-markerMode-discontinuous"><code>#markerMode-discontinuous</code></loc></p></item>
</ulist>
</note>
<p>It is an error for a content profile to require or permit use of the <code>#markerMode</code> feature but prohibit use of any of the following
features: <loc href="#feature-markerMode-continuous"><code>#markerMode-continuous</code></loc> or
<loc href="#feature-markerMode-discontinuous"><code>#markerMode-discontinuous</code></loc>.</p>
</div3>
<div3 id="feature-markerMode-continuous">
<head>#markerMode-continuous</head>
<p>A TTML content processor supports the <code>#markerMode-continuous</code>
feature if it supports the <code>#markerMode-continuous</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.54.</p>
</div3>
<div3 id="feature-markerMode-discontinuous">
<head>#markerMode-discontinuous</head>
<p>A TTML content processor supports the <code>#markerMode-discontinuous</code>
feature if it supports the <code>#markerMode-discontinuous</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.55.</p>
</div3>
<div3 id="feature-metadata">
<head>#metadata</head>
<p>A TTML content processor supports the <code>#metadata</code>
feature if it supports the <code>#metadata</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.56.</p>
</div3>
<div3 id="feature-metadata-item">
<head>#metadata-item</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the <code>#metadata-item</code>
feature if it recognizes and is capable of transforming the following
vocabulary defined by <specref ref="metadata"/>:</p>
<ulist>
<item><p><loc href="#metadata-vocabulary-item"><el>ttm:item</el></loc></p></item>
</ulist>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the <code>#metadata-item</code>
feature if it implements presentation semantic support for the
same vocabulary enumerated above.</p>
<note role="clarification">
<p>This specification does not define a standardized form for the
presentation of metadata information. The presentation or ability to
present metadata information is considered to be implementation
dependent.</p>
</note>
</div3>
<div3 id="feature-metadata-version-2">
<head>#metadata-version-2</head>
<p>A TTML processor supports the <code>#metadata-version-2</code> feature if it
supports the following features:</p>
<ulist>
<item><p><loc href="#feature-metadata"><code>#metadata</code></loc></p></item>
<item><p><loc href="#feature-metadata-item"><code>#metadata-item</code></loc></p></item>
</ulist>
<p>The <code>#metadata-version-2</code> feature is a syntactic and semantic extension of the
<loc href="#feature-metadata"><code>#metadata</code></loc> feature.</p>
<p>It is an error for a content profile to require or permit use of the <code>#metadata-version-2</code> feature but prohibit use of any of the following
features:
<loc href="#feature-metadata"><code>#metadata</code></loc> or
<loc href="#feature-metadata-item"><code>#metadata-item</code></loc>.</p>
</div3>
<div3 id="feature-nested-div">
<head>#nested-div</head>
<p>A TTML content processor supports the <code>#nested-div</code>
feature if it supports the <code>#nested-div</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.57.</p>
</div3>
<div3 id="feature-nested-span">
<head>#nested-span</head>
<p>A TTML content processor supports the <code>#nested-span</code>
feature if it supports the <code>#nested-span</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.58.</p>
</div3>
<div3 id="feature-opacity">
<head>#opacity</head>
<p>A TTML content processor supports the <code>#opacity</code>
feature if it supports the <code>#opacity</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.59.</p>
<note role="clarification"><p>Support for the <code>#opacity</code> feature is functionally equivalent to support for the
<loc href="#feature-opacity-region"><code>#opacity-region</code></loc> feature.</p></note>
<p>It is an error for a content profile to require or permit use of the <code>#opacity</code> feature but prohibit use
of the <loc href="#feature-opacity-region"><code>#opacity-region</code></loc> feature.</p>
</div3>
<div3 id="feature-opacity-block">
<head>#opacity-block</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#opacity-block</code> feature if it recognizes and is
capable of transforming all defined values of the <loc
href="#style-attribute-opacity"><att>tts:opacity</att></loc>
attribute when applied to a <loc href="#terms-content-element">content element</loc> that would generate a
block area during presentation processing.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#opacity-block</code> feature if it (1) implements presentation semantic
support for the <loc
href="#style-attribute-opacity"><att>tts:opacity</att></loc>
attribute when applied to a <loc href="#terms-content-element">content element</loc> that generates a
block area and (2) is capable of displaying or generating an output display
signal that distinguishes between at least eight (8) values of opacity.</p>
</div3>
<div3 id="feature-opacity-image">
<head>#opacity-image</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#opacity-image</code> feature if it supports all defined values
of the <loc href="#style-attribute-opacity"><att>tts:opacity</att></loc> attribute when applied to
an <loc href="#embedded-content-vocabulary-image"><el>image</el></loc> element.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the <code>#opacity-image</code>
feature if it implements presentation semantic support for the same vocabulary enumerated above.</p>
<note role="clarification">
<p>Support for the <code>#opacity-image</code> feature does not imply support for the
<loc href="#feature-image"><code>#image</code></loc> feature; however, without support for the latter, support for
the former serves no purpose.</p>
</note>
</div3>
<div3 id="feature-opacity-inline">
<head>#opacity-inline</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#opacity-inline</code> feature if it recognizes and is
capable of transforming all defined values of the <loc
href="#style-attribute-opacity"><att>tts:opacity</att></loc>
attribute when applied to a <loc href="#terms-content-element">content element</loc> that would generate an
inline area during presentation processing.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#opacity-inline</code> feature if it (1) implements presentation semantic
support for the <loc
href="#style-attribute-opacity"><att>tts:opacity</att></loc>
attribute when applied to a <loc href="#terms-content-element">content element</loc> that generates an
inline area and (2) is capable of displaying or generating an output display
signal that distinguishes between at least eight (8) values of opacity.</p>
</div3>
<div3 id="feature-opacity-region">
<head>#opacity-region</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#opacity-region</code> feature if it recognizes and is
capable of transforming all defined values of the <loc
href="#style-attribute-opacity"><att>tts:opacity</att></loc>
attribute when applied to a <loc
href="#layout-vocabulary-region"><el>region</el></loc> element.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#opacity-region</code> feature if it (1) implements presentation semantic
support for the <loc
href="#style-attribute-opacity"><att>tts:opacity</att></loc>
attribute when applied to a <loc
href="#layout-vocabulary-region"><el>region</el></loc> element and (2) is capable of displaying or generating an output display
signal that distinguishes between at least eight (8) values of opacity.</p>
<note role="clarification"><p>Support for the <code>#opacity-region</code> feature is functionally equivalent to support for the
<loc href="#feature-opacity"><code>#opacity</code></loc> feature.</p></note>
<p>It is an error for a content profile to require or permit use of the <code>#opacity-region</code> feature but prohibit use
of the <loc href="#feature-opacity"><code>#opacity</code></loc> feature.</p>
</div3>
<div3 id="feature-opacity-version-2">
<head>#opacity-version-2</head>
<p>A TTML processor supports the <code>#opacity-version-2</code> feature if it
supports the following features:</p>
<ulist>
<item><p><loc href="#feature-opacity"><code>#opacity</code></loc></p></item>
<item><p><loc href="#feature-opacity-block"><code>#opacity-block</code></loc></p></item>
<item><p><loc href="#feature-opacity-image"><code>#opacity-image</code></loc></p></item>
<item><p><loc href="#feature-opacity-inline"><code>#opacity-inline</code></loc></p></item>
</ulist>
<p>The <code>#opacity-version-2</code> feature is a syntactic and semantic extension of the
<loc href="#feature-opacity"><code>#opacity</code></loc> feature.</p>
<p>It is an error for a content profile to require or permit use of the <code>#opacity-version-2</code> feature
but prohibit use of any of the following features:
<loc href="#feature-opacity"><code>#opacity</code></loc>,
<loc href="#feature-opacity-block"><code>#opacity-block</code></loc>,
<loc href="#feature-opacity-image"><code>#opacity-image</code></loc>,
<loc href="#feature-opacity-inline"><code>#opacity-inline</code></loc>, or
<loc href="#feature-opacity-region"><code>#opacity-region</code></loc>.</p>
</div3>
<div3 id="feature-origin">
<head>#origin</head>
<p>A TTML content processor supports the <code>#origin</code>
feature if it supports the <code>#origin</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.60.</p>
<note role="clarification">
<p>Support for the <code>#origin</code> feature does not imply support for the
<loc href="#feature-region-implied-animation"><code>#region-implied-animation</code></loc> feature.</p>
</note>
</div3>
<div3 id="feature-overflow">
<head>#overflow</head>
<p>A TTML content processor supports the <code>#overflow</code>
feature if it supports the <code>#overflow</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.61.</p>
<note role="clarification"><p>Support for the <code>#overflow</code> feature is functionally equivalent to support for (1) the
<loc href="#feature-overflow-visible"><code>#overflow-visible</code></loc> feature
and (2) the <code>hidden</code> value of <loc href="#style-attribute-overflow"><att>tts:overflow</att></loc> attribute.</p>
</note>
<p>It is an error for a content profile to require or permit use of the <code>#overflow</code> feature but prohibit use of the
<loc href="#feature-overflow-visible"><code>#overflow-visible</code></loc> feature.</p>
</div3>
<div3 id="feature-overflow-visible">
<head>#overflow-visible</head>
<p>A TTML content processor supports the <code>#overflow-visible</code>
feature if it supports the <code>#overflow-visible</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.62.</p>
</div3>
<div3 id="feature-padding">
<head>#padding</head>
<p>A TTML content processor supports the <code>#padding</code>
feature if it supports the <code>#padding</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.63.</p>
<note role="clarification"><p>Support for the <code>#padding</code> feature is functionally equivalent to support for the following features:</p>
<ulist>
<item><p><loc href="#feature-padding-1"><code>#padding-1</code></loc></p></item>
<item><p><loc href="#feature-padding-2"><code>#padding-2</code></loc></p></item>
<item><p><loc href="#feature-padding-3"><code>#padding-3</code></loc></p></item>
<item><p><loc href="#feature-padding-4"><code>#padding-4</code></loc></p></item>
<item><p><loc href="#feature-padding-region"><code>#padding-region</code></loc></p></item>
</ulist>
</note>
<p>It is an error for a content profile to require or permit use of the <code>#padding</code> feature but prohibit use of any of the following features:
<loc href="#feature-padding-1"><code>#padding-1</code></loc>,
<loc href="#feature-padding-2"><code>#padding-2</code></loc>,
<loc href="#feature-padding-3"><code>#padding-3</code></loc>,
<loc href="#feature-padding-4"><code>#padding-4</code></loc>,
<loc href="#feature-padding-region"><code>#padding-region</code></loc>.
</p>
</div3>
<div3 id="feature-padding-1">
<head>#padding-1</head>
<p>A TTML content processor supports the <code>#padding-1</code>
feature if it supports the <code>#padding-1</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.64.</p>
</div3>
<div3 id="feature-padding-2">
<head>#padding-2</head>
<p>A TTML content processor supports the <code>#padding-2</code>
feature if it supports the <code>#padding-2</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.65.</p>
</div3>
<div3 id="feature-padding-3">
<head>#padding-3</head>
<p>A TTML content processor supports the <code>#padding-3</code>
feature if it supports the <code>#padding-3</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.66.</p>
</div3>
<div3 id="feature-padding-4">
<head>#padding-4</head>
<p>A TTML content processor supports the <code>#padding-4</code>
feature if it supports the <code>#padding-4</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.67.</p>
</div3>
<div3 id="feature-padding-block">
<head>#padding-block</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#padding-block</code> feature if it recognizes and is
capable of transforming all defined values of the <loc
href="#style-attribute-padding"><att>tts:padding</att></loc>
attribute when applied to a <loc href="#terms-content-element">content element</loc> that would generate a
block area during presentation processing.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#padding-block</code> feature if it implements presentation semantic
support for the <loc
href="#style-attribute-padding"><att>tts:padding</att></loc>
attribute when applied to a <loc href="#terms-content-element">content element</loc> that generates a
block area.</p>
</div3>
<div3 id="feature-padding-inline">
<head>#padding-inline</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#padding-inline</code> feature if it recognizes and is
capable of transforming all defined values of the <loc
href="#style-attribute-padding"><att>tts:padding</att></loc>
attribute when applied to a <loc href="#terms-content-element">content element</loc> that would generate an
inline area during presentation processing.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#padding-inline</code> feature if it implements presentation semantic
support for the <loc
href="#style-attribute-padding"><att>tts:padding</att></loc>
attribute when applied to a <loc href="#terms-content-element">content element</loc> that generates an
inline area.</p>
</div3>
<div3 id="feature-padding-region">
<head>#padding-region</head>
<p>A TTML content processor supports the <code>#padding-region</code>
feature if it supports the <loc href="#feature-padding"><code>#padding</code></loc> feature.</p>
<p>The <code>#padding-region</code> feature is a <termref def="defs-null-extension">null extension</termref>
of the <loc href="#feature-padding"><code>#padding</code></loc> feature,
which, by <termdef id="defs-null-extension" term=""><term>null extension</term></termdef> is meant
that some feature is formally marked as an extension of another feature, but the extension semantics is the null set, which is the same as saying
that the two features are functionally equivalent.</p>
<p>It is an error for a content profile to require or permit use of the <code>#padding-region</code> feature
but prohibit use of any of the following features:
<loc href="#feature-padding"><code>#padding</code></loc>,
<loc href="#feature-padding-1"><code>#padding-1</code></loc>,
<loc href="#feature-padding-2"><code>#padding-2</code></loc>,
<loc href="#feature-padding-3"><code>#padding-3</code></loc>, or
<loc href="#feature-padding-4"><code>#padding-4</code></loc>.
</p>
</div3>
<div3 id="feature-padding-version-2">
<head>#padding-version-2</head>
<p>A TTML processor supports the <code>#padding-version-2</code> feature if it
supports the following features:</p>
<ulist>
<item><p><loc href="#feature-padding"><code>#padding</code></loc></p></item>
<item><p><loc href="#feature-padding-1"><code>#padding-1</code></loc></p></item>
<item><p><loc href="#feature-padding-2"><code>#padding-2</code></loc></p></item>
<item><p><loc href="#feature-padding-3"><code>#padding-3</code></loc></p></item>
<item><p><loc href="#feature-padding-4"><code>#padding-4</code></loc></p></item>
<item><p><loc href="#feature-padding-block"><code>#padding-block</code></loc></p></item>
<item><p><loc href="#feature-padding-inline"><code>#padding-inline</code></loc></p></item>
<item><p><loc href="#feature-padding-region"><code>#padding-region</code></loc></p></item>
</ulist>
<p>The <code>#padding-version-2</code> feature is a syntactic and semantic extension of the
<loc href="#feature-padding"><code>#padding</code></loc> feature.</p>
<note role="clarificiation">
<p>Since the <code>#padding-region</code> feature is a <termref def="defs-null-extension">null extension</termref> of the
<loc href="#feature-padding"><code>#padding</code></loc> feature,
then the <code>#padding-version-2</code> feature is a syntactic and semantic extension of the
<loc href="#feature-padding-region"><code>#padding-region</code></loc> feature as well.</p>
</note>
<p>It is an error for a content profile to require or permit use of the <code>#padding-version-2</code> feature
but prohibit use of any of the following features:
<loc href="#feature-padding"><code>#padding</code></loc>,
<loc href="#feature-padding-1"><code>#padding-1</code></loc>,
<loc href="#feature-padding-2"><code>#padding-2</code></loc>,
<loc href="#feature-padding-3"><code>#padding-3</code></loc>,
<loc href="#feature-padding-4"><code>#padding-4</code></loc>.
<loc href="#feature-padding-block"><code>#padding-block</code></loc>,
<loc href="#feature-padding-inline"><code>#padding-inline</code></loc>, or
<loc href="#feature-padding-region"><code>#padding-region</code></loc>.</p>
</div3>
<div3 id="feature-pan">
<head>#pan</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#pan</code> feature if it recognizes and is capable of
transforming the <loc href="#audio-style-attribute-pan"><att>tta:pan</att></loc> attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#pan</code> feature if it implements presentation semantic support for the
<loc href="#audio-style-attribute-pan"><att>tta:pan</att></loc> attribute.</p>
</div3>
<div3 id="feature-permitFeatureNarrowing">
<head>#permitFeatureNarrowing</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#permitFeatureNarrowing</code> feature if it recognizes and is capable of
transforming (1) the <loc href="#profile-attribute-permitFeatureNarrowing"><att>ttp:permitFeatureNarrowing</att></loc>
attribute and (2) the <code>extends</code> attribute on the
<loc href="#profile-vocabulary-feature"><el>ttp:feature</el></loc> and
<loc href="#profile-vocabulary-extension"><el>ttp:extension</el></loc> elements.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the <code>#permitFeatureNarrowing</code>
feature if it implements presentation semantic support for the
same vocabulary enumerated above.</p>
<note role="clarification">
<p>If a TTML processor does not support the <code>#permitFeatureNarrowing</code> feature when it is designated as optional, then the semantics of the
<code>extends</code> attribute are ignored, which is to say, support for the feature being extended will not be sufficient
to consider that the extension feature is supported.</p>
</note>
</div3>
<div3 id="feature-permitFeatureWidening">
<head>#permitFeatureWidening</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#permitFeatureWidening</code> feature if it recognizes and is capable of
transforming (1) the <loc href="#profile-attribute-permitFeatureWidening"><att>ttp:permitFeatureWidening</att></loc>
attribute and (2) the <code>restricts</code> attribute on the
<loc href="#profile-vocabulary-feature"><el>ttp:feature</el></loc> and
<loc href="#profile-vocabulary-extension"><el>ttp:extension</el></loc> elements.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the <code>#permitFeatureWidening</code>
feature if it implements presentation semantic support for the
same vocabulary enumerated above.</p>
<note role="clarification">
<p>If a TTML processor does not support the <code>#permitFeatureWidening</code> feature when it is designated as optional, then the semantics of the
<code>restricts</code> attribute are ignored, which is to say, support for the feature being restricted will not be sufficient
to consider that the restricted feature is supported.</p>
</note>
</div3>
<div3 id="feature-pitch">
<head>#pitch</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#pitch</code> feature if it recognizes and is capable of
transforming the <loc href="#audio-style-attribute-pitch"><att>tta:pitch</att></loc> attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#pitch</code> feature if it implements presentation semantic support for the
<loc href="#audio-style-attribute-pitch"><att>tta:pitch</att></loc> attribute.</p>
</div3>
<div3 id="feature-pixelAspectRatio">
<head>#pixelAspectRatio</head>
<p>A TTML content processor supports the <code>#pixelAspectRatio</code>
feature if it supports the <code>#pixelAspectRatio</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.68.</p>
</div3>
<div3 id="feature-position">
<head>#position</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#position</code> feature if it recognizes and is capable of
transforming the <loc href="#style-attribute-position"><att>tts:position</att></loc> attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#position</code> feature if it implements presentation semantic support for the
<loc href="#style-attribute-position"><att>tts:position</att></loc> attribute.</p>
<note role="clarification">
<p>Support for the <code>#position</code> feature does not imply support for the
<loc href="#feature-region-implied-animation"><code>#region-implied-animation</code></loc> feature.</p>
</note>
</div3>
<div3 id="feature-presentation">
<head>#presentation</head>
<p>A TTML content processor supports the <code>#presentation</code>
feature if it supports the <code>#presentation</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.69.</p>
</div3>
<div3 id="feature-presentation-audio">
<head>#presentation-audio</head>
<p>A TTML content processor supports the <code>#presentation-audio</code> feature if it
(1) satisfies the generic processor criteria defined by <specref ref="conformance-generic-processor"/>,
(2) implements support for audio presentation (rendering) semantics, and
(3) implements audio presentation semantics for the following features:
</p>
<ulist>
<item><p><loc href="#feature-audio"><code>#audio</code></loc></p></item>
<item><p><loc href="#feature-content"><code>#content</code></loc></p></item>
<item><p><loc href="#feature-core"><code>#core</code></loc></p></item>
<item><p><loc href="#feature-profile"><code>#profile</code></loc></p></item>
<item><p><loc href="#feature-structure"><code>#structure</code></loc></p></item>
<item><p><loc href="#feature-time-offset"><code>#time-offset</code></loc></p></item>
<item><p><loc href="#feature-timing"><code>#timing</code></loc></p></item>
</ulist>
<p>In addition, a TTML processor that supports the <code>#presentation-audio</code> feature
should satisfy the user agent accessibility guidelines specified by <bibref ref="uaag"/>.</p>
</div3>
<div3 id="feature-presentation-version-2">
<head>#presentation-version-2</head>
<p>A TTML processor supports the <code>#presentation-version-2</code> feature if it
(1) satisfies the generic processor criteria defined by 
<specref ref="conformance-generic-processor"/> and
(2) supports the following features:</p>
<ulist>
<item><p><loc href="#feature-presentation"><code>#presentation</code></loc></p></item>
<item><p><loc href="#feature-profile-version-2"><code>#profile-version-2</code></loc></p></item>
</ulist>
<p>The <code>#presentation-version-2</code> feature is a syntactic and semantic extension of the
<loc href="#feature-presentation"><code>#presentation</code></loc> feature.</p>
<p>It is an error for a content profile to require or permit use of the <code>#presentation-version-2</code> feature but prohibit use of any of the
following features:
<loc href="#feature-presentation"><code>#presentation</code></loc> or
<loc href="#feature-profile-version-2"><code>#profile-version-2</code></loc>.</p>
</div3>
<div3 id="feature-processorProfiles">
<head>#processorProfiles</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the <code>#processorProfiles</code>
feature if it (1) supports <loc href="#terms-non-combined-profile">non-combined profiles</loc> and (2) recognizes and is capable of transforming:</p>
<olist>
  <item>
    <p>the following profile attributes vocabulary defined by <specref ref="profile-attribute-vocabulary"/>:</p>
    <ulist>
      <item><p><loc href="#profile-attribute-processorProfiles"><att>ttp:processorProfiles</att></loc></p></item>
    </ulist>
  </item>
  <item>
    <p>the <code>designator</code> attribute on
       the <loc href="#profile-vocabulary-profile"><el>ttp:profile</el></loc> element, and</p>
  </item>
  <item>
    <p>the <code>processor</code> value of the <code>type</code> attribute on
       the <loc href="#profile-vocabulary-profile"><el>ttp:profile</el></loc> element.</p>
  </item>
</olist>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the <code>#processorProfiles</code>
feature if it implements presentation semantic support for the
same vocabulary enumerated above.</p>
<note role="elaboration">
<p>Support for the <code>#processorProfiles</code> feature does not imply support for <loc href="#terms-combined-profile">combined profiles</loc>
or <loc href="#terms-nesting-profile">nesting profiles</loc>.</p>
</note>
</div3>
<div3 id="feature-processorProfiles-combined">
<head>#processorProfiles-combined</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the <code>#processorProfiles-combined</code>
feature if it (1) supports the <loc href="#feature-processorProfiles"><code>#processorProfiles</code></loc> feature,
(2) supports <loc href="#terms-combined-profile">combined profiles</loc> and (3) recognizes and is capable of transforming:</p>
<olist>
  <item>
    <p>the following profile attributes vocabulary defined by <specref ref="profile-attribute-vocabulary"/>:</p>
    <ulist>
      <item><p><loc href="#profile-attribute-processorProfileCombination"><att>ttp:processorProfileCombination</att></loc>,</p></item>
    </ulist>
  </item>
  <item>
    <p>the <code>combine</code> attribute on
       the <loc href="#profile-vocabulary-profile"><el>ttp:profile</el></loc> element.</p>
  </item>
</olist>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the <code>#processorProfiles-combined</code>
feature if it implements presentation semantic support for the
same vocabulary enumerated above.</p>
<p>The <code>#processorProfiles-combine</code> feature is a syntactic and semantic extension of the
<loc href="#feature-processorProfiles"><code>#processorProfiles</code></loc> feature.</p>
<p>It is an error for a processor profile to require or permit use of the <code>#processorProfiles-combine</code> feature
but prohibit use of the <loc href="#feature-processorProfiles"><code>#processorProfiles</code></loc> feature.</p>
<note role="elaboration">
<p>Support for the <code>#processorProfiles-combined</code> feature does not imply support for <loc href="#terms-nesting-profile">nesting profiles</loc>.</p>
</note>
</div3>
<div3 id="feature-profile">
<head>#profile</head>
<p>A TTML content processor supports the <code>#profile</code>
feature if it supports the <code>#profile</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.70.</p>
<note role="clarification">
<p>Support for the <code>#profile</code> feature does not imply support for the
following features:</p>
<ulist>
  <item><p><loc href="#feature-contentProfiles"><code>#contentProfiles</code></loc></p></item>
  <item><p><loc href="#feature-contentProfiles-combined"><code>#contentProfiles-combined</code></loc></p></item>
  <item><p><loc href="#feature-permitFeatureNarrowing"><code>#permitFeatureNarrowing</code></loc></p></item>
  <item><p><loc href="#feature-permitFeatureWidening"><code>#permitFeatureWidening</code></loc></p></item>
  <item><p><loc href="#feature-processorProfiles"><code>#processorProfiles</code></loc></p></item>
  <item><p><loc href="#feature-processorProfiles-combined"><code>#processorProfiles-combined</code></loc></p></item>
  <item><p><loc href="#feature-profile-nesting"><code>#profile-nesting</code></loc></p></item>
</ulist>
</note>
</div3>
<div3 id="feature-profile-full-version-2">
<head>#profile-full-version-2</head>
<p>A TTML content processor supports the <code>#profile-full-version-2</code> feature if it
supports the following features:</p>
<ulist>
  <item><p><loc href="#feature-contentProfiles"><code>#contentProfiles</code></loc></p></item>
  <item><p><loc href="#feature-contentProfiles-combined"><code>#contentProfiles-combined</code></loc></p></item>
  <item><p><loc href="#feature-permitFeatureNarrowing"><code>#permitFeatureNarrowing</code></loc></p></item>
  <item><p><loc href="#feature-permitFeatureWidening"><code>#permitFeatureWidening</code></loc></p></item>
  <item><p><loc href="#feature-processorProfiles"><code>#processorProfiles</code></loc></p></item>
  <item><p><loc href="#feature-processorProfiles-combined"><code>#processorProfiles-combined</code></loc></p></item>
  <item><p><loc href="#feature-profile"><code>#profile</code></loc></p></item>
  <item><p><loc href="#feature-profile-nesting"><code>#profile-nesting</code></loc></p></item>
  <item><p><loc href="#feature-profile-version-2"><code>#profile-version-2</code></loc></p></item>
</ulist>
<p>The <code>#profile-full-version-2</code> feature is a syntactic and semantic extension of the
<loc href="#feature-profile-version-2"><code>#profile-version-2</code></loc> feature.</p>
<p>It is an error for a content profile to require or permit use of the <code>#profile-full-version-2</code> feature
but prohibit use of any of the following features:
<loc href="#feature-contentProfiles"><code>#contentProfiles</code></loc>,
<loc href="#feature-contentProfiles-combined"><code>#contentProfiles-combined</code></loc>,
<loc href="#feature-permitFeatureNarrowing"><code>#permitFeatureNarrowing</code></loc>,
<loc href="#feature-permitFeatureWidening"><code>#permitFeatureWidening</code></loc>,
<loc href="#feature-processorProfiles"><code>#processorProfiles</code></loc>,
<loc href="#feature-processorProfiles-combined"><code>#processorProfiles-combined</code></loc>,
<loc href="#feature-profile"><code>#profile</code></loc>,
<loc href="#feature-profile-nesting"><code>#profile-nesting</code></loc>, or
<loc href="#feature-profile-version-2"><code>#profile-version-2</code></loc>.</p>
</div3>
<div3 id="feature-profile-nesting">
<head>#profile-nesting</head>
<p>A TTML content processor supports the <code>#profile-nesting</code>
feature if it supports <loc href="#terms-nesting-profile">nesting profiles</loc>.</p>
</div3>
<div3 id="feature-profile-version-2">
<head>#profile-version-2</head>
<p>A TTML content processor supports the <code>#profile-version-2</code> feature if it
supports the following features:</p>
<ulist>
  <item><p><loc href="#feature-contentProfiles"><code>#contentProfiles</code></loc></p></item>
  <item><p><loc href="#feature-processorProfiles"><code>#processorProfiles</code></loc></p></item>
  <item><p><loc href="#feature-profile"><code>#profile</code></loc></p></item>
</ulist>
<p>The <code>#profile-version-2</code> feature is a syntactic and semantic extension of the
<loc href="#feature-profile"><code>#profile</code></loc> feature.</p>
<p>It is an error for a content profile to require or permit use of the <code>#profile-version-2</code> feature
but prohibit use of any of the following features:
<loc href="#feature-contentProfiles"><code>#contentProfiles</code></loc>,
<loc href="#feature-processorProfiles"><code>#processorProfiles</code></loc>, or
<loc href="#feature-profile"><code>#profile</code></loc>.</p>
<note role="clarification">
<p>Support for the <code>#profile-version-2</code> feature does not imply support for the
following features:</p>
<ulist>
  <item><p><loc href="#feature-contentProfiles-combined"><code>#contentProfiles-combined</code></loc></p></item>
  <item><p><loc href="#feature-permitFeatureNarrowing"><code>#permitFeatureNarrowing</code></loc></p></item>
  <item><p><loc href="#feature-permitFeatureWidening"><code>#permitFeatureWidening</code></loc></p></item>
  <item><p><loc href="#feature-processorProfiles-combined"><code>#processorProfiles-combined</code></loc></p></item>
  <item><p><loc href="#feature-profile-nesting"><code>#profile-nesting</code></loc></p></item>
</ulist>
</note>
</div3>
<div3 id="feature-region-implied-animation">
<head>#region-implied-animation</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#region-implied-animation</code> feature if it recognizes and is capable of transforming the style attributes on a
<loc href="#content-vocabulary-div"><el>div</el></loc> or <loc href="#content-vocabulary-p"><el>p</el></loc> element that apply to an implied region
in accordance with <specref ref="layout-vocabulary-region-special-inline-animation-semantics"/>.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#region-implied-animation</code> feature if it implements presentation semantic support for the style attributes on a
<loc href="#content-vocabulary-div"><el>div</el></loc> or <loc href="#content-vocabulary-p"><el>p</el></loc> element that apply to an implied region
in accordance with <specref ref="layout-vocabulary-region-special-inline-animation-semantics"/>.</p>
<note role="clarification">
<p>Support for the <code>#region-implied-animation</code> feature does not imply support for the
following features:</p>
<ulist>
  <item><p><loc href="#feature-disparity"><code>#disparity</code></loc></p></item>
  <item><p><loc href="#feature-extent"><code>#extent</code></loc></p></item>
  <item><p><loc href="#feature-origin"><code>#origin</code></loc></p></item>
  <item><p><loc href="#feature-position"><code>#position</code></loc></p></item>
</ulist>
<p>However, if any of these features is supported, then support for the <code>#region-implied-animation</code> feature
does imply that <specref ref="layout-vocabulary-region-special-inline-animation-semantics"/> is supported with respect to that feature.</p>
</note>
</div3>
<div3 id="feature-region-inline">
<head>#region-inline</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#region-inline</code> feature if it recognizes and is capable
of transforming inline region element children of a <loc href="#terms-content-element">content element</loc>, as further defined by
<loc href="#layout-vocabulary-region"><code>region</code></loc>.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#region-inline</code> feature if it implements presentation semantic support
for inline region element children of a <loc href="#terms-content-element">content element</loc>, as further defined by
<loc href="#layout-vocabulary-region"><code>region</code></loc>.</p>
</div3>
<div3 id="feature-region-timing">
<head>#region-timing</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the <code>#region-timing</code>
feature if it recognizes and is capable of transforming the following vocabulary when applied to a
<loc href="#layout-vocabulary-region"><el>region</el></loc> element:</p>
<ulist>
<item><p><loc href="#timing-attribute-begin"><att>begin</att></loc></p></item>
<item><p><loc href="#timing-attribute-dur"><att>dur</att></loc></p></item>
<item><p><loc href="#timing-attribute-end"><att>end</att></loc></p></item>
</ulist>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the <code>#region-timing</code>
feature if it implements presentation semantic support for the same vocabulary enumerated above
when applied to a <loc href="#layout-vocabulary-region"><el>region</el></loc> element.</p>
<p>The <code>#region-timing</code> feature is a semantic restriction of the <loc href="#feature-timing"><code>#timing</code></loc> feature.</p>
<note role="clarification">
<p>Since this feature represents a semantic subset of the <code>#timing</code> feature, and
since the latter is a mandatory feature for all transformation and presentation processors, the utility of this feature
designation is effectively limited to its use in a content profile definition which may choose to prohibit use of this feature
by a document instance.</p>
</note>
</div3>
<div3 id="feature-resources">
<head>#resources</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the <code>#resources</code>
feature if it recognizes and is capable of transforming the following
vocabulary defined by <specref ref="embedded-content"/>:</p>
<ulist>
<item><p><loc href="#embedded-content-vocabulary-resources"><el>resources</el></loc></p></item>
</ulist>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the <code>#resources</code>
feature if it implements presentation semantic support for the
same vocabulary enumerated above.</p>
</div3>
<div3 id="feature-ruby">
<head>#ruby</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#ruby</code> feature if it recognizes and is capable
of transforming all defined values of the <loc
href="#style-attribute-ruby"><att>tts:ruby</att></loc>
attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#ruby</code> feature if it implements presentation semantic support
for all defined values of the <loc
href="#style-attribute-ruby"><att>tts:ruby</att></loc>
attribute.</p>
</div3>
<div3 id="feature-ruby-full">
<head>#ruby-full</head>
<p>A TTML processor supports the <code>#ruby-full</code> feature if it
supports the following features:</p>
<ulist>
<item><p><loc href="#feature-ruby"><code>#ruby</code></loc></p></item>
<item><p><loc href="#feature-rubyAlign"><code>#rubyAlign</code></loc></p></item>
<item><p><loc href="#feature-rubyPosition"><code>#rubyPosition</code></loc></p></item>
<item><p><loc href="#feature-rubyReserve"><code>#rubyReserve</code></loc></p></item>
</ulist>
<p>It is an error for a content profile to require or permit use of the <code>#ruby-full</code> feature
but prohibit use of any of the following features:
<loc href="#feature-ruby"><code>#ruby</code></loc>,
<loc href="#feature-rubyAlign"><code>#rubyAlign</code></loc>,
<loc href="#feature-rubyPosition"><code>#rubyPosition</code></loc>, or
<loc href="#feature-rubyReserve"><code>#rubyReserve</code></loc>.</p>
</div3>
<div3 id="feature-rubyAlign">
<head>#rubyAlign</head>
<p>A TTML processor supports the <code>#rubyAlign</code> feature if it supports the following features:</p>
<ulist>
<item><p><loc href="#feature-rubyAlign-minimal"><code>#rubyAlign-minimal</code></loc></p></item>
<item><p><loc href="#feature-rubyAlign-withBase"><code>#rubyAlign-withBase</code></loc></p></item>
</ulist>
<p>It is an error for a content profile to require or permit use of the <code>#rubyAlign</code> feature but prohibit use of any of the following
features:
<loc href="#feature-rubyAlign-minimal"><code>#rubyAlign-minimal</code></loc> or
<loc href="#feature-rubyAlign-withBase"><code>#rubyAlign-withBase</code></loc>.</p>
</div3>
<div3 id="feature-rubyAlign-minimal">
<head>#rubyAlign-minimal</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#rubyAlign-minimal</code> feature if it recognizes and is capable of transforming the following values of the
<loc href="#style-attribute-rubyAlign"><att>tts:rubyAlign</att></loc> attribute.</p>
<ulist>
<item><p><code>start</code></p></item>
<item><p><code>center</code></p></item>
<item><p><code>end</code></p></item>
<item><p><code>spaceAround</code></p></item>
<item><p><code>spaceBetween</code></p></item>
</ulist>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#rubyAlign-minimal</code> feature if it implements presentation semantic support for the same values
vocabulary enumerated above.</p>
</div3>
<div3 id="feature-rubyAlign-withBase">
<head>#rubyAlign-withBase</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#rubyAlign-withBase</code> feature if it recognizes and is capable of transforming the
<code>withBase</code> value of the <loc href="#style-attribute-rubyAlign"><att>tts:rubyAlign</att></loc> attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#rubyAlign-withBase</code> feature if it implements presentation semantic support for the same value
enumerated above.</p>
</div3>
<div3 id="feature-rubyPosition">
<head>#rubyPosition</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#rubyPosition</code> feature if it recognizes and is capable of
transforming the <loc href="#style-attribute-rubyPosition"><att>tts:rubyPosition</att></loc> attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#rubyPosition</code> feature if it implements presentation semantic support for the
<loc href="#style-attribute-rubyPosition"><att>tts:rubyPosition</att></loc> attribute.</p>
</div3>
<div3 id="feature-rubyReserve">
<head>#rubyReserve</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#rubyReserve</code> feature if it recognizes and is capable of
transforming the <loc href="#style-attribute-rubyReserve"><att>tts:rubyReserve</att></loc> attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#rubyReserve</code> feature if it implements presentation semantic support for the
<loc href="#style-attribute-rubyReserve"><att>tts:rubyReserve</att></loc> attribute.</p>
</div3>
<div3 id="feature-set">
<head>#set</head>
<p>A TTML content processor supports the <code>#set</code>
feature if it supports the <loc href="#feature-animation"><code>#animation</code></loc> feature, and, as such,
the <code>#set</code> feature is a <termref def="defs-null-extension">null extension</termref> of the
<loc href="#feature-animation"><code>#animation</code></loc> feature.</p>
<p>It is an error for a content profile to require or permit use of the <code>#set</code> feature but prohibit use of the
<loc href="#feature-animation"><code>#animation</code></loc> feature.</p>
</div3>
<div3 id="feature-set-fill">
<head>#set-fill</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#set-fill</code> feature if it recognizes and is capable of
transforming the <att>fill</att> attribute of the <loc href="#animation-vocabulary-set"><el>set</el></loc> element.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#set-fill</code> feature if it implements presentation semantic support
for the <code>fill</code> attribute of the <loc href="#animation-vocabulary-set"><el>set</el></loc> element.</p>
</div3>
<div3 id="feature-set-multiple-styles">
<head>#set-multiple-styles</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#set-multiple-styles</code> feature if it recognizes and is capable of
transforming multiple <loc href="#terms-styling-attribute">styling attributes</loc> when specified on a <loc href="#animation-vocabulary-set"><el>set</el></loc> element.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#set-multiple-styles</code> feature if it implements presentation semantic support
for multiple <loc href="#terms-styling-attribute">styling attributes</loc> when specified on a <loc href="#animation-vocabulary-set"><el>set</el></loc> element.</p>
</div3>
<div3 id="feature-set-repeat">
<head>#set-repeat</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#set-repeat</code> feature if it recognizes and is capable of
transforming the <att>repeatCount</att> attribute of the <loc href="#animation-vocabulary-set"><el>set</el></loc> element.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#set-repeat</code> feature if it implements presentation semantic support
for the <code>repeatCount</code> attribute of the <loc href="#animation-vocabulary-set"><el>set</el></loc> element.</p>
</div3>
<div3 id="feature-shear">
<head>#shear</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#shear</code> feature if it recognizes and is capable of
transforming the <loc href="#style-attribute-shear"><att>tts:shear</att></loc> attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#shear</code> feature if it implements presentation semantic support for the
<loc href="#style-attribute-shear"><att>tts:shear</att></loc> attribute.</p>
</div3>
<div3 id="feature-showBackground">
<head>#showBackground</head>
<p>A TTML content processor supports the <code>#showBackground</code>
feature if it supports the <code>#showBackground</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.71.</p>
</div3>
<div3 id="feature-source">
<head>#source</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the <code>#source</code>
feature if it recognizes and is capable of transforming the following
vocabulary defined by <specref ref="embedded-content"/>:</p>
<ulist>
<item><p><loc href="#embedded-content-vocabulary-source"><el>source</el></loc></p></item>
</ulist>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the <code>#source</code>
feature if it implements presentation semantic support for the
same vocabulary enumerated above.</p>
</div3>
<div3 id="feature-speak">
<head>#speak</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#speak</code> feature if it recognizes and is capable of
transforming the <loc href="#audio-style-attribute-speak"><att>tta:speak</att></loc> attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#speak</code> feature if it implements presentation semantic support for the
<loc href="#audio-style-attribute-speak"><att>tta:speak</att></loc> attribute.</p>
</div3>
<div3 id="feature-speech">
<head>#speech</head>
<p>A TTML processor supports the <code>#speech</code> feature if it supports a
<loc href="#terms-speech-synthesis-processor">speech synthesis processor</loc>.</p>
</div3>
<div3 id="feature-structure">
<head>#structure</head>
<p>A TTML content processor supports the <code>#structure</code>
feature if it supports the <code>#structure</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.72.</p>
</div3>
<div3 id="feature-styling">
<head>#styling</head>
<p>A TTML content processor supports the <code>#styling</code>
feature if it supports the <code>#styling</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.73.</p>
</div3>
<div3 id="feature-styling-chained">
<head>#styling-chained</head>
<p>A TTML content processor supports the <code>#styling-chained</code>
feature if it supports the <code>#styling-chained</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.74.</p>
</div3>
<div3 id="feature-styling-inheritance-content">
<head>#styling-inheritance-content</head>
<p>A TTML content processor supports the <code>#styling-inheritance-content</code>
feature if it supports the <code>#inheritance-content</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.75.</p>
</div3>
<div3 id="feature-styling-inheritance-region">
<head>#styling-inheritance-region</head>
<p>A TTML content processor supports the <code>#styling-inheritance-region</code>
feature if it supports the <code>#styling-inheritance-region</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.76.</p>
</div3>
<div3 id="feature-styling-inline">
<head>#styling-inline</head>
<p>A TTML content processor supports the <code>#styling-inline</code>
feature if it supports the <code>#styling-inline</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.77.</p>
</div3>
<div3 id="feature-styling-nested">
<head>#styling-nested</head>
<p>A TTML content processor supports the <code>#styling-nested</code>
feature if it supports the <code>#styling-nested</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.78.</p>
</div3>
<div3 id="feature-styling-referential">
<head>#styling-referential</head>
<p>A TTML content processor supports the <code>#styling-referential</code>
feature if it supports the <code>#styling-referential</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.79.</p>
</div3>
<div3 id="feature-subFrameRate">
<head>#subFrameRate</head>
<p>A TTML content processor supports the <code>#subFrameRate</code>
feature if it supports the <code>#subFrameRate</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.80.</p>
</div3>
<div3 id="feature-textAlign">
<head>#textAlign</head>
<p>A TTML content processor supports the <code>#textAlign</code>
feature if it supports the <code>#textAlign</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.81.</p>
<note role="clarification"><p>Support for the <code>#textAlign</code> feature is functionally equivalent to support for the following features:</p>
<ulist>
<item><p><loc href="#feature-textAlign-absolute"><code>#textAlign-absolute</code></loc></p></item>
<item><p><loc href="#feature-textAlign-relative"><code>#textAlign-relative</code></loc></p></item>
</ulist>
</note>
<p>It is an error for a content profile to require or permit use of the <code>#textAlign</code> feature but prohibit use of any of the following features:
<loc href="#feature-textAlign-absolute"><code>#textAlign-absolute</code></loc> or
<loc href="#feature-textAlign-relative"><code>#textAlign-relative</code></loc>.</p>
</div3>
<div3 id="feature-textAlign-absolute">
<head>#textAlign-absolute</head>
<p>A TTML content processor supports the <code>#textAlign-absolute</code>
feature if it supports the <code>#textAlign-absolute</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.82.</p>
</div3>
<div3 id="feature-textAlign-justify">
<head>#textAlign-justify</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#textAlign-justify</code> feature if it recognizes and is
capable of transforming the <code>justify</code> value of the <loc href="#style-attribute-textAlign"><att>tts:textAlign</att></loc> attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#textAlign-justify</code> feature if it implements presentation semantic support for the <code>justify</code> value
of the <loc href="#style-attribute-textAlign"><att>tts:textAlign</att></loc> attribute.</p>
</div3>
<div3 id="feature-textAlign-relative">
<head>#textAlign-relative</head>
<p>A TTML content processor supports the <code>#textAlign-relative</code>
feature if it supports the <code>#textAlign-relative</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.83.</p>
</div3>
<div3 id="feature-textAlign-version-2">
<head>#textAlign-version-2</head>
<p>A TTML processor supports the <code>#textAlign-version-2</code> feature if it
supports the following features:</p>
<ulist>
<item><p><loc href="#feature-textAlign"><code>#textAlign</code></loc></p></item>
<item><p><loc href="#feature-textAlign-absolute"><code>#textAlign-absolute</code></loc></p></item>
<item><p><loc href="#feature-textAlign-justify"><code>#textAlign-justify</code></loc></p></item>
<item><p><loc href="#feature-textAlign-relative"><code>#textAlign-relative</code></loc></p></item>
</ulist>
<p>The <code>#textAlign-version-2</code> feature is a syntactic and semantic extension of the
<loc href="#feature-textAlign"><code>#textAlign</code></loc> feature.</p>
<p>It is an error for a content profile to require or permit use of the <code>#textAlign-version-2</code> feature
but prohibit use of any of the following features:
<loc href="#feature-textAlign"><code>#textAlign</code></loc>,
<loc href="#feature-textAlign-absolute"><code>#textAlign-absolute</code></loc>,
<loc href="#feature-textAlign-justify"><code>#textAlign-justify</code></loc>, or
<loc href="#feature-textAlign-relative"><code>#textAlign-relative</code></loc>.</p>
</div3>
<div3 id="feature-textCombine">
<head>#textCombine</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#textCombine</code> feature if it recognizes and is capable of
transforming the <loc href="#style-attribute-textCombine"><att>tts:textCombine</att></loc> attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#textCombine</code> feature if it implements presentation semantic support for the
<loc href="#style-attribute-textCombine"><att>tts:textCombine</att></loc> attribute.</p>
</div3>
<div3 id="feature-textDecoration">
<head>#textDecoration</head>
<p>A TTML content processor supports the <code>#textDecoration</code>
feature if it supports the <code>#textDecoration</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.84.</p>
<note role="clarification"><p>Support for the <code>#textDecoration</code> feature is functionally equivalent to support for the following features:</p>
<ulist>
<item><p><loc href="#feature-textDecoration-over"><code>#textDecoration-over</code></loc></p></item>
<item><p><loc href="#feature-textDecoration-through"><code>#textDecoration-through</code></loc></p></item>
<item><p><loc href="#feature-textDecoration-under"><code>#textDecoration-under</code></loc></p></item>
</ulist>
</note>
<p>It is an error for a content profile to require or permit use of the <code>#textDecoration</code> feature
but prohibit use of any of the following features:
<loc href="#feature-textDecoration-over"><code>#textDecoration-over</code></loc>,
<loc href="#feature-textDecoration-through"><code>#textDecoration-through</code></loc>, or
<loc href="#feature-textDecoration-under"><code>#textDecoration-under</code></loc>.</p>
</div3>
<div3 id="feature-textDecoration-over">
<head>#textDecoration-over</head>
<p>A TTML content processor supports the <code>#textDecoration-over</code>
feature if it supports the <code>#textDecoration-over</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.85.</p>
</div3>
<div3 id="feature-textDecoration-through">
<head>#textDecoration-through</head>
<p>A TTML content processor supports the <code>#textDecoration-through</code>
feature if it supports the <code>#textDecoration-through</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.86.</p>
</div3>
<div3 id="feature-textDecoration-under">
<head>#textDecoration-under</head>
<p>A TTML content processor supports the <code>#textDecoration-under</code>
feature if it supports the <code>#textDecoration-under</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.87.</p>
</div3>
<div3 id="feature-textEmphasis">
<head>#textEmphasis</head>
<p>A TTML processor supports the <code>#textEmphasis</code> feature if it
supports the following features:</p>
<ulist>
<item><p><loc href="#feature-textEmphasis-color"><code>#textEmphasis-color</code></loc></p></item>
<item><p><loc href="#feature-textEmphasis-minimal"><code>#textEmphasis-minimal</code></loc></p></item>
<item><p><loc href="#feature-textEmphasis-quoted-string"><code>#textEmphasis-quoted-string</code></loc></p></item>
</ulist>
<p>The <code>#textEmphasis</code> feature is a syntactic and semantic extension of the
<loc href="#feature-textEmphasis-minimal"><code>#textEmphasis-minimal</code></loc> feature.</p>
<p>It is an error for a content profile to require or permit use of the <code>#textEmphasis</code> feature
but prohibit use of any of the following features:
<loc href="#feature-textEmphasis-color"><code>#textEmphasis-color</code></loc>,
<loc href="#feature-textEmphasis-minimal"><code>#textEmphasis-minimal</code></loc>, or
<loc href="#feature-textEmphasis-quoted-string"><code>#textEmphasis-quoted-string</code></loc>.</p>
</div3>
<div3 id="feature-textEmphasis-color">
<head>#textEmphasis-color</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#textEmphasis-color</code> feature if it recognizes and is capable
of transforming values of the <loc
href="#style-attribute-textEmphasis"><att>tts:textEmphasis</att></loc>
attribute which contain an <loc href="#style-value-emphasis-color">&lt;emphasis-color&gt;</loc> <loc href="#terms-component">component</loc>.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the <code>#textEmphasis-color</code>
feature if it implements presentation semantic support for the same vocabulary enumerated above.</p>
</div3>
<div3 id="feature-textEmphasis-minimal">
<head>#textEmphasis-minimal</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#textEmphasis-minimal</code> feature if it recognizes and is capable
of transforming values of the <loc
href="#style-attribute-textEmphasis"><att>tts:textEmphasis</att></loc>
attribute which (1) do not contain an <loc href="#style-value-emphasis-color">&lt;emphasis-color&gt;</loc> <loc href="#terms-component">component</loc> and
(2) do not contain an <loc href="#style-value-emphasis-style">&lt;emphasis-style&gt;</loc> <loc href="#terms-component">component</loc> that
takes the form of a <loc href="#content-value-quoted-string">&lt;quoted-string&gt;</loc> value.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the <code>#textEmphasis-minimal</code>
feature if it implements presentation semantic support for the same vocabulary enumerated above.</p>
</div3>
<div3 id="feature-textEmphasis-quoted-string">
<head>#textEmphasis-quoted-string</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#textEmphasis-quoted-string</code> feature if it recognizes and is capable
of transforming values of the <loc
href="#style-attribute-textEmphasis"><att>tts:textEmphasis</att></loc>
attribute which contain an <loc href="#style-value-emphasis-style">&lt;emphasis-style&gt;</loc> <loc href="#terms-component">component</loc> that
takes the form of a <loc href="#content-value-quoted-string">&lt;quoted-string&gt;</loc> value.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the <code>#textEmphasis-quoted-string</code>
feature if it implements presentation semantic support for the same vocabulary enumerated above.</p>
</div3>
<div3 id="feature-textOrientation">
<head>#textOrientation</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#textOrientation</code> feature if it recognizes and is capable of
transforming the <loc
href="#style-attribute-textOrientation"><att>tts:textOrientation</att></loc>
attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#textOrientation</code> feature if it implements presentation semantic support
for the <loc
href="#style-attribute-textOrientation"><att>tts:textOrientation</att></loc>
attribute.</p>
</div3>
<div3 id="feature-textOutline">
<head>#textOutline</head>
<p>A TTML content processor supports the <code>#textOutline</code>
feature if it supports the <code>#textOutline</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.88.</p>
<note role="clarification"><p>Support for the <code>#textOutline</code> feature is functionally equivalent to support for the following features:</p>
<ulist>
<item><p><loc href="#feature-textOutline-blurred"><code>#textOutline-blurred</code></loc></p></item>
<item><p><loc href="#feature-textOutline-unblurred"><code>#textOutline-unblurred</code></loc></p></item>
</ulist>
</note>
<p>It is an error for a content profile to require or permit use of the <code>#textOutline</code> feature
but prohibit use of any of the following features:
<loc href="#feature-textOutline-blurred"><code>#textOutline-blurred</code></loc> or
<loc href="#feature-textOutline-unblurred"><code>#textOutline-unblurred</code></loc>.</p>
</div3>
<div3 id="feature-textOutline-blurred">
<head>#textOutline-blurred</head>
<p>A TTML content processor supports the <code>#textOutline-blurred</code>
feature if it supports the <code>#textOutline-blurred</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.89.</p>
</div3>
<div3 id="feature-textOutline-unblurred">
<head>#textOutline-unblurred</head>
<p>A TTML content processor supports the <code>#textOutline-unblurred</code>
feature if it supports the <code>#textOutline-unblurred</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.90.</p>
</div3>
<div3 id="feature-textShadow">
<head>#textShadow</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#textShadow</code> feature if it recognizes and is capable of
transforming the <loc href="#style-attribute-textShadow"><att>tts:textShadow</att></loc> attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#textShadow</code> feature if it implements presentation semantic support for the
<loc href="#style-attribute-textShadow"><att>tts:textShadow</att></loc> attribute.</p>
</div3>
<div3 id="feature-tickRate">
<head>#tickRate</head>
<p>A TTML content processor supports the <code>#tickRate</code>
feature if it supports the <code>#tickRate</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.91.</p>
</div3>
<div3 id="feature-timeBase-clock">
<head>#timeBase-clock</head>
<p>A TTML content processor supports the <code>#timeBase-clock</code>
feature if it supports the <code>#timeBase-clock</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.92.</p>
</div3>
<div3 id="feature-timeBase-media">
<head>#timeBase-media</head>
<p>A TTML content processor supports the <code>#timeBase-media</code>
feature if it supports the <code>#timeBase-media</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.93.</p>
</div3>
<div3 id="feature-timeBase-smpte">
<head>#timeBase-smpte</head>
<p>A TTML content processor supports the <code>#timeBase-smpte</code>
feature if it supports the <code>#timeBase-smpte</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.94.</p>
</div3>
<div3 id="feature-timeContainer">
<head>#timeContainer</head>
<p>A TTML content processor supports the <code>#timeContainer</code>
feature if it supports the <code>#timeContainer</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.95.</p>
</div3>
<div3 id="feature-time-clock">
<head>#time-clock</head>
<p>A TTML content processor supports the <code>#time-clock</code>
feature if it supports the <code>#time-clock</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.96.</p>
</div3>
<div3 id="feature-time-clock-with-frames">
<head>#time-clock-with-frames</head>
<p>A TTML content processor supports the <code>#time-clock-with-frames</code>
feature if it supports the <code>#time-clock-with-frames</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.97.</p>
</div3>
<div3 id="feature-time-offset">
<head>#time-offset</head>
<p>A TTML content processor supports the <code>#time-offset</code>
feature if it supports the <code>#time-offset</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.98.</p>
</div3>
<div3 id="feature-time-offset-with-frames">
<head>#time-offset-with-frames</head>
<p>A TTML content processor supports the <code>#time-offset-with-frames</code>
feature if it supports the <code>#time-offset-with-frames</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.99.</p>
</div3>
<div3 id="feature-time-offset-with-ticks">
<head>#time-offset-with-ticks</head>
<p>A TTML content processor supports the <code>#time-offset-with-ticks</code>
feature if it supports the <code>#time-offset-with-ticks</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.100.</p>
</div3>
<div3 id="feature-time-wall-clock">
<head>#time-wall-clock</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#time-wall-clock</code> feature if it recognizes and is capable of
transforming all values of the <loc
href="#timing-value-time-expression">&lt;time-expression&gt;</loc> that
satisfy the following subset of time expression syntax:</p>
<eg xml:space="preserve">
&lt;time-expression&gt;
  : wallclock-time
</eg>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#time-wall-clock</code> feature if it implements presentation
semantic support for the same syntax specified above.</p>
</div3>
<div3 id="feature-timing">
<head>#timing</head>
<p>A TTML content processor supports the <code>#timing</code>
feature if it supports the <code>#timing</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.101.</p>
</div3>
<div3 id="feature-transformation">
<head>#transformation</head>
<p>A TTML content processor supports the <code>#transformation</code>
feature if it supports the <code>#transformation</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.102.</p>
</div3>
<div3 id="feature-transformation-version-2">
<head>#transformation-version-2</head>
<p>A TTML processor supports the <code>#transformation-version-2</code> feature if it
(1) satisfies the generic processor criteria defined by 
<specref ref="conformance-generic-processor"/> and
(2) supports the following features:</p>
<ulist>
<item><p><loc href="#feature-transformation"><code>#transformation</code></loc></p></item>
<item><p><loc href="#feature-profile-version-2"><code>#profile-version-2</code></loc></p></item>
</ulist>
<p>The <code>#transformation-version-2</code> feature is a syntactic and semantic extension of the
<loc href="#feature-transformation"><code>#transformation</code></loc> feature.</p>
<p>It is an error for a content profile to require or permit use of the <code>#transformation-version-2</code> feature
but prohibit use of any of the following features:
<loc href="#feature-transformation"><code>#transformation</code></loc> or
<loc href="#feature-profile-version-2"><code>#profile-version-2</code></loc>.</p>
</div3>
<div3 id="feature-unicodeBidi">
<head>#unicodeBidi</head>
<p>A TTML content processor supports the <code>#unicodeBidi</code>
feature if it supports the <code>#unicodeBidi</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.103.</p>
<note role="clarification">
<p>Support for the <code>#unicodeBidi</code> feature does not imply support for the <code>#unicodeBidi-isolate</code> feature.</p>
</note>
</div3>
<div3 id="feature-unicodeBidi-isolate">
<head>#unicodeBidi-isolate</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#unicodeBidi-isolate</code> feature if it recognizes and is capable of
transforming the <code>isolate</code> value of the <loc
href="#style-attribute-unicodeBidi"><att>tts:unicodeBidi</att></loc>
attribute.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the
<code>#unicodeBidi-isolate</code> feature if it implements presentation semantic support
for the <code>isolate</code> value of the <loc
href="#style-attribute-unicodeBidi"><att>tts:unicodeBidi</att></loc>
attribute.</p>
</div3>
<div3 id="feature-unicodeBidi-version-2">
<head>#unicodeBidi-version-2</head>
<p>A TTML content processor supports the <code>#unicodeBidi-version-2</code> feature if it
supports the following features:</p>
<ulist>
  <item><p><loc href="#feature-unicodeBidi"><code>#unicodeBidi</code></loc></p></item>
  <item><p><loc href="#feature-unicodeBidi-isolate"><code>#unicodeBidi-isolate</code></loc></p></item>
</ulist>
<p>The <code>#unicodeBidi-version-2</code> feature is a syntactic and semantic extension of the <code>#unicodeBidi</code> feature.</p>
</div3>
<div3 id="feature-validation">
<head>#validation</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the <code>#validation</code>
feature if it:</p>
<olist>
  <item>
    <p>is a <loc href="#terms-validating-content-processor">validating content processor</loc>;</p>
  </item>
  <item>
    <p>recognizes and is capable of transforming the following attribute vocabulary defined by <specref ref="profile-attribute-vocabulary"/>:</p>
    <ulist>
      <item><p><loc href="#profile-attribute-validation"><att>ttp:validation</att></loc></p></item>
      <item><p><loc href="#profile-attribute-validationAction"><att>ttp:validationAction</att></loc>.</p></item>
    </ulist>
  </item>
</olist>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the <code>#validation</code>
feature if it is a <loc href="#terms-validating-content-processor">validating content processor</loc> and
implements presentation semantic support for the same vocabulary enumerated above.</p>
</div3>
<div3 id="feature-visibility">
<head>#visibility</head>
<p>A TTML content processor supports the <code>#visibility</code>
feature if it supports the <code>#visibility</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.104.</p>
<note role="clarification"><p>Support for the <code>#visibility</code> feature is functionally equivalent to support for the following features:</p>
<ulist>
<item><p><loc href="#feature-visibility-block"><code>#visibility-block</code></loc></p></item>
<item><p><loc href="#feature-visibility-inline"><code>#visibility-inline</code></loc></p></item>
<item><p><loc href="#feature-visibility-region"><code>#visibility-region</code></loc></p></item>
</ulist>
</note>
<p>It is an error for a content profile to require or permit use of the <code>#visibility</code> feature
but prohibit use of any of the following features:
<loc href="#feature-visibility-block"><code>#visibility-block</code></loc>,
<loc href="#feature-visibility-inline"><code>#visibility-inline</code></loc>, or
<loc href="#feature-visibility-region"><code>#visibility-region</code></loc>.</p>
</div3>
<div3 id="feature-visibility-block">
<head>#visibility-block</head>
<p>A TTML content processor supports the <code>#visibility-block</code>
feature if it supports the <code>#visibility-block</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.105.</p>
</div3>
<div3 id="feature-visibility-image">
<head>#visibility-image</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the
<code>#visibility-image</code> feature if it supports all defined values
of the <loc href="#style-attribute-visibility"><att>tts:visibility</att></loc> attribute when applied to
an <loc href="#embedded-content-vocabulary-image"><el>image</el></loc> element.</p>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the <code>#visibility-image</code>
feature if it implements presentation semantic support for the same vocabulary enumerated above.</p>
<note role="clarification">
<p>Support for the <code>#visibility-image</code> feature does not imply support for the
<loc href="#feature-image"><code>#image</code></loc> feature; however, without support for the latter, support for
the former serves no purpose.</p>
</note>
</div3>
<div3 id="feature-visibility-inline">
<head>#visibility-inline</head>
<p>A TTML content processor supports the <code>#visibility-inline</code>
feature if it supports the <code>#visibility-inline</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.106.</p>
</div3>
<div3 id="feature-visibility-region">
<head>#visibility-region</head>
<p>A TTML content processor supports the <code>#visibility-region</code>
feature if it supports the <code>#visibility-region</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.107.</p>
</div3>
<div3 id="feature-visibility-version-2">
<head>#visibility-version-2</head>
<p>A TTML content processor supports the <code>#visibility-version-2</code> feature if it
supports the following features:</p>
<ulist>
  <item><p><loc href="#feature-visibility"><code>#visibility</code></loc></p></item>
  <item><p><loc href="#feature-visibility-image"><code>#visibility-image</code></loc></p></item>
</ulist>
<p>The <code>#visibility-version-2</code> feature is a syntactic and semantic extension of the <code>#visibility</code> feature.</p>
<p>It is an error for a content profile to require or permit use of the <code>#visibility-version-2</code> feature
but prohibit use of any of the following features:
<loc href="#feature-visibility"><code>#visibility</code></loc> or
<loc href="#feature-visibility-image"><code>#visibility-image</code></loc>.</p>
</div3>
<div3 id="feature-wrapOption">
<head>#wrapOption</head>
<p>A TTML content processor supports the <code>#wrapOption</code>
feature if it supports the <code>#wrapOption</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.108.</p>
</div3>
<div3 id="feature-writingMode">
<head>#writingMode</head>
<p>A TTML content processor supports the <code>#writingMode</code>
feature if it supports the <code>#writingMode</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.109.</p>
<note role="clarification"><p>Support for the <code>#writingMode</code> feature is functionally equivalent to support for the following features:</p>
<ulist>
<item><p><loc href="#feature-writingMode-horizontal"><code>#writingMode-horizontal</code></loc></p></item>
<item><p><loc href="#feature-writingMode-vertical"><code>#writingMode-vertical</code></loc></p></item>
</ulist>
</note>
<p>It is an error for a content profile to require or permit use of the <code>#writingMode</code> feature
but prohibit use of any of the following features:
<loc href="#feature-writingMode-horizontal"><code>#writingMode-horizontal</code></loc> or
<loc href="#feature-writingMode-vertical"><code>#writingMode-vertical</code></loc>.</p>
</div3>
<div3 id="feature-writingMode-horizontal">
<head>#writingMode-horizontal</head>
<p>A TTML content processor supports the <code>#writingMode-horizontal</code>
feature if it supports the <code>#writingMode-horizontal</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.111.</p>
<note role="clarification"><p>Support for the <code>#writingMode-horizontal</code> feature is
functionally equivalent to support for the following features:</p>
<ulist>
<item><p><loc href="#feature-writingMode-horizontal-lr"><code>#writingMode-horizontal-lr</code></loc></p></item>
<item><p><loc href="#feature-writingMode-horizontal-rl"><code>#writingMode-horizontal-rl</code></loc></p></item>
</ulist>
</note>
<p>It is an error for a content profile to require or permit use of the <code>#writingMode-horizontal</code> feature
but prohibit use of any of the following features:
<loc href="#feature-writingMode-horizontal-lr"><code>#writingMode-horizontal-lr</code></loc> or
<loc href="#feature-writingMode-horizontal-rl"><code>#writingMode-horizontal-rl</code></loc>.</p>
</div3>
<div3 id="feature-writingMode-horizontal-lr">
<head>#writingMode-horizontal-lr</head>
<p>A TTML content processor supports the <code>#writingMode-horizontal-lr</code>
feature if it supports the <code>#writingMode-horizontal-lr</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.112.</p>
</div3>
<div3 id="feature-writingMode-horizontal-rl">
<head>#writingMode-horizontal-rl</head>
<p>A TTML content processor supports the <code>#writingMode-horizontal-rl</code>
feature if it supports the <code>#writingMode-horizontal-rl</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.113.</p>
</div3>
<div3 id="feature-writingMode-vertical">
<head>#writingMode-vertical</head>
<p>A TTML content processor supports the <code>#writingMode-vertical</code>
feature if it supports the <code>#writingMode-vertical</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.110.</p>
</div3>
<div3 id="feature-xlink">
<head>#xlink</head>
<p>A TTML <loc href="#terms-transformation-processor">transformation processor</loc> supports the <code>#xlink</code>
feature if it recognizes and is capable of transforming the following attribute
vocabulary defined by <specref ref="content-attribute-vocabulary"/> for use on supported element types that admit this vocabulary:</p>
<ulist>
<item><p><loc href="#content-attribute-xlink-arcrole"><att>xlink:arcrole</att></loc></p></item>
<item><p><loc href="#content-attribute-xlink-href"><att>xlink:href</att></loc></p></item>
<item><p><loc href="#content-attribute-xlink-role"><att>xlink:role</att></loc></p></item>
<item><p><loc href="#content-attribute-xlink-show"><att>xlink:show</att></loc></p></item>
<item><p><loc href="#content-attribute-xlink-title"><att>xlink:title</att></loc></p></item>
</ulist>
<p>A TTML <loc href="#terms-presentation-processor">presentation processor</loc> supports the <code>#xlink</code>
feature if it implements presentation semantic support for the
same vocabulary enumerated above.</p>
</div3>
<div3 id="feature-zIndex">
<head>#zIndex</head>
<p>A TTML content processor supports the <code>#zIndex</code>
feature if it supports the <code>#zIndex</code> feature as defined by <bibref ref="ttml1"/>, &sect;D.1.114.</p>
</div3>
</div2>
<div2 id="feature-support">
<head>Feature Support</head>
<p>The following table, <specref ref="feature-support-table"/>,
enumerates every defined feature designation (expressed without the TT
Feature Namespace), and, for each designated feature, specifies
(1) the version of TTML in which the feature designation is first defined, and (2)
whether the designated feature must be implemented, i.e., is mandatory (M), or may be implemented, i.e.,
is optional (O), for a TTML <loc href="#terms-content-processor">content processor</loc> that complies with the requirements of
<specref ref="conformance-transformation-processor"/> or <specref ref="conformance-presentation-processor"/>.</p>
<note role="clarification">
  <p>In some cases, a new feature designation is defined in this (or a later) version of this specification that wasn&apos;t previously defined, and yet
  the underlying functional feature so designated was previously defined by an earlier version. For example, the <code>#padding-region</code>
  designation is introduced here; however, the functionality it references was previously included under the designation <code>#padding</code>
  which is now defined in terms of <code>#padding-region</code>. Here, the underlying meaning of <code>#padding</code>, introduced in TTML1,
  and <code>#padding-region</code>, introduced in TTML2, remain identical.</p>
</note>
<table id="feature-support-table" role="common">
<caption>Table E-1 &ndash; Feature Support</caption>
<col css="width: 60%;"/>
<col css="width: 10%;"/>
<col css="width: 15%;"/>
<col css="width: 15%;"/>
<tbody>
<tr>
<td><phrase role="strong">Feature Designation</phrase></td>
<td css="text-align:center;"><phrase role="strong">Version</phrase></td>
<td css="text-align:center;"><phrase role="strong">Transformation</phrase></td>
<td css="text-align:center;"><phrase role="strong">Presentation</phrase></td>
</tr>
<tr>
<td><loc href="#feature-animate"><code>#animate</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-animate-fill"><code>#animate-fill</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-animate-minimal"><code>#animate-minimal</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-animate-paced"><code>#animate-paced</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-animate-spline"><code>#animate-spline</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-animate-repeat"><code>#animate-repeat</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-animation"><code>#animation</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-animation-out-of-line"><code>#animation-out-of-line</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-animation-version-2"><code>#animation-version-2</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-audio"><code>#audio</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-audio-description"><code>#audio-description</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-audio-speech"><code>#audio-speech</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-background"><code>#background</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-background-image"><code>#background-image</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-backgroundClip"><code>#backgroundClip</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-backgroundColor"><code>#backgroundColor</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-backgroundColor-block"><code>#backgroundColor-block</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-backgroundColor-inline"><code>#backgroundColor-inline</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-backgroundColor-region"><code>#backgroundColor-region</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-backgroundExtent"><code>#backgroundExtent</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-backgroundImage"><code>#backgroundImage</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-backgroundOrigin"><code>#backgroundOrigin</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-backgroundPosition"><code>#backgroundPosition</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-backgroundRepeat"><code>#backgroundRepeat</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-base"><code>#base</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-base"><code>#base-general</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-base-version-2"><code>#base-version-2</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-bidi"><code>#bidi</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-bidi-version-2"><code>#bidi-version-2</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-border"><code>#border</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-border-block"><code>#border-block</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-border-inline"><code>#border-inline</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-border-radii"><code>#border-radii</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-border-radii-1"><code>#border-radii-1</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-border-radii-2"><code>#border-radii-2</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-border-region"><code>#border-region</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-bpd"><code>#bpd</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-cellResolution"><code>#cellResolution</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-chunk"><code>#chunk</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-clockMode"><code>#clockMode</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-clockMode-gps"><code>#clockMode-gps</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-clockMode-local"><code>#clockMode-local</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-clockMode-utc"><code>#clockMode-utc</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-color"><code>#color</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-condition"><code>#condition</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-condition-fn-media"><code>#condition-fn-media</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-condition-fn-parameter"><code>#condition-fn-parameter</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-condition-fn-supports"><code>#condition-fn-supports</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-condition-primary"><code>#condition-primary</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-content"><code>#content</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">M</td>
<td css="text-align:center;">M</td>
</tr>
<tr>
<td><loc href="#feature-content-sizing"><code>#content-sizing</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-contentProfiles"><code>#contentProfiles</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">M</td>
<td css="text-align:center;">M</td>
</tr>
<tr>
<td><loc href="#feature-contentProfiles-combined"><code>#contentProfiles-combined</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-core"><code>#core</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">M</td>
<td css="text-align:center;">M</td>
</tr>
<tr>
<td><loc href="#feature-data"><code>#data</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-direction"><code>#direction</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-disparity"><code>#disparity</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-display"><code>#display</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-display-block"><code>#display-block</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-display-inline"><code>#display-inline</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-display-inlineBlock"><code>#display-inlineBlock</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-display-region"><code>#display-region</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-display-version-2"><code>#display-version-2</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-displayAlign"><code>#displayAlign</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-displayAlign-block"><code>#displayAlign-block</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-displayAlign-justify"><code>#displayAlign-justify</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-displayAlign-region"><code>#displayAlign-region</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-displayAlign-relative"><code>#displayAlign-relative</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-displayAlign-version-2"><code>#displayAlign-version-2</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-displayAspectRatio"><code>#displayAspectRatio</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-dropMode"><code>#dropMode</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-dropMode-dropNTSC"><code>#dropMode-dropNTSC</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-dropMode-dropPAL"><code>#dropMode-dropPAL</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-dropMode-nonDrop"><code>#dropMode-nonDrop</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-embedded-audio"><code>#embedded-audio</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-embedded-content"><code>#embedded-content</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-embedded-data"><code>#embedded-data</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-embedded-font"><code>#embedded-font</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-embedded-image"><code>#embedded-image</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-extent"><code>#extent</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-extent-auto"><code>#extent-auto</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-extent-auto-version-2"><code>#extent-auto-version-2</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-extent-contain"><code>#extent-contain</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-extent-cover"><code>#extent-cover</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-extent-full-version-2"><code>#extent-full-version-2</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-extent-image"><code>#extent-image</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-extent-length"><code>#extent-length</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-extent-length"><code>#extent-length-version-2</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-extent-measure"><code>#extent-measure</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-extent-region"><code>#extent-region</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-extent-region-version-2"><code>#extent-region-version-2</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-extent-root"><code>#extent-root</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-extent-root-version-2"><code>#extent-root-version-2</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-extent-version-2"><code>#extent-version-2</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-font"><code>#font</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-fontFamily"><code>#fontFamily</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-fontFamily-generic"><code>#fontFamily-generic</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-fontFamily-non-generic"><code>#fontFamily-non-generic</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-fontKerning"><code>#fontKerning</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-fontSelectionStrategy"><code>#fontSelectionStrategy</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-fontSelectionStrategy-character"><code>#fontSelectionStrategy-character</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-fontShear"><code>#fontShear</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-fontSize"><code>#fontSize</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-fontSize-anamorphic"><code>#fontSize-anamorphic</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-fontSize-isomorphic"><code>#fontSize-isomorphic</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-fontStyle"><code>#fontStyle</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-fontStyle-italic"><code>#fontStyle-italic</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-fontStyle-oblique"><code>#fontStyle-oblique</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-fontVariant"><code>#fontVariant</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-fontWeight"><code>#fontWeight</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-fontWeight-bold"><code>#fontWeight-bold</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-frameRate"><code>#frameRate</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-frameRateMultiplier"><code>#frameRateMultiplier</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-gain"><code>#gain</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-image"><code>#image</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-image-png"><code>#image-png</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-initial"><code>#initial</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-ipd"><code>#ipd</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-layout"><code>#layout</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-length"><code>#length</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-length-cell"><code>#length-cell</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-length-em"><code>#length-em</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-length-integer"><code>#length-integer</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-length-negative"><code>#length-negative</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-length-percentage"><code>#length-percentage</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-length-pixel"><code>#length-pixel</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-length-positive"><code>#length-positive</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-length-real"><code>#length-real</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-length-real-version-2"><code>#length-real-version-2</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-length-root-container-relative"><code>#length-root-container-relative</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-length-version-2"><code>#length-version-2</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-letterSpacing"><code>#letterSpacing</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-lineBreak-uax14"><code>#lineBreak-uax14</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-lineHeight"><code>#lineHeight</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-lineShear"><code>#lineShear</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-luminanceGain"><code>#luminanceGain</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-markerMode"><code>#markerMode</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-markerMode-continuous"><code>#markerMode-continuous</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-markerMode-discontinuous"><code>#markerMode-discontinuous</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-metadata"><code>#metadata</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-metadata-item"><code>#metadata-item</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-metadata"><code>#metadata-version-2</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-nested-div"><code>#nested-div</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-nested-span"><code>#nested-span</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-opacity"><code>#opacity</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-opacity-block"><code>#opacity-block</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-opacity-image"><code>#opacity-image</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-opacity-inline"><code>#opacity-inline</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-opacity-region"><code>#opacity-region</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-opacity-version-2"><code>#opacity-version-2</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-origin"><code>#origin</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-overflow"><code>#overflow</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-overflow-visible"><code>#overflow-visible</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-padding"><code>#padding</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-padding-1"><code>#padding-1</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-padding-2"><code>#padding-2</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-padding-3"><code>#padding-3</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-padding-4"><code>#padding-4</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-padding-block"><code>#padding-block</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-padding-inline"><code>#padding-inline</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-padding-region"><code>#padding-region</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-padding-version-2"><code>#padding-version-2</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-pan"><code>#pan</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-permitFeatureNarrowing"><code>#permitFeatureNarrowing</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-permitFeatureWidening"><code>#permitFeatureWidening</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-pitch"><code>#pitch</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-pixelAspectRatio"><code>#pixelAspectRatio</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-position"><code>#position</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-presentation"><code>#presentation</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">M</td>
</tr>
<tr>
<td><loc href="#feature-presentation-audio"><code>#presentation-audio</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-presentation-version-2"><code>#presentation-version-2</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">M</td>
</tr>
<tr>
<td><loc href="#feature-processorProfiles"><code>#processorProfiles</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">M</td>
<td css="text-align:center;">M</td>
</tr>
<tr>
<td><loc href="#feature-processorProfiles-combined"><code>#processorProfiles-combined</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-profile"><code>#profile</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">M</td>
<td css="text-align:center;">M</td>
</tr>
<tr>
<td><loc href="#feature-profile-full-version-2"><code>#profile-full-version-2</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-profile-nesting"><code>#profile-nesting</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-profile-version-2"><code>#profile-version-2</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">M</td>
<td css="text-align:center;">M</td>
</tr>
<tr>
<td><loc href="#feature-region-implied-animation"><code>#region-implied-animation</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-region-inline"><code>#region-inline</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-region-timing"><code>#region-timing</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-resources"><code>#resources</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-ruby"><code>#ruby</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-ruby-full"><code>#ruby-full</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-rubyAlign"><code>#rubyAlign</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-rubyAlign-minimal"><code>#rubyAlign-minimal</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-rubyAlign-withBase"><code>#rubyAlign-withBase</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-rubyPosition"><code>#rubyPosition</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-rubyReserve"><code>#rubyReserve</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-set"><code>#set</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-set-fill"><code>#set-fill</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-set-multiple-styles"><code>#set-multiple-styles</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-set-repeat"><code>#set-repeat</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-shear"><code>#shear</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-showBackground"><code>#showBackground</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-source"><code>#source</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-speak"><code>#speak</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-speak"><code>#speech</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-structure"><code>#structure</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">M</td>
<td css="text-align:center;">M</td>
</tr>
<tr>
<td><loc href="#feature-styling"><code>#styling</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-styling-chained"><code>#styling-chained</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-styling-inheritance-content"><code>#styling-inheritance-content</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-styling-inheritance-region"><code>#styling-inheritance-region</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-styling-inline"><code>#styling-inline</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-styling-nested"><code>#styling-nested</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-styling-referential"><code>#styling-referential</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-subFrameRate"><code>#subFrameRate</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-textAlign"><code>#textAlign</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-textAlign-absolute"><code>#textAlign-absolute</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-textAlign-justify"><code>#textAlign-justify</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-textAlign-relative"><code>#textAlign-relative</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-textAlign-version-2"><code>#textAlign-version-2</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-textCombine"><code>#textCombine</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-textDecoration"><code>#textDecoration</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-textDecoration-over"><code>#textDecoration-over</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-textDecoration-through"><code>#textDecoration-through</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-textDecoration-under"><code>#textDecoration-under</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-textEmphasis"><code>#textEmphasis</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-textEmphasis-color"><code>#textEmphasis-color</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-textEmphasis-minimal"><code>#textEmphasis-minimal</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-textEmphasis-quoted-string"><code>#textEmphasis-quoted-string</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-textOrientation"><code>#textOrientation</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-textOutline"><code>#textOutline</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-textOutline-blurred"><code>#textOutline-blurred</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-textOutline-unblurred"><code>#textOutline-unblurred</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-textShadow"><code>#textShadow</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-tickRate"><code>#tickRate</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-timeBase-clock"><code>#timeBase-clock</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-timeBase-media"><code>#timeBase-media</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-timeBase-smpte"><code>#timeBase-smpte</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-timeContainer"><code>#timeContainer</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-time-clock"><code>#time-clock</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-time-clock-with-frames"><code>#time-clock-with-frames</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-time-offset"><code>#time-offset</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">M</td>
<td css="text-align:center;">M</td>
</tr>
<tr>
<td><loc href="#feature-time-offset-with-frames"><code>#time-offset-with-frames</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-time-offset-with-ticks"><code>#time-offset-with-ticks</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-time-wall-clock"><code>#time-wall-clock</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-timing"><code>#timing</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">M</td>
<td css="text-align:center;">M</td>
</tr>
<tr>
<td><loc href="#feature-transformation"><code>#transformation</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">M</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-transformation-version-2"><code>#transformation-version-2</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">M</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-unicodeBidi"><code>#unicodeBidi</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-unicodeBidi"><code>#unicodeBidi-isolate</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-unicodeBidi-version-2"><code>#unicodeBidi-version-2</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-validation"><code>#validation</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-visibility"><code>#visibility</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-visibility-block"><code>#visibility-block</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-visibility-image"><code>#visibility-image</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-visibility-inline"><code>#visibility-inline</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-visibility-region"><code>#visibility-region</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-visibility-version-2"><code>#visibility-version-2</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-wrapOption"><code>#wrapOption</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-writingMode"><code>#writingMode</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-writingMode-horizontal"><code>#writingMode-horizontal</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-writingMode-horizontal-lr"><code>#writingMode-horizontal-lr</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-writingMode-horizontal-rl"><code>#writingMode-horizontal-rl</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-writingMode-vertical"><code>#writingMode-vertical</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-xlink"><code>#xlink</code></loc></td>
<td css="text-align:center;">2</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
<tr>
<td><loc href="#feature-zIndex"><code>#zIndex</code></loc></td>
<td css="text-align:center;">1</td>
<td css="text-align:center;">O</td>
<td css="text-align:center;">O</td>
</tr>
</tbody>
</table>
<p>For the sake of convenience, the following table,
<specref ref="feature-transformation-mandatory-table"/>, enumerates all
mandatory features for a TTML <loc href="#terms-content-processor">content processor</loc> that complies with the requirements of
<specref ref="conformance-transformation-processor"/>, providing additional
comments to summarize the context of usage or the nature of the feature.
The <loc href="#terms-profile-definition-document">profile definition document</loc> that defines the corresponding
TTML Transformation Profile is specified in
<specref ref="profile-ttml2-transformation"/>.
</p>
<table id="feature-transformation-mandatory-table" role="common">
<caption>Table E-2 &ndash; Mandatory Features - Transformation</caption>
<col css="width: 60%;"/>
<col css="width: 40%;"/>
<tbody>
<tr>
<td><phrase role="strong">Feature Designations</phrase></td>
<td><phrase role="strong">Comments</phrase></td>
</tr>
<tr>
<td><loc href="#feature-content"><code>#content</code></loc></td>
<td>
<loc href="#document-structure-vocabulary-body"><el>body</el></loc>,
<loc href="#content-vocabulary-div"><el>div</el></loc>,
<loc href="#content-vocabulary-p"><el>p</el></loc>,
<loc href="#content-vocabulary-span"><el>span</el></loc>,
<loc href="#content-vocabulary-br"><el>br</el></loc>
</td>
</tr>
<tr>
<td><loc href="#feature-contentProfiles"><code>#contentProfiles</code></loc></td>
<td></td>
</tr>
<tr>
<td><loc href="#feature-core"><code>#core</code></loc></td>
<td>
<loc href="#content-attribute-xml-id"><att>xml:id</att></loc>,
<loc href="#content-attribute-xml-id"><att>xml:lang</att></loc>,
<loc href="#content-attribute-xml-id"><att>xml:space</att></loc>
</td>
</tr>
<tr>
<td><loc href="#feature-processorProfiles"><code>#processorProfiles</code></loc></td>
<td></td>
</tr>
<tr>
<td><loc href="#feature-profile"><code>#profile</code></loc></td>
<td></td>
</tr>
<tr>
<td><loc href="#feature-profile-version-2"><code>#profile-version-2</code></loc></td>
<td></td>
</tr>
<tr>
<td><loc href="#feature-structure"><code>#structure</code></loc></td>
<td>
<loc href="#document-structure-vocabulary-tt"><el>tt</el></loc>,
<loc href="#document-structure-vocabulary-head"><el>head</el></loc>
</td>
</tr>
<tr>
<td><loc href="#feature-time-offset"><code>#time-offset</code></loc></td>
<td></td>
</tr>
<tr>
<td><loc href="#feature-timing"><code>#timing</code></loc></td>
<td>
<loc href="#timing-attribute-begin"><att>begin</att></loc>,
<loc href="#timing-attribute-dur"><att>dur</att></loc>,
<loc href="#timing-attribute-end"><att>end</att></loc>
</td>
</tr>
<tr>
<td><loc href="#feature-transformation"><code>#transformation</code></loc></td>
<td></td>
</tr>
<tr>
<td><loc href="#feature-transformation-version-2"><code>#transformation-version-2</code></loc></td>
<td></td>
</tr>
</tbody>
</table>
<p>For the sake of convenience, the following table,
<specref ref="feature-presentation-mandatory-table"/>, enumerates all
mandatory features for a TTML <loc href="#terms-content-processor">content processor</loc> that complies with the requirements of
<specref ref="conformance-presentation-processor"/>, providing additional
comments to summarize the context of usage or the nature of the feature.
The <loc href="#terms-profile-definition-document">profile definition document</loc> that defines the corresponding
TTML Presentation Profile is specified in
<specref ref="profile-ttml2-presentation"/>.
</p>
<table id="feature-presentation-mandatory-table" role="common">
<caption>Table E-3 &ndash; Mandatory Features - Presentation</caption>
<col css="width: 60%;"/>
<col css="width: 40%;"/>
<tbody>
<tr>
<td><phrase role="strong">Feature Designations</phrase></td>
<td><phrase role="strong">Comments</phrase></td>
</tr>
<tr>
<td><loc href="#feature-content"><code>#content</code></loc></td>
<td>
<loc href="#document-structure-vocabulary-body"><el>body</el></loc>,
<loc href="#content-vocabulary-div"><el>div</el></loc>,
<loc href="#content-vocabulary-p"><el>p</el></loc>,
<loc href="#content-vocabulary-span"><el>span</el></loc>,
<loc href="#content-vocabulary-br"><el>br</el></loc>
</td>
</tr>
<tr>
<td><loc href="#feature-contentProfiles"><code>#contentProfiles</code></loc></td>
<td></td>
</tr>
<tr>
<td><loc href="#feature-core"><code>#core</code></loc></td>
<td>
<loc href="#content-attribute-xml-id"><att>xml:id</att></loc>,
<loc href="#content-attribute-xml-id"><att>xml:lang</att></loc>,
<loc href="#content-attribute-xml-id"><att>xml:space</att></loc>
</td>
</tr>
<tr>
<td><loc href="#feature-processorProfiles"><code>#processorProfiles</code></loc></td>
<td></td>
</tr>
<tr>
<td><loc href="#feature-profile"><code>#profile</code></loc></td>
<td></td>
</tr>
<tr>
<td><loc href="#feature-profile-version-2"><code>#profile-version-2</code></loc></td>
<td></td>
</tr>
<tr>
<td><loc href="#feature-presentation"><code>#presentation</code></loc></td>
<td></td>
</tr>
<tr>
<td><loc href="#feature-presentation-version-2"><code>#presentation-version-2</code></loc></td>
<td></td>
</tr>
<tr>
<td><loc href="#feature-structure"><code>#structure</code></loc></td>
<td>
<loc href="#document-structure-vocabulary-tt"><el>tt</el></loc>,
<loc href="#document-structure-vocabulary-head"><el>head</el></loc>
</td>
</tr>
<tr>
<td><loc href="#feature-time-offset"><code>#time-offset</code></loc></td>
<td></td>
</tr>
<tr>
<td><loc href="#feature-timing"><code>#timing</code></loc></td>
<td>
<loc href="#timing-attribute-begin"><att>begin</att></loc>,
<loc href="#timing-attribute-dur"><att>dur</att></loc>,
<loc href="#timing-attribute-end"><att>end</att></loc>
</td>
</tr>
</tbody>
</table>
</div2>
</div1>
<div1 id="extensions">
<head>Extensions</head>
<p><emph>This appendix is normative.</emph></p>
<p>This appendix specifies the syntactic form of extension designations, which are
used to express authorial intent regarding the support for extension
mechanisms in a TTML processor.</p>
<div2 id="extension-designations">
<head>Extension Designations</head>
<p>An extension designation is expressed as a string that adheres to the following
form:</p>
<eg xml:space="preserve">
extension-designation
  : extension-namespace designation

extension-namespace
  : <emph>TT Extension Namespace</emph>                  // http://www.w3.org/ns/ttml/extension/
  | <emph>Other Extension Namespace</emph>               // expressed as an absolute URI

designation
  : "#" token-char+

token-char
  : { XML NameChar }                        // <bibref ref="xml10"/> Production [4a]
</eg>
<p>If the extension namespace of an extension designation is the TT
Extension Namespace, then all values of the following
<code>designation</code> token are reserved for future
standardization.</p>
<p>If the extension namespace of an extension designation is not the
TT Extension Namespace, i.e., is an <emph>Other Extension Namespace</emph>,
then the extension namespace must be expressed as an absolute URI
capable of serving as a base URI used in combination with a
<code>designation</code> token that takes the form of a fragment
identifier.</p>
</div2>
</div1>
<div1 id="standard-profiles">
<head>Standard Profiles</head>
<p><emph>This appendix is normative.</emph></p>
<p>This appendix specifies or incorporates by reference the following standard TTML profiles:</p>
<ulist>
<item><p><specref ref="profile-ttml2-full"/></p></item>
<item><p><specref ref="profile-ttml2-presentation"/></p></item>
<item><p><specref ref="profile-ttml2-transformation"/></p></item>
<item><p><specref ref="profile-dfxp-full"/></p></item>
<item><p><specref ref="profile-dfxp-presentation"/></p></item>
<item><p><specref ref="profile-dfxp-transformation"/></p></item>
</ulist>
<p>Each TTML profile is defined in terms of a <loc href="#terms-profile-definition-document">profile definition document</loc>,
which is expressed as an XML document wherein the root element adheres to
<specref ref="profile-vocabulary-profile"/>.</p>
<div2 id="profile-ttml2-full">
<head>TTML2 Full Profile</head>
<p>The TTML2 Full Profile is intended to be used to
express maximum compliance for both transformation and presentation processing.</p>
<note role="elaboration">
<p>This profile is a superset of the <loc href="#profile-dfxp-full">DFXP Full Profile</loc>.</p>
</note>
<eg xml:space="preserve">&profile-ttml2-full;</eg>
</div2>
<div2 id="profile-ttml2-presentation">
<head>TTML2 Presentation Profile</head>
<p>The TTML2 Presentation Profile is intended to be used to
express minimum compliance for presentation processing.</p>
<note role="elaboration">
<p>This profile is a superset of the <loc href="#profile-dfxp-presentation">DFXP Presentation Profile</loc>.</p>
</note>
<eg xml:space="preserve">&profile-ttml2-presentation;</eg>
</div2>
<div2 id="profile-ttml2-transformation">
<head>TTML2 Transformation Profile</head>
<p>The TTML2 Transformation Profile is intended to be used to
express minimum compliance for transformation processing.</p>
<note role="elaboration">
<p>This profile is a superset of the <loc href="#profile-dfxp-transformation">DFXP Transformation Profile</loc>.</p>
</note>
<eg xml:space="preserve">&profile-ttml2-transformation;</eg>
</div2>
<div2 id="profile-dfxp-full">
<head>DFXP Full Profile</head>
<p>The DFXP Full Profile is specified by <bibref ref="ttml1"/>,
<xspecref href="https://www.w3.org/TR/ttml1/#profile-dfxp-full">Appendix F.3, DFXP Full Profile</xspecref>.</p>
</div2>
<div2 id="profile-dfxp-presentation">
<head>DFXP Presentation Profile</head>
<p>The DFXP Presentation Profile is specified by <bibref ref="ttml1"/>,
<xspecref href="https://www.w3.org/TR/ttml1/#profile-dfxp-presentation">Appendix F.2, DFXP Presentation Profile</xspecref>.</p>
</div2>
<div2 id="profile-dfxp-transformation">
<head>DFXP Transformation Profile</head>
<p>The DFXP Transformation Profile is specified by <bibref ref="ttml1"/>,
<xspecref href="https://www.w3.org/TR/ttml1/#profile-dfxp-transformation">Appendix F.1, DFXP Transformation Profile</xspecref>.</p>
</div2>
</div1>
<div1 id="root-container-region-semantics">
<head>Root Container Region Semantics</head>
<p><emph>This appendix is normative.</emph></p>
<p>This appendix specifies the semantics for determining essential characteristics of the root container region and its use, including:</p>
<ulist>
<item><p>aspect ratios (display, storage, pixel);</p></item>
<item><p>resolution (<termref def="defs-spatial-extent">spatial extent</termref>); and</p></item>
<item><p>coordinate space.</p></item>
</ulist>
<div2 id="root-container-region-semantics-aspect-ratios">
<head>Aspect Ratios</head>
<p>Three aspect ratios apply to the <loc href="#terms-root-container-region">root container region</loc>:</p>
<glist>
<gitem id="root-container-region-semantics-dar">
  <label>display aspect ratio (DAR)</label>
  <def>
    <p></p>
    <p>The <emph>display aspect ratio</emph> of the root container corresponds with the aspect ratio of the root container
    in terms of <termdef id="defs-display-pixel" term=""><term>display pixels</term></termdef> intended to be presented on a hypothetical display device.
    This <emph>display</emph> aspect ratio is specified explicitly by means of the
    <loc href="#parameter-attribute-displayAspectRatio">ttp:displayAspectRatio</loc> attribute on the
    <loc href="#document-structure-vocabulary-tt"><el>tt</el></loc> element or is inferred using other information as described below.</p>
    <note role="elaboration">
      <p>The actual, physical presentation of the pixels of the root container may be subject to numerous transformations in
      aspect ratio, sample resolution, and color space subsequent to defined TTML presentation processing. Such post-TTML
      processing is wholly out of scope of this specification.</p>
    </note>
  </def>
</gitem>
<gitem id="root-container-region-semantics-sar">
  <label>storage aspect ratio (SAR)</label>
  <def>
    <p></p>
    <p>The <emph>storage aspect ratio</emph> of the root container corresponds with the aspect ratio of the root container
    in terms of <termdef id="defs-logical-pixel" term=""><term>logical pixels</term></termdef>
    in the <loc href="#terms-document-coordinate-space">document coordinate space</loc>,
    where a bijective (injective and surjective) mapping associates each <termref def="defs-logical-pixel">logical pixel</termref> with
    a unique <termref def="defs-display-pixel">display pixel</termref>.
    This <emph>storage</emph> aspect ratio is specified explicitly by means of the <loc href="#style-attribute-extent">tts:extent</loc> attribute on the
    <loc href="#document-structure-vocabulary-tt"><el>tt</el></loc> element or is inferred using other information as described below.</p>
    <p>When the <loc href="#style-attribute-extent">tts:extent</loc> attribute is specified on the
    <loc href="#document-structure-vocabulary-tt"><el>tt</el></loc> element, then</p>
    <olist>
      <item><p>if the value of the <loc href="#style-attribute-extent">tts:extent</loc> attribute consists of
      two pixel-valued <loc href="#style-value-length">&lt;length&gt;</loc> expressions, the storage aspect ratio is considered
      to be specified and having a numeric value equal to the
      <loc href="#terms-width">width</loc> of the extent divided by its <loc href="#terms-height">height</loc>;</p></item>
      <item><p>otherwise (the computed value is <code>contain</code>),
      the storage aspect ratio is considered to be unspecified and is inferred using other information described below.</p></item>
    </olist>
    <note role="elaboration">
    <p>On its own, a <termref def="defs-logical-pixel">logical pixel</termref> has no intrinsic aspect ratio; however, when mapped to
    a <termref def="defs-display-pixel">display pixel</termref>, it assumes the fixed value
    defined by the pixel aspect ratio of the root container as specified below.</p>
    </note>
  </def>
</gitem>
<gitem id="root-container-region-semantics-par">
  <label>pixel aspect ratio (PAR)</label>
  <def>
    <p></p>
    <p>The <emph>pixel aspect ratio</emph> of the root container defines the aspect ratio of each <termref def="defs-display-pixel">display pixel</termref>
    of the root container, whereby each <termref def="defs-logical-pixel">logical pixel</termref> in
    the <loc href="#terms-document-coordinate-space">document coordinate space</loc> takes on the fixed aspect ratio of
    an associated <termref def="defs-display-pixel">display pixel</termref> such that <code>DAR = SAR &times; PAR</code>.
    This <emph>pixel</emph> aspect ratio is specified explicitly by means of the
    <loc href="#parameter-attribute-pixelAspectRatio">ttp:pixelAspectRato</loc> attribute on the
    <loc href="#document-structure-vocabulary-tt"><el>tt</el></loc> element or is inferred using other information as described below.</p>
  </def>
</gitem>
</glist>
<p>The following sub-sections specify how these aspect ratios are resolved according to which (ratios) are specified in a document.</p>
<div3 id="root-container-region-semantics-0-aspect-ratio">
<head>No Aspect Ratio</head>
<p>If none of the three aspect ratios is specified, then the three aspect ratios are determined according to the following ordered steps:</p>
<olist>
<item><p>if a <loc href="#terms-related-media-object">related media object</loc> exists and has a defined <code>DAR</code>,
then the resolved value of <code>DAR</code> is the display aspect ratio of the <loc href="#terms-related-media-object">related media object</loc>;
otherwise, the value of <code>DAR</code> is determined (arbitrarily) by the
<loc href="#terms-document-processing-context">document processing context</loc>;</p></item>
<item><p>the values of <code>SAR</code> and <code>PAR</code> are then resolved according to
<specref ref="root-container-region-semantics-1-aspect-ratio"/> below.</p></item>
</olist>
</div3>
<div3 id="root-container-region-semantics-1-aspect-ratio">
<head>One Aspect Ratio</head>
<p>If only one of the three aspect ratios is specified, then the resolved values of the other two aspect ratios are determined as follows:</p>
<olist>
  <item>
    <p>if <code>DAR</code> is specified or was resolved by <specref ref="root-container-region-semantics-0-aspect-ratio"/> above,
    then its resolved value is its specified or resolved value, and the values of <code>SAR</code> and <code>PAR</code> are determined as follows:</p>
    <olist>
      <item><p>the resolved value of <code>SAR</code> is the resolved value of <code>DAR</code>;</p></item>
      <item><p>the resolved value of <code>PAR</code> is <code>1</code> (one).</p></item>
    </olist>
  </item>
  <item>
    <p>if <code>SAR</code> is specified, then its resolved value is its specified value, and the values of <code>DAR</code> and <code>PAR</code>
    are determined as follows:</p>
    <olist>
      <item><p>if a <loc href="#terms-related-media-object">related media object</loc> exists and has a defined <code>DAR</code>,
      then the resolved value of <code>DAR</code> is the display aspect ratio of the
      <loc href="#terms-related-media-object">related media object</loc> and the value of <code>PAR</code>
      is then resolved according to <specref ref="root-container-region-semantics-2-aspect-ratio"/> below;</p></item>
      <item><p>otherwise, the resolved value of <code>DAR</code>
      is determined by the <loc href="#terms-document-processing-context">document processing context</loc> and the value of <code>PAR</code>
      is then resolved according to <specref ref="root-container-region-semantics-2-aspect-ratio"/> below;</p></item>
    </olist>
  </item>
  <item>
    <p>if <code>PAR</code> is specified,
    then its resolved value is its specified value, and the values of <code>DAR</code> and <code>SAR</code> are determined as follows:</p>
    <olist>
      <item><p>if a <loc href="#terms-related-media-object">related media object</loc> exists and has a defined <code>DAR</code>,
      then the resolved value of <code>DAR</code> is the display aspect ratio of the
      <loc href="#terms-related-media-object">related media object</loc> and the value of <code>SAR</code>
      is then resolved according to <specref ref="root-container-region-semantics-2-aspect-ratio"/> below;</p></item>
      <item><p>otherwise, the resolved value of <code>SAR</code>
      is determined by the <loc href="#terms-document-processing-context">document processing context</loc> and the value of <code>DAR</code>
      is then resolved according to <specref ref="root-container-region-semantics-2-aspect-ratio"/> below.</p></item>
    </olist>
  </item>
</olist>
</div3>
<div3 id="root-container-region-semantics-2-aspect-ratio">
<head>Two Aspect Ratios</head>
<p>If two of the three aspect ratios are specified or previously resolved,
then the resolved value of the third aspect ratio is determined using the equation <code>DAR = SAR &times; PAR</code>.</p>
</div3>
<div3 id="root-container-region-semantics-3-aspect-ratio">
<head>Three Aspect Ratios</head>
<p>If all three aspect ratios are specified and if their values satisfy the equation <code>DAR = SAR &times; PAR</code>,
then they are considered the resolved aspect ratios. However, if the equation is not satisfied, then, when performing
<loc href="#terms-validation-processing">validation processing</loc>, an error should be reported (subject to validation processor configuration), and, when performing
presentation processing, the specified <code>PAR</code> value is ignored and the resolved value of <code>PAR</code> is
determined by <specref ref="root-container-region-semantics-2-aspect-ratio"/> above.</p>
</div3>
</div2>
<div2 id="root-container-region-semantics-resolution">
<head>Resolution</head>
<p>The root container region is subdivided into a grid of <termref def="defs-logical-pixel">logical pixels</termref> with a fixed number of row pixels
and a fixed number of column pixels, where the number of column pixels signifies the resolution of the root container region on the
<loc href="#terms-horizontal-axis">horizontal axis</loc> and the number of row pixels signifies the resolution of the root container region on the
<loc href="#terms-vertical-axis">vertical axis</loc>, where the former is defined to be the <loc href="#terms-width">width</loc> and the latter is defined
to be the <loc href="#terms-height">height</loc> of the root container region, respectively, and where the collection of (these two) resolutions along both
axes is referred to as the <termdef id="defs-collective-resolution" term=""><term>collective resolution</term></termdef>
or <termdef id="defs-spatial-extent" term=""><term>spatial extent</term></termdef> of the root container region.</p>
<note role="warning">
<p>As noted above under <loc href="#root-container-region-semantics-sar"><phrase role="strong">storage aspect ratio (SAR)</phrase></loc>,
a <termref def="defs-logical-pixel">logical pixel</termref> has no intrinsic aspect ratio, which is to say,
a <termref def="defs-logical-pixel">logical pixel</termref> has no defined shape, which, in turn, means it has no defined size.
Only when a <termref def="defs-logical-pixel">logical pixel</termref> is mapped to
a <termref def="defs-display-pixel">display pixel</termref> does it take on a fixed shape and size.
Nevertheless, it is often convenient to think of a <termref def="defs-logical-pixel">logical pixel</termref> as being square and having
a measurable, absolute size; however, the reader is cautioned against reaching this premature (and possibly incorrect) conclusion.</p>
</note>
<p>If the value of the <loc href="#style-attribute-extent">tts:extent</loc> attribute
is specified on the <loc href="#document-structure-vocabulary-tt"><el>tt</el></loc> element and consists of
two pixel-valued <loc href="#style-value-length">&lt;length&gt;</loc> expressions, then these two expressions denote
the <loc href="#terms-width">width</loc> and <loc href="#terms-height">height</loc> of the root container region, and,
consequently, determine its <termref def="defs-collective-resolution">collective resolution</termref>;
otherwise, the <termref def="defs-collective-resolution">collective resolution</termref> of the root container region is determined (arbitrarily)
by the <loc href="#terms-document-processing-context">document
processing context</loc> in a manner that respects the resolved values of <code>SAR</code> as determined by
<specref ref="root-container-region-semantics-aspect-ratios"/> above.</p>
<note role="elaboration">
<p>In the case that the <loc href="#terms-document-processing-context">document processing context</loc> assigns an arbitrary
resolution to the <loc href="#terms-root-container-region">root container region</loc>, then it may do so in any manner that is convenient
to its internal processing constraints and the <loc href="#terms-document-instance">document instance</loc> being processed.
For example, it may assign the same resolution that applies to the storage aspect ratio of a
<loc href="#terms-related-media-object">related media object</loc>, or it may evaluate the precision of length expressions found in the document
in order to assign a logical resolution that preserves that same precision.</p>
</note>
</div2>
<div2 id="root-container-region-semantics-coordinate-space">
<head>Coordinate Space</head>
<p>The coordinate space of the root container region, also known as the <loc href="#terms-document-coordinate-space">document coordinate space</loc>,
is an unbounded, two-dimensional plane on which a closed set of <termref def="defs-logical-pixel">logical pixels</termref> are defined that take the form of a rectangle <emph>R</emph> such that
the said pixels are interior to (inside of) the boundary of <emph>R</emph>, and where the origin (position) of this coordinate space is coincident with the upper,
left-hand corner of <emph>R</emph>, and where positive pixels on the vertical axis extend downwards and positive pixels on the horizontal axis
extend rightwards.
Furthermore, the <loc href="#terms-width">width</loc> and <loc href="#terms-height">height</loc> of <emph>R</emph> is set to the
resolved resolution of the root container region.
Lastly, the aspect ratios that apply to <emph>R</emph> are established according to the resolved values of <code>DAR</code>, <code>SAR</code>,
and <code>PAR</code> as indicated above.</p>
<p>Unless a <loc href="#terms-higher-level-protocol">higher level protocol</loc> applies,
the <loc href="#terms-document-coordinate-space">document coordinate space</loc> is determined once and only once when processing a
given document instance.</p>
</div2>
</div1>
<div1 id="time-expression-semantics">
<head>Time Expression Semantics</head>
<p><emph>This appendix is normative.</emph></p>
<p>This appendix specifies the semantics for interpreting time expressions in <loc href="#terms-document-instance">document instances</loc>.</p>
<note role="clarification">
<p>The phrase <emph>local real time</emph> as used below is intended to model a virtual real time clock in the document processing context, where
<emph>local</emph> means in the immediate proximity of the implementation of this processing context. The intent
of defining relationships with this virtual clock is to establish a locally valid physical realization of time for didactic purposes.</p>
</note>
<note role="clarification">
<p>The phrase <emph>play rate</emph> as used below is intended to model a (possibly variable) parameter in the document processing context wherein
the rate of playback (or interpretation) of time may artificially dilated or narrowed, for example, when slowing down or speeding up the rate of
playback of a <loc href="#terms-related-media-object">related media object</loc>. Without loss of generality, the following discussion assumes a fixed play(back) rate. In the case of
variable play rates, appropriate adjustments may need to be made to the resulting computations.</p>
</note>
<p>The <loc href="#terms-document-processing-context">document processing context</loc> defines the applicable epoch and any epoch-related offsets 
to be used when establishing the <loc href="#terms-synthetic-document-syncbase">synthetic document syncbase</loc>.</p>
<div2 id="time-expression-semantics-clock">
<head>Clock Time Base</head>
<p>When operating with the <code>clock</code> time base, the following semantics apply for interpreting time expressions,
as defined by <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc>, and their relationship to media time and local real time.</p>
<p>The clock time base <phrase role="strong"><code>C</code></phrase> is related to local real time <phrase role="strong"><code>R</code></phrase>
expressed in the epoch <phrase role="strong"><code>E</code></phrase> (defined by the 
<loc href="#terms-document-processing-context">document processing context</loc>)
as follows:</p>
<table id="clock-time-and-real-time" role="semantics">
<caption>TTML Semantics &ndash; Clock Time and Real Time Relationship</caption>
<tbody>
<tr>
<td>
<slist>
<sitem/>
<sitem>
<code>R = C + epochOffset + discontinuityOffset</code>
</sitem>
<sitem/>
<sitem>
where <code>C &isin; &real;</code>, <code>0 &le; C &lt; &infin;</code>, <code>C</code> in seconds since either
(1) the most immediate prior midnight relative to the reference clock base
when the related <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc> takes an undated form,; or
(2) the midnight of the specified date relative to the reference clock base
when the related <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc> takes a dated form;
</sitem>
<sitem/>
<sitem>
<code>epochOffset &isin; &real;</code>, <code>0 &le; epochOffset &lt; &infin;</code>, <code>epochOffset</code> in seconds, with 0 being the beginning
of epoch <code>E</code>, and where the value of <code>epochOffset</code> is determined from the computed value of the <code>ttp:clockMode</code> parameter
as follows:
</sitem>
<sitem/>
<sitem>
(1) if <code>local</code>, then the difference between the local real time at the most immediate prior local midnight and the local real time
at the beginning of epoch <code>E</code>, expressed in seconds;
</sitem>
<sitem/>
<sitem>
(2) if <code>gps</code>, then the difference between the GPS time at the most immediate prior GPS midnight
and the GPS time at the beginning of epoch <code>E</code>, expressed in seconds;
</sitem>
<sitem/>
<sitem>
(3) if <code>utc</code>, then the difference between the UTC time at the most immediate prior UTC midnight
and the UTC time at the beginning of epoch <code>E</code>, expressed in seconds;
</sitem>
<sitem/>
<sitem>
<code>discontinuityOffset &isin; &real;</code>, <code>&minus;&infin; &lt; discontinuityOffset &lt; &infin;</code>, <code>discontinuityOffset</code>
in seconds, and where the value of <code>discontinuityOffset</code> is equal to the sum of leap seconds (and fractions thereof) that have been
added (or subtracted) since the most immediate prior midnight in the reference clock base;
</sitem>
<sitem/>
<sitem>
and <code>epochOffset</code> and <code>discontinuityOffset</code> are determined once and only once prior to the beginning
of the <loc href="#terms-root-temporal-extent">root temporal extent</loc> such that during the period between value determination and the beginning
of the <loc href="#terms-root-temporal-extent">root temporal extent</loc> there occurs no local midnight or reference clock base discontinuity.
</sitem>
<sitem/>
</slist>
</td>
</tr>
</tbody>
</table>
<p>Time value expressions, as denoted by a <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc>, are related to
clock time <phrase role="strong"><code>C</code></phrase> as follows:</p>
<table id="time-expressions-and-clock-time" role="semantics">
<caption>TTML Semantics &ndash; Time Expressions and Clock Time Relationship</caption>
<tbody>
<tr>
<td>
<slist>
<sitem/>
<sitem>
If a <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc> form does not use the ticks (<code>t</code>) metric, then:
</sitem>
<sitem/>
<sitem>
<code>C = 3600 * hours + 60 * minutes + seconds</code>
</sitem>
<sitem/>
<sitem>
where <code>hours</code>, <code>minutes</code>, and <code>seconds</code> <loc href="#terms-component">components</loc> are extracted from time expression
if present, or zero if not present; furthermore, a <code>fraction</code> <loc href="#terms-component">component</loc>, if present, is added to the <code>seconds</code>
<loc href="#terms-component">component</loc> to form a <emph>real-valued</emph> seconds <loc href="#terms-component">component</loc>.
</sitem>
<sitem/>
<sitem>
Otherwise, if a
<loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc> form uses the ticks (<code>t</code>) metric, then:
</sitem>
<sitem/>
<sitem>
<code>C = ticks / tickRate</code>
</sitem>
<sitem/>
</slist>
</td>
</tr>
</tbody>
</table>
<note role="clarification">
<p>The <emph>frames</emph> and <emph>sub-frames</emph> terms and the frames (<code>f</code>) metric of time expressions do not apply when using
the <code>clock</code> time base.</p>
</note>
<p>The clock time base <phrase role="strong"><code>C</code></phrase> is independent of media time <phrase role="strong"><code>M</code></phrase>:</p>
<table id="clock-time-and-media-time" role="semantics" css="width: 100%;">
<caption>TTML Semantics &ndash; Clock Time and Media Time Relationship</caption>
<tbody>
<tr>
<td>
<slist>
<sitem/>
<sitem>
<code>M &not;&prop; C</code>
</sitem>
<sitem/>
</slist>
</td>
</tr>
</tbody>
</table>
<note role="elaboration">
<p>That is to say, timing is disconnected from (not necessarily proportional to) media time when
the <code>clock</code> time base is used. For example, if the media play rate is zero (0), media playback is suspended; however, timing coordinates
will continue to advance according to the natural progression of clock time in direct proportion to the reference clock base. Furthermore, if the media play rate changes
during playback, presentation timing is not affected.
</p>
</note>
</div2>
<div2 id="time-expression-semantics-media">
<head>Media Time Base</head>
<p>When operating with the <code>media</code> time base, the following semantics apply for interpreting time expressions,
as defined by <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc>, and their relationship to media time, document time, and local real time.</p>
<div3 id="semantics-media-timing-local-time">
<head>Relationship to Local Real Time</head>
<p>The media time base <phrase role="strong"><code>M</code></phrase> is related to local real time <phrase role="strong"><code>R</code></phrase>
expressed in the epoch <phrase role="strong"><code>E</code></phrase> (defined by the 
<loc href="#terms-document-processing-context">document processing context</loc>) as follows:</p>
<table id="media-time-and-real-time" role="semantics">
<caption>TTML Semantics &ndash; Media Time and Real Time Relationship</caption>
<tbody>
<tr>
<td>
<slist>
<sitem/>
<sitem>
<code>R = playRate * M + epochOffset</code>
</sitem>
<sitem/>
<sitem>
where <code>M &isin; &real;</code>, <code>0 &le; M &lt; &infin;</code>, <code>M</code> in seconds, with 0 corresponding to the beginning of the
<loc href="#terms-document-temporal-coordinate-space">document temporal coordinate space</loc>;
</sitem>
<sitem/>
<sitem>
<code>playRate &isin; &real;</code>, <code>&minus;&infin; &lt; playRate &lt; &infin;</code>, <code>playRate</code> is unit-less, and where the value of
<code>playRate</code> is determined by the <loc href="#terms-document-processing-context">document processing context</loc>, or the value <code>1.0</code> if not so determined;
</sitem>
<sitem/>
<sitem>
and <code>epochOffset &isin; &real;</code>, <code>0 &le; epochOffset &lt; &infin;</code>, <code>epochOffset</code> in seconds, with 0 corresponding to the beginning of
an epoch <code>E</code>, and where the value of <code>epochOffset</code> is the difference between the local real time at the beginning of the
<loc href="#terms-document-temporal-coordinate-space">document temporal coordinate space</loc> and the local real time at the beginning of epoch <code>E</code>, expressed in seconds.
</sitem>
</slist>
</td>
</tr>
</tbody>
</table>
<note role="elaboration">
<p>If the value of <code>playRate</code> is determined by the <loc href="#terms-document-processing-context">document processing context</loc>,
i.e., it is not set to the default value of <code>1.0</code>, then that value may vary in real time over the course of document
presentation, in which case values of <code>R</code> for given values of <code>M</code> are expected to be re-evaluated based on new
values of <code>playRate</code>.</p>
</note>
</div3> <!-- semantics-media-timing-local-time -->
<div3 id="semantics-media-timing">
<head>Relationship to Media Time</head>
<p>Time value expressions, as denoted by a <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc>, are related to
media time <phrase role="strong"><code>M</code></phrase> in accordance to the
<code>ttp:frameRate</code>, <code>ttp:subFrameRate</code>, and <code>ttp:frameRateMultiplier</code> parameters as follows:</p>
<table id="time-expressions-and-media-time" role="semantics">
<caption>TTML Semantics &ndash; Time Expressions and Media Time Relationship</caption>
<tbody>
<tr>
<td>
<slist>
<sitem/>
<sitem>
If a time expression uses a <emph>clock-time</emph> form or an <emph>offset-time</emph> form that doesn&apos;t use the ticks (<code>t</code>) metric, then:
</sitem>
<sitem/>
<sitem>
<code>
M = referenceBegin + 3600 * hours + 60 * minutes + seconds + ((frames + (subFrames / subFrameRate)) / effectiveFrameRate)
</code>
</sitem>
<sitem/>
<sitem>
where <code>referenceBegin</code> is determined according to whether the nearest ancestor time container employs
parallel (<code>par</code>) or sequential (<code>seq</code>) semantics: if parallel or if sequential and no prior sibling
<loc href="#terms-timed-element">timed element</loc> exists, then <code>referenceBegin</code>
is the media time that corresponds to the beginning of the nearest ancestor time container or
zero (0) if this time container is the <loc href="#terms-root-temporal-extent">root temporal extent</loc>; otherwise, if sequential and a prior sibling
<loc href="#terms-timed-element">timed element</loc> exists, then <code>referenceBegin</code> is the media time that corresponds to the active end of the
immediately prior sibling <loc href="#terms-timed-element">timed element</loc>;
</sitem>
<sitem/>
<sitem>
the <code>hours</code>, <code>minutes</code>, <code>seconds</code>, <code>frames</code>, <code>subFrames</code> <loc href="#terms-component">components</loc>
are extracted from time expression if present, or zero if not present; furthermore, if the time expression takes the form of a <emph>clock-time</emph>
expression, then the <code>fraction</code> <loc href="#terms-component">component</loc>, if present, is added to the <code>seconds</code> <loc href="#terms-component">component</loc> to form a real-valued <emph>seconds</emph>
<loc href="#terms-component">component</loc>, or, if the time expression takes the form of an <emph>offset-time</emph> expression, then the <code>fraction</code> <loc href="#terms-component">component</loc>, if present,
is added to the <code>time-count</code> <loc href="#terms-component">component</loc> to form a real-valued <emph>time count</emph> <loc href="#terms-component">component</loc> according to the specified offset metric;
</sitem>
<sitem/>
<sitem>
<code>subFrameRate</code> is the computed value of the <att>ttp:subFrameRate</att> parameter;
</sitem>
<sitem/>
<sitem>
and <code>effectiveFrameRate</code> (in frames per second) is <code>frameRate * frameRateMultiplier</code> where
<code>frameRate</code> is the computed value of the <att>ttp:frameRate</att> parameter and
<code>frameRateMultiplier</code> is the computed value of the <att>ttp:frameRateMultiplier</att> parameter.
</sitem>
<sitem/>
<sitem>
Otherwise, if a time expression uses an <emph>offset-time</emph> form that uses the ticks (<code>t</code>) metric, then:
</sitem>
<sitem/>
<sitem>
<code>
M = referenceBegin + ticks / tickRate
</code>
</sitem>
<sitem/>
<sitem>
where <code>referenceBegin</code> is as described above;
</sitem>
<sitem/>
<sitem>
the <code>ticks</code> <loc href="#terms-component">component</loc> is extracted from time expression;
</sitem>
<sitem/>
<sitem>
and <code>tickRate</code> is the computed value of the <att>ttp:tickRate</att> parameter;
</sitem>
<sitem/>
</slist>
</td>
</tr>
</tbody>
</table>
<note role="elaboration">
<p>If the computed <code>frameRateMultiplier</code> ratio is not integral, then <code>effectiveFrameRate</code> will be a non-integral rational.</p>
</note>
<note role="clarification">
<p>The above formalisms assume that the begin time of the <loc href="#terms-document-temporal-coordinate-space">document temporal coordinate space</loc> is related to the
begin time of a <loc href="#terms-related-media-object">related media object</loc>. If this assumption doesn&apos;t hold, then an additional offset
that accounts for the difference may be introduced when computing media time <code>M</code>.</p>
</note>
</div3> <!-- semantics-media-timing -->
<div3 id="semantics-media-document-timing">
<head>Relationship to Document Time</head>
<p><emph>This sub-section is non-normative.</emph></p>
<p>When <code>ttp:timeBase="media"</code> the computed document times
are used as the equivalent media times with no offset.</p>
<note role="clarification"><p>Any additional media time processing
imposed by e.g. a wrapper format is out of scope of the TTML
specification.</p>
<p>For example, <bibref ref="isobmff"/> provides a mechanism for wrapping TTML documents
as samples in segmented and non-segmented files, <bibref ref="dash"/> provides
further segmentation semantics for fragmented delivery over HTTP and
MPEG-2 TS.</p>
</note>
<p>The following document fragments are equivalent in timing:</p>
<table id="example-fragment-media-timing-1" role="example">
<caption>Example Fragment &ndash; Media Timing 1</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;tt ttp:timeBase="media" ...&gt;
...
&lt;body&gt;
   &lt;div xml:id="d1" begin="1s"&gt;
      &lt;p xml:id="p1" begin="0s" end="1s"&gt;First paragraph&lt;/p&gt;
      &lt;p xml:id="p2" begin="2s" end="3s"&gt;Second paragraph&lt;/p&gt;
   &lt;/div&gt;
&lt;/body&gt;
&lt;/tt&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p/>
<table id="example-fragment-media-timing-2" role="example">
<caption>Example Fragment &ndash; Media Timing 2</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;tt ttp:timeBase="media" ...&gt;
...
&lt;body&gt;
   &lt;div xml:id="d1"&gt;
      &lt;p xml:id="p1" begin="1s" end="2s"&gt;First paragraph&lt;/p&gt;
      &lt;p xml:id="p2" begin="3s" end="4s"&gt;Second paragraph&lt;/p&gt;
   &lt;/div&gt;
&lt;/body&gt;
&lt;/tt&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p/>    
<table id="media-timing-fragment-graphic-1" role="example-images">
<caption>Timing diagram showing the mapping of document times to media
times in the absence of other external information.</caption>
<col/>
<tbody>
<tr>
<td><graphic id="media-timing-fragment-1-img" source="images/timing_media_1.svg" alt="Media time"/></td>
</tr>
</tbody>
</table>
<p>In this example, using the terminology of
<bibref ref="smil3"/>, the implicit duration of the <el>body</el>
element is identical to its computed duration which,
in the absence of any external constraints, 
is also the duration of the <loc href="#terms-root-temporal-extent">Root Temporal
Extent</loc>.  However if
the <loc href="#terms-document-processing-context">document processing
context</loc> specifies a range of applicable media times, those may modify
the resolved begin and end times and therefore
the <loc href="#terms-root-temporal-extent">Root Temporal
Extent</loc>.</p>
<p>In the following example the processing context defines that the
media time range over which the document is active is from 1.5s to
3.5s, and this defines the Root Temporal Extent since timed content is
present at both of those times.</p>
<table id="media-timing-fragment-graphic-2" role="example-images">
<caption>Timing diagram showing the mapping of document times to media
times when the media time range is constrained by the processing
context.</caption>
<col/>
<tbody>
<tr>
<td><graphic id="media-timing-fragment-2-img" source="images/timing_media_2.svg" alt="Media time"/></td>
</tr>
</tbody>
</table>
<p>The gray background indicates the periods when
the <loc href="#terms-document-processing-context">document processing
context</loc> defines the document to be inactive. The 
<loc href="#terms-document-temporal-coordinate-space">document temporal coordinate space</loc>
is unaffected by this transformation.</p>
<p>If the document processing context were to define that the media
time range is 0-3s then
the <loc href="#terms-root-temporal-extent">Root Temporal Extent</loc>
would be from 1s to 2s as defined by p1 and p2 would never be
shown.</p>
</div3> <!-- semantics-media-document-timing -->
</div2>
<div2 id="time-expression-semantics-smpte">
<head>SMPTE Time Base</head>
<p>When operating with the <code>smpte</code> time base, the following semantics apply for interpreting time expressions,
as defined by <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc>, and their relationship to media time and local real time.</p>
<p>If the computed value of the <att>ttp:markerMode</att> parameter is <code>discontinuous</code>, then there is no direct relationship between
time expressions and media time <phrase role="strong"><code>M</code></phrase> or local real time <phrase role="strong"><code>R</code></phrase>. In
this case, time expressions refer to synchronization events (markers) emitted by the <loc href="#terms-document-processing-context">document processing context</loc>
when <loc href="#terms-smpte-time-code">smpte time codes</loc>
are encountered in the <loc href="#terms-related-media-object">related media object</loc>.</p>
<p>Otherwise, if the computed value of the <att>ttp:markerMode</att> parameter is <code>continuous</code>, then the relationships between time expressions and
local real time and media time are as described below in terms of a <loc href="#terms-synthetic-smpte-document-syncbase">synthetic smpte document syncbase</loc>, here referred to as the
SMPTE time base <phrase role="strong"><code>S</code></phrase>.</p>
<table id="time-expressions-and-smpte-time" role="semantics">
<caption>TTML Semantics &ndash; Time Expressions and SMPTE Time Relationship</caption>
<tbody>
<tr>
<td>
<slist>
<sitem/>
<sitem>
<code>S = (countedFrames - droppedFrames + (subFrames / subFrameRate)) / effectiveFrameRate</code>
</sitem>
<sitem/>
<sitem>where</sitem>
<sitem/>
<sitem>
<code>countedFrames = (3600 * hours + 60 * minutes + seconds) * frameRate + frames</code>
</sitem>
<sitem/>
<sitem>
<code>hours</code>, <code>minutes</code>, <code>seconds</code>, <code>frames</code>, <code>subFrames</code> <loc href="#terms-component">components</loc>
are extracted from time expression if present, or zero if not present; furthermore, if the time expression takes the form of a <emph>clock-time</emph>
expression, then the <code>fraction</code> <loc href="#terms-component">component</loc>, if present, is added to the <code>seconds</code> <loc href="#terms-component">component</loc> to form a real-valued <emph>seconds</emph>
<loc href="#terms-component">component</loc>, or, if the time expression takes the form of an <emph>offset-time</emph> expression, then the <code>fraction</code> <loc href="#terms-component">component</loc>, if present,
is added to the <code>time-count</code> <loc href="#terms-component">component</loc> to form a real-valued <emph>time count</emph> <loc href="#terms-component">component</loc> according to the specified offset metric;
</sitem>
<sitem/>
<sitem>
<code>droppedFrames</code> is computed as follows:
</sitem>
<sitem/>
<sitem>
1. let <emph>dropMode</emph> be the computed value of the <att>ttp:dropMode</att> parameter;
</sitem>
<sitem/>
<sitem>
2. if <emph>dropMode</emph> is <code>dropNTSC</code>, let
<code>droppedFrames = (hours * 54 + minutes - floor(minutes/10)) * 2</code>;
</sitem>
<sitem/>
<sitem>
3. otherwise, if <emph>dropMode</emph> is <code>dropPAL</code>, let
<code>droppedFrames = (hours * 27 + floor(minutes/2) - floor(minutes/20)) * 4</code>;
</sitem>
<sitem/>
<sitem>
4. otherwise, let
<code>droppedFrames = 0</code>;
</sitem>
<sitem/>
<sitem>
<code>frameRate</code> is the computed value of the <att>ttp:frameRate</att> parameter;
</sitem>
<sitem/>
<sitem>
<code>subFrameRate</code> is the computed value of the <att>ttp:subFrameRate</att> parameter;
</sitem>
<sitem/>
<sitem>
and <code>effectiveFrameRate</code> (in frames per second) is <code>frameRate * frameRateMultiplier</code> where
<code>frameRate</code> is the computed value of the <att>ttp:frameRate</att> parameter and
<code>frameRateMultiplier</code> is the computed value of the <att>ttp:frameRateMultiplier</att> parameter.
</sitem>
<sitem/>
<sitem>
Notwithstanding the above, if a time expression contains a frame code that is designated as
dropped according to <specref ref="parameter-attribute-dropMode"/>, then that time expression
must be considered to be invalid for purposes of validation assessment.
</sitem>
<sitem/>
</slist>
</td>
</tr>
</tbody>
</table>
<note role="elaboration">
<p>See <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc> regarding the deprecation of both the
<emph>offset-time</emph> form and the <emph>fraction</emph> <loc href="#terms-component">component</loc> of time expressions when the <code>smpte</code> time base applies.</p>
</note>
<p>The SMPTE time base <phrase role="strong"><code>S</code></phrase> is related to the media time base <phrase role="strong"><code>M</code></phrase> as follows:</p>
<table id="smpte-time-and-media-time" role="semantics">
<caption>TTML Semantics &ndash; SMPTE Time and Media Time Relationship</caption>
<tbody>
<tr>
<td>
<slist>
<sitem/>
<sitem>
<code>M = referenceBegin + S</code>
</sitem>
<sitem/>
<sitem>
where <code>referenceBegin</code> is determined according to whether the nearest ancestor time container employs
parallel (<code>par</code>) or sequential (<code>seq</code>) semantics: if parallel or if sequential and no prior sibling
<loc href="#terms-timed-element">timed element</loc> exists, then <code>referenceBegin</code>
is the SMPTE time that corresponds to the beginning of the nearest ancestor time container or
zero (0) if this time container is the <loc href="#terms-root-temporal-extent">root temporal extent</loc>; otherwise, if sequential and a prior sibling
<loc href="#terms-timed-element">timed element</loc> exists, then <code>referenceBegin</code> is the SMPTE time that corresponds to the active end of the
immediately prior sibling <loc href="#terms-timed-element">timed element</loc>;
</sitem>
<sitem/>
</slist>
</td>
</tr>
</tbody>
</table>
<p>Given the derived media time base as described above, then 
media time base <phrase role="strong"><code>M</code></phrase> is related to the local real time <phrase role="strong"><code>R</code></phrase>
as described in <specref ref="time-expression-semantics-media"/> above.</p>
</div2>
</div1>
<div1 id="isd">
<head>Intermediate Document Syntax</head>
<p><emph>This appendix is normative.</emph></p>
<p>This appendix specifies the syntactic elements and structure of a
<loc href="#terms-timed-text-intermediate-document">timed text intermediate document</loc>.
An ISD instance may be represented as a standalone document instance or
in a collection represented as an ISD Sequence instance.</p>
<p>All ISD related vocabulary is defined in the TTML ISD Namespace, defined here as <code>http://www.w3.org/ns/ttml#isd</code>,
where the recommended prefix is <code>isd</code>.</p>
<note role="clarification">
<p>In addition to using elements from the TTML ISD Namespace, an ISD document instance will typically contain vocabulary from one or more
of the other TTML namespaces defined in <specref ref="vocabulary-namespaces"/>.</p>
</note>
<p>A TTML <loc href="#terms-intermediate-synchronic-document">Intermediate Synchronic Document</loc>, in short, an <emph>ISD</emph> or <emph>ISD instance</emph>,
represents a discrete, temporally non-overlapping interval, an <emph>ISD interval</emph>,
of a source TTML document where, except for non-discrete animation, all content, styling, and layout information remains static within that interval.
In particular, the timing hierarchy of a TTML document is flattened and then sub-divided into temporally non-overlapping intervals, where each such
interval defines a static view of the source TTML document within that interval, and where that static view is represented as an ISD instance.
A concrete, standalone instance of a TTML
<loc href="#terms-intermediate-synchronic-document">Intermediate Synchronic Document</loc> must specify an
<loc href="#isd-vocabulary-isd"><el>isd:isd</el></loc> element as its root document element. When an instance of a
<loc href="#terms-intermediate-synchronic-document">Intermediate Synchronic Document</loc> is included in a
<loc href="#terms-intermediate-synchronic-document-sequence">Intermediate Synchronic Document Sequence</loc> instance, then the ISD instance is represented
by an <loc href="#isd-vocabulary-isd"><el>isd:isd</el></loc> child element of the root 
<loc href="#isd-vocabulary-sequence"><el>isd:sequence</el></loc> element.</p>
<note role="elaboration">
<p>An ISD instance may contain one or more animate elements that denote continuous animation within the associated interval. Continuously animated styles are sub-divided across
ISD interval boundaries such that their step-wise concatenation expresses an equivalent continuous animation over any intersecting ISD interval(s).</p>
</note>
<p>A TTML <loc href="#terms-intermediate-synchronic-document-sequence">Intermediate Synchronic Document Sequence</loc> represents a collection
of temporally non-overlapping <loc href="#terms-intermediate-synchronic-document">Intermediate Synchronic Document</loc> instances ordered according
to their begin times. A concrete instance of a TTML
<loc href="#terms-intermediate-synchronic-document-sequence">Intermediate Synchronic Document Sequence</loc> must specify an
<loc href="#isd-vocabulary-sequence"><el>isd:sequence</el></loc> element as its root document element.</p>
<div2 id="isd-vocabulary">
<head>ISD Vocabulary</head>
<div3 id="isd-vocabulary-sequence">
<head>isd:sequence</head>
<p>The <el>isd:sequence</el> element serves as the root document element of an <loc href="#terms-intermediate-synchronic-document-sequence">Intermediate
Synchronic Document Sequence</loc>  document.</p>
<p>The <el>isd:sequence</el> element accepts as its children zero or more <loc href="#metadata-vocabulary-metadata"><el>metadata</el></loc> elements,
followed by zero or one <loc href="#profile-vocabulary-profile"><el>ttp:profile</el></loc> element,
followed by zero or more <loc href="#isd-vocabulary-isd"><el>isd:isd</el></loc> elements.</p>
<p>Children <el>isd:isd</el> elements must be ordered in accordance to the media time equivalent of their
begin time; furthermore, the temporal intervals of any two child <loc href="#isd-vocabulary-isd"><el>isd:isd</el></loc> elements must not overlap (in time).</p>
<table id="elt-syntax-isd-sequence" role="syntax">
<caption>XML Representation &ndash; Element Information Item: isd:sequence</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;isd:sequence
  extent = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  size = <loc href="#style-value-non-negative-integer">&lt;non-negative-integer&gt;</loc>
  version = <loc href="#style-value-non-negative-integer">&lt;non-negative-integer&gt;</loc>
  <loc href="#content-attribute-xml-base">xml:base</loc> = <loc href="#content-value-uri">&lt;uri&gt;</loc>
  <loc href="#content-attribute-xml-id">xml:id</loc> = ID
  <loc href="#content-attribute-xml-lang"><phrase role="reqattr">xml:lang</phrase></loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  {<emph>any attributes in the <loc href="#isd-parameter-attribute-set">ISD Parameter Attribute Set</loc></emph>}&gt;
  <emph>Content:</emph> <loc href="#metadata-vocabulary-metadata"><el>metadata</el></loc>*, <loc href="#profile-vocabulary-profile">ttp:profile</loc>?, <loc href="#isd-vocabulary-isd">isd:isd</loc>*
&lt;/isd:sequence&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>If the <att>extent</att> attribute is specified, then it must adhere to the subset of the <loc href="#style-value-extent">&lt;extent&gt;</loc> value
syntax that consists of two pixel-valued <loc href="#style-value-length">&lt;length&gt;</loc> expressions, in which case, the specified value
expresses the <termref def="defs-spatial-extent">spatial extent</termref> of the root container region as defined by
<specref ref="root-container-region-semantics-resolution"/>,
where this <termref def="defs-spatial-extent">spatial extent</termref> applies globally to each each constituent
<loc href="#terms-intermediate-synchronic-document">Intermediate Synchronic Document</loc> represented by a child <el>isd:isd</el> element.</p>
<p>If the <att>size</att> attribute is specified, then it must be a non-negative integer corresponding to the number of
<loc href="#isd-vocabulary-isd"><el>isd:isd</el></loc> child elements.
If not specified, then the size must be considered to be <emph>indefinite</emph>, unless and until the
<loc href="#isd-vocabulary-sequence"><el>isd:sequence</el></loc> element is terminated, in which case the size
may be determined by inspection.</p>
<note role="elaboration">
<p>The <att>size</att> attribute would normally be omitted in the case of real time captioning.</p>
</note>
<p>If the <att>version</att> attribute is specified, then it must be a positive integer (greater than zero) corresponding to the version of this
<loc href="#terms-intermediate-document-syntax">Intermediate Synchronic Document Syntax</loc> specification used in authoring
the ISD sequence document. If specified, the numeric value must be greater than or equal to two (2). If not specified, then the version must be
consider to be equal to two (2). The version associated with this
<loc href="#terms-intermediate-document-syntax">Intermediate Synchronic Document Syntax</loc> specification is two (2).</p>
<note role="elaboration">
<p>The ISD abstraction referred to or implied by <bibref ref="ttml1"/> &sect;9.3.2 was not concretely defined by that specification. Here we reserve version one (1)
for informal discussion of that earlier abstraction and its various (non-standardized) realizations.</p>
</note>
<p>An <loc href="#content-attribute-xml-lang"><att>xml:lang</att></loc> attribute must be specified on the
<loc href="#isd-vocabulary-sequence"><el>isd:sequence</el></loc> element.
If its value is empty, it signifies that there is no default language that applies
to the content within the <loc href="#terms-intermediate-synchronic-document-sequence">Intermediate Synchronic Document Sequence</loc>. Otherwise,
the specified value denotes the default language that applies to each constituent
<loc href="#terms-intermediate-synchronic-document">Intermediate Synchronic Document</loc>.</p>
<p>One or more parameter properties may be specified from the restricted parameter attribute set enumerated in <specref ref="isd-parameter-attribute-set"/>.
If specified, then they apply globally to each constituent <loc href="#terms-intermediate-synchronic-document">Intermediate Synchronic Document</loc>.</p>
<p>If a child <loc href="#profile-vocabulary-profile"><el>ttp:profile</el></loc> element is present,
then that <loc href="#profile-vocabulary-profile"><el>ttp:profile</el></loc> element must satisfy the following constraints:</p>
<ulist>
<item><p>no <att>combine</att> attribute is specified;</p></item>
<item><p>no <att>designator</att> attribute is specified;</p></item>
<item><p>no <att>type</att> attribute is specified;</p></item>
<item><p>no <att>use</att> attribute is specified;</p></item>
<item><p>no descendant element is a <el>ttp:profile</el> element;</p></item>
<item><p>no descendant <el>ttp:feature</el> element specifies a <att>value</att> attribute with the value <code>prohibited</code>;</p></item>
<item><p>no descendant <el>ttp:extension</el> element specifies a <att>value</att> attribute with the value <code>prohibited</code>.</p></item>
</ulist>
<p>Furthermore, such a child <loc href="#profile-vocabulary-profile"><el>ttp:profile</el></loc> element must specify a profile that is equivalent to the combined
<loc href="#terms-processor-profile">processor profile</loc> of the source TTML document having fetched all externally referenced profile documents.</p>
<note role="elaboration">
<p>The intent of permitting a single <loc href="#profile-vocabulary-profile"><el>ttp:profile</el></loc> to be specified in an
<loc href="#isd-vocabulary-sequence"><el>isd:sequence</el></loc> is to provide a simplified mechanism to declare
processor profile requirements that must be met in order to process the document (in the absence of an end-user override).</p>
</note>
</div3>
<div3 id="isd-vocabulary-isd">
<head>isd:isd</head>
<p>The <el>isd:isd</el> element serves either as
(1) the root document element of a standalone <loc href="#terms-intermediate-synchronic-document">Intermediate Synchronic Document</loc> or
(2) as a child of an <loc href="#isd-vocabulary-sequence"><el>isd:sequence</el></loc> element of a
<loc href="#terms-intermediate-synchronic-document-sequence">Intermediate Synchronic Document Sequence</loc> document,
where an <el>isd:isd</el> element is derived from and replaces a root <loc href="#document-structure-vocabulary-tt"><el>tt</el></loc> element
retained in each intermediate synchronic document form, <emph>DOC<sub>inter</sub></emph>&thinsp;, created by the
<loc href="#procedure-construct-intermediate-document">construct intermediate document</loc> procedure.</p>
<p>The <el>isd:isd</el> element accepts as its children zero or more <loc href="#metadata-vocabulary-metadata"><el>metadata</el></loc> elements,
followed by zero or one <loc href="#profile-vocabulary-profile"><el>ttp:profile</el></loc> element,
followed by zero or more <loc href="#isd-vocabulary-css"><el>isd:css</el></loc> elements,
followed by zero or more <loc href="#isd-vocabulary-region"><el>isd:region</el></loc> elements.</p>
<table id="elt-syntax-isd" role="syntax">
<caption>XML Representation &ndash; Element Information Item: isd:isd</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;isd:isd
  <loc href="#timing-attribute-begin"><phrase role="reqattr">begin</phrase></loc> = <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc>
  <loc href="#timing-attribute-end"><phrase role="reqattr">end</phrase></loc> = <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc> | <emph>"indefinite"</emph>
  extent = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  version = <loc href="#style-value-non-negative-integer">&lt;non-negative-integer&gt;</loc>
  <loc href="#content-attribute-xml-base">xml:base</loc> = <loc href="#content-value-uri">&lt;uri&gt;</loc>
  <loc href="#content-attribute-xml-id">xml:id</loc> = ID
  <loc href="#content-attribute-xml-lang">xml:lang</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  {<emph>any attributes in the <loc href="#isd-parameter-attribute-set">ISD Parameter Attribute Set</loc></emph>}&gt;
  <emph>Content:</emph> <loc href="#metadata-vocabulary-metadata"><el>metadata</el></loc>*, <loc href="#profile-vocabulary-profile">ttp:profile</loc>?, <loc href="#isd-vocabulary-css">isd:css</loc>*, <loc href="#isd-vocabulary-region">isd:region</loc>*
&lt;/isd:isd&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>A <att>begin</att> attribute must be specified, the value of which must take the <emph>offset-time</emph> form of
a <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc>, and, further, is restricted to use a metric of
<code>s</code> (seconds),
<code>f</code> (frames),
<code>t</code> (ticks), or may omit the metric, in which case <code>s</code> seconds is implied. This
begin time is expressed as an offset from the begin time of the 
<loc href="#terms-document-temporal-coordinate-space">document temporal coordinate space</loc>
of the source TTML document from which this <loc href="#isd-vocabulary-isd"><el>isd:isd</el></loc> element was derived.</p>
<p>An <att>end</att> attribute must be similarly specified, where the same constraints apply.
If the value of the <att>end</att> attribute takes the form of a <loc href="#timing-value-time-expression">&lt;time-expression&gt;</loc>,
this end time is expressed as an offset from the begin time of the <loc href="#terms-document-temporal-coordinate-space">document temporal coordinate space</loc>
of the source TTML document from which this <loc href="#isd-vocabulary-isd"><el>isd:isd</el></loc> element was derived;
otherwise (the value is <code>indefinite</code>), the temporal extent is not known at the time this attribute is encoded
or there is no temporal end point.</p>
<note role="elaboration">
<p>Expressed in the terminology of <bibref ref="smil3"/>, the values of these <att>begin</att> and <att>end</att> attributes
correspond to the resolved begin and end times of the <emph>active duration</emph> with respect to the <emph>document begin</emph>.</p>
</note>
<p>If the <att>extent</att> attribute is specified, then it must adhere to the subset of the <loc href="#style-value-extent">&lt;extent&gt;</loc> value
syntax that consists of two pixel-valued <loc href="#style-value-length">&lt;length&gt;</loc> expressions, in which case, the specified value
expresses the <termref def="defs-spatial-extent">spatial extent</termref> of the root container region as defined by
<specref ref="root-container-region-semantics-resolution"/>, where this <termref def="defs-spatial-extent">spatial extent</termref>
applies to the <loc href="#terms-intermediate-synchronic-document">Intermediate Synchronic Document</loc>
represented by this <el>isd:isd</el> element. Furthermore,
if this <loc href="#isd-vocabulary-isd"><el>isd:isd</el></loc> element is contained in an
<loc href="#terms-intermediate-synchronic-document-sequence">Intermediate Synchronic Document Sequence</loc> document, then
if the container <loc href="#isd-vocabulary-sequence"><el>isd:sequence</el></loc> element specifies an
<att>extent</att> attribute, then this <loc href="#isd-vocabulary-isd"><el>isd:isd</el></loc> element
should not specify an <att>extent</att> attribute, and, if specified, must be equal to the value of the 
<att>extent</att> attribute specified on the container <loc href="#isd-vocabulary-sequence"><el>isd:sequence</el></loc> element.</p>
<p>An <loc href="#content-attribute-xml-lang"><att>xml:lang</att></loc> attribute must be specified on the
<loc href="#isd-vocabulary-isd"><el>isd:isd</el></loc> element if it is a standalone <loc href="#terms-intermediate-synchronic-document">Intermediate
Synchronic Document</loc> document; otherwise, it may be specified, and should be specified if the default language of the 
<loc href="#isd-vocabulary-sequence"><el>isd:isd</el></loc> element differs from the default language of its
parent <loc href="#isd-vocabulary-sequence"><el>isd:sequence</el></loc> element.
If its value is empty, it signifies that there is no default language that applies
to the content within the <loc href="#terms-intermediate-synchronic-document">Intermediate Synchronic Document</loc>. Otherwise,
the specified value denotes the default language that applies.</p>
<p>The <att>version</att> attribute follows the syntax and semantics of the same named attribute on the
<loc href="#isd-vocabulary-sequence"><el>isd:sequence</el></loc> element type. The <att>version</att>
attribute must not be specified on an <loc href="#isd-vocabulary-isd">isd:isd</loc> element that is not
a root document element, i.e., is a child element of an <loc href="#isd-vocabulary-sequence">isd:sequence</loc> element.</p>
<p>A child <loc href="#profile-vocabulary-profile"><el>ttp:profile</el></loc> element may be present if the
<loc href="#isd-vocabulary-isd"><el>isd:isd</el></loc> element is a standalone <loc href="#terms-intermediate-synchronic-document">Intermediate
Synchronic Document</loc> document, in which case the same constraints and semantics apply as specified in <specref ref="isd-vocabulary-sequence"/>;
otherwise, if not a standalone document, a child <loc href="#profile-vocabulary-profile"><el>ttp:profile</el></loc> element must not be present.</p>
</div3>
<div3 id="isd-vocabulary-css">
<head>isd:css</head>
<p>The <el>isd:css</el> element is used to represent a unique computed style set of some collection of elements
that share the same set of computed styles. In particular, for each
element <emph>E</emph> in the source TTML document which is selected and copied into a
<loc href="#isd-vocabulary-region"><el>isd:region</el></loc> element of a given
<loc href="#terms-intermediate-synchronic-document">Intermediate Synchronic Document</loc>, the computed style
set of <emph>E</emph>, <emph>CSS(E)</emph>, is determined, and, if that <emph>CSS(E)</emph> is not already specified
by an existing <el>isd:css</el> element, then it is assigned a unique identifier and instantiated as a new
<el>isd:css</el> element.</p>
<p>The <el>isd:css</el> element accepts as its children zero or more <loc href="#metadata-vocabulary-metadata"><el>metadata</el></loc> elements.</p>
<table id="elt-syntax-isd-style" role="syntax">
<caption>XML Representation &ndash; Element Information Item: isd:css</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;isd:css
  <loc href="#content-attribute-xml-base">xml:base</loc> = <loc href="#content-value-uri">&lt;uri&gt;</loc>
  <loc href="#content-attribute-xml-id"><phrase role="reqattr">xml:id</phrase></loc> = ID
  <loc href="#content-attribute-xml-lang">xml:lang</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  {<emph>any <loc href="#terms-styling-attribute">styling attributes</loc></emph>}
  <emph>Content:</emph> <loc href="#metadata-vocabulary-metadata"><el>metadata</el></loc>*
&lt;/isd:css&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>For each arbitrary pair of <el>isd:css</el> child elements of an
<loc href="#isd-vocabulary-isd"><el>isd:isd</el></loc> element,
<emph>S1</emph> and <emph>S2</emph>, the set of specified styles of <emph>S1</emph> must
not be the same as the set of specified styles of <emph>S2</emph>. For the purpose of comparing two
sets of specified styles, the styles must be placed into a canonical order and then compared item
by item for value equality, where the canonical order is in accordance to the qualified attribute name
order, where each qualified name consists of a tuple <code>&lt;namespace URL, local name&gt;</code>,
and such tuples are compared <loc href="#terms-component">component-wise</loc> by case-sensitive lexical string order.</p>
</div3>
<div3 id="isd-vocabulary-region">
<head>isd:region</head>
<p>The <el>isd:region</el> element is used to represent a layout and presentation region
and the content selected into that region, where that content takes the form of a
<loc href="#document-structure-vocabulary-body">body</loc> element and its descendant <loc href="#terms-content-element">content elements</loc>.</p>
<p>The <el>isd:region</el> element accepts as its children zero or more <loc href="#metadata-vocabulary-metadata"><el>metadata</el></loc> elements,
followed by zero or more <loc href="#animation-vocabulary-animate"><el>animate</el></loc> elements,
followed by exactly one <loc href="#document-structure-vocabulary-body"><el>body</el></loc> element.</p>
<table id="elt-syntax-isd-region" role="syntax">
<caption>XML Representation &ndash; Element Information Item: isd:region</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">
&lt;isd:region
  <loc href="#style-attribute-style">style</loc> = IDREF
  <loc href="#metadata-attribute-role">ttm:role</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  <loc href="#content-attribute-xml-base">xml:base</loc> = <loc href="#content-value-uri">&lt;uri&gt;</loc>
  <loc href="#content-attribute-xml-id"><phrase role="reqattr">xml:id</phrase></loc> = ID
  <loc href="#content-attribute-xml-lang">xml:lang</loc> = <loc href="https://www.w3.org/TR/xmlschema-2/#string">xsd:string</loc>
  <emph>Content:</emph> <loc href="#metadata-vocabulary-metadata"><el>metadata</el></loc>*, <loc href="#animation-vocabulary-animate">animate</loc>*, <loc href="#document-structure-vocabulary-body">body</loc>
&lt;/isd:region&gt;
</eg>
</td>
</tr>
</tbody>
</table>
<p>If the computed style set of the region represented by the <el>isd:region</el> element is not the
set of initial style values that apply to <loc href="#layout-vocabulary-region"><el>region</el></loc>, then a
<att>style</att> attribute must be specified which references an <loc href="#isd-vocabulary-css"><el>isd:css</el></loc> element that specifies the
region&apos;s computed style set.</p>
<p>The following constraints apply to the <loc href="#document-structure-vocabulary-body"><el>body</el></loc> element
and its descendant elements:</p>
<ulist>
<item><p>no <att>animate</att> attribute is specified;</p></item>
<item><p>no <att>begin</att> attribute is specified;</p></item>
<item><p>no <att>dur</att> attribute is specified;</p></item>
<item><p>no <att>end</att> attribute is specified;</p></item>
<item><p>no <att>region</att> attribute is specified;</p></item>
<item><p>no <att>timeContainer</att> attribute is specified;</p></item>
<item><p>no attribute in the <termref def="defs-tt-style-namespaces">TT Style Namespaces</termref> is specified;</p></item>
<item><p>no <loc href="#animation-vocabulary-set">set</loc> element is present;</p></item>
<item><p>no <loc href="#terms-significant-text-node">significant text node</loc> is not a child of a 
<loc href="#content-vocabulary-span"><el>span</el></loc> element that contains no other child.</p></item>
</ulist>
<p>In addition, for the <loc href="#document-structure-vocabulary-body"><el>body</el></loc> element <emph>B</emph> and
each of its descendant <loc href="#terms-content-element">content elements</loc> <emph>C</emph>, if the computed style set of <emph>B</emph> or each <emph>C</emph> is
not equal to the computed style set of its parent element, then that element, <emph>B</emph> or <emph>C</emph>, must specify a <att>style</att>
attribute that references an <loc href="#isd-vocabulary-css"><el>isd:css</el></loc> element that specifies the
element&apos;s computed style set.</p>
</div3>
</div2>
<div2 id="isd-parameter-attribute-set">
<head>ISD Parameter Attribute Set</head>
<p>The following subset of the defined <loc href="#attribute-vocab-group-parameters">Parameter Attributes</loc>
are available for use with an
<loc href="#isd-vocabulary-sequence"><el>isd:sequence</el></loc> or
<loc href="#isd-vocabulary-isd"><el>isd:isd</el></loc> element as described above:</p>
<ulist>
<item><p><loc href="#parameter-attribute-cellResolution">ttp:cellResolution</loc></p></item>
<item><p><loc href="#parameter-attribute-frameRate">ttp:frameRate</loc></p></item>
<item><p><loc href="#parameter-attribute-frameRateMultiplier">ttp:frameRateMultiplier</loc></p></item>
<item><p><loc href="#parameter-attribute-pixelAspectRatio">ttp:pixelAspectRatio</loc></p></item>
<item><p><loc href="#parameter-attribute-displayAspectRatio">ttp:displayAspectRatio</loc></p></item>
<item><p><loc href="#parameter-attribute-subFrameRate">ttp:subFrameRate</loc></p></item>
<item><p><loc href="#parameter-attribute-tickRate">ttp:tickRate</loc></p></item>
</ulist>
</div2>
<div2 id="isd-interchange">
<head>ISD Interchange</head>
<p>A concrete document instance that employs the <loc href="#isd">Intermediate Synchronic Document Syntax</loc> must be
encoded as a well-formed <bibref ref="xml10"/> document using the UTF-8 character encoding. Furthermore, such a document must specify
an <loc href="#isd-vocabulary-sequence"><el>isd:sequence</el></loc> element or
an <loc href="#isd-vocabulary-isd"><el>isd:isd</el></loc> element as the root document element.</p>
<p>When a resource consisting of a concrete ISD Sequence or ISD instance is interchanged and a media type is used to identify the content type
of that resource, then the media type <code>application/ttml+xml</code> should be used, about which see also <bibref ref="ttml1"/> Appendix C.
If this media type is used, the optional <code>profile</code> parameter must not be specified, or, if specified, must be ignored by a processor.</p>
</div2>
<!--
<div2 id="isd-examples">
<head>ISD Examples</head>
<p><emph>This sub-section is non-normative.</emph></p>
</div2>
-->
</div1>
<div1 id="references">
<head>References</head>
<p><emph>This appendix is normative.</emph></p>
<blist>
<bibl id="data-encodings" key="Data Encodings">S. Josefsson,
<titleref
href="https://www.rfc-editor.org/rfc/rfc4648.txt">The Base16, Base32, and Base64 Data Encodings</titleref>,
RFC 4648, October 2006, IETF. (See
<xspecref href="https://www.rfc-editor.org/rfc/rfc4648.txt">https://www.rfc-editor.org/rfc/rfc4648.txt</xspecref>.)
</bibl>
<bibl id="gps" key="GPS">
<titleref href="https://www.gps.gov/technical/">Global
Positioning System</titleref>, US Air Force.
(See
<xspecref href="https://www.gps.gov/technical/">https://www.gps.gov/technical/</xspecref>.)
</bibl>
<bibl id="jlreq" key="JLREQ">Richard Ishida et al.,
<titleref href="https://www.w3.org/TR/2012/NOTE-jlreq-20120403/">Requirements for Japanese Text Layout</titleref>
W3C Working Group Note, 3 April 2012.
(See <xspecref href="https://www.w3.org/TR/2012/NOTE-jlreq-20120403/">https://www.w3.org/TR/2012/NOTE-jlreq-20120403/</xspecref>.)
</bibl>
<bibl id="media-queries" key="Media Queries">Florian Rivoal,
<titleref href="https://www.w3.org/TR/2012/REC-css3-mediaqueries-20120619/">Media Queries</titleref>, W3C Recommendation, 19 June 2012. (See
<xspecref href="https://www.w3.org/TR/2012/REC-css3-mediaqueries-20120619/">https://www.w3.org/TR/2012/REC-css3-mediaqueries-20120619/</xspecref>.)
</bibl>
<bibl id="mime" key="MIME">Ned Freed and Nathaniel Borenstein,  
<titleref
href="https://www.rfc-editor.org/rfc/rfc2045.txt">Multipurpose Internet
Mail Extensions (MIME) Part One: Format of Internet Message Bodies</titleref>,
RFC 2045, November 1996, IETF. (See
<xspecref href="https://www.rfc-editor.org/rfc/rfc2045.txt">https://www.rfc-editor.org/rfc/rfc2045.txt</xspecref>.)
</bibl>
<bibl id="media-types" key="MIME Media Types">Ned Freed and Nathaniel Borenstein,  
<titleref
href="https://www.rfc-editor.org/rfc/rfc2046.txt">Multipurpose Internet
Mail Extensions (MIME) Part Two: Media Types</titleref>,
RFC 2046, November 1996, IETF. (See
<xspecref href="https://www.rfc-editor.org/rfc/rfc2046.txt">https://www.rfc-editor.org/rfc/rfc2046.txt</xspecref>.)
</bibl>
<bibl id="png" key="PNG">David Duce, Ed.,
<titleref href="https://www.w3.org/TR/2003/REC-PNG-20031110/">Portable Network Graphics (PNG) Specification (Second Edition)</titleref>,
W3C Recommendation, 10 November 2003. (See
<xspecref href="https://www.w3.org/TR/2003/REC-PNG-20031110/">https://www.w3.org/TR/2003/REC-PNG-20031110/</xspecref>.)
</bibl>
<bibl id="rng" key="RELAX NG">ISO/IEC 19757-2:2003,
<titleref href="https://www.iso.org/home.html">Information technology &ndash; Document
Schema Definition Language (DSDL) &ndash; Part 2: Regular-grammar-based validation &ndash; RELAX NG</titleref>,
International Organization for Standardization (ISO).
</bibl>
<bibl id="ruby" key="Ruby">Masayasu Ishikawa et al.,
<titleref href="https://www.w3.org/TR/2001/REC-ruby-20010531/">Ruby Annotation</titleref>
W3C Recommendation, 31 May 2001.
(See <xspecref href="https://www.w3.org/TR/2001/REC-ruby-20010531/">https://www.w3.org/TR/2001/REC-ruby-20010531/</xspecref>.)
</bibl>
<bibl id="smil3" key="SMIL 3.0">Dick Bultermann, et al.,
<titleref href="https://www.w3.org/TR/2008/REC-SMIL3-20081201/">Synchronized
Multimedia Integration Language (SMIL 3.0)</titleref>,
W3C Recommendation, 1 December 2008. (See
<xspecref href="https://www.w3.org/TR/2008/REC-SMIL3-20081201/">https://www.w3.org/TR/2008/REC-SMIL3-20081201/</xspecref>.)
</bibl>
<bibl id="smpte12" key="SMPTE ST 12-1">SMPTE ST 12-1:2014,
<titleref href="https://ieeexplore.ieee.org/document/7291029/">Time and Control Code</titleref>, SMPTE Standard.
</bibl>
<bibl id="srgb" key="SRGB">IEC 61966-2-1:1999/AMD1:2003,
<titleref
href="https://webstore.iec.ch/publication/6168">Multimedia
systems and equipment &ndash; Colour measurement and management
&ndash; Part 2-1: Colour management &ndash; Default RGB colour space
&ndash; sRGB</titleref>, International Electrotechnical
Commission (IEC).
</bibl>
<bibl id="svg11" key="SVG 1.1">Erik Dahlstrm et al., Eds.,
<titleref
href="https://www.w3.org/TR/2011/REC-SVG11-20110816/">Scalable
Vector Graphics (SVG) 1.1 Second Edition</titleref>, W3C Recommendation, 16
August 2011. (See
<xspecref href="https://www.w3.org/TR/2011/REC-SVG11-20110816/">https://www.w3.org/TR/2011/REC-SVG11-20110816/</xspecref>.)
</bibl>
<bibl id="ttml1" key="TTML1">Glenn Adams and Pierre-Anthony Lemieux, Eds.,
<titleref href="https://www.w3.org/TR/2018/REC-ttml1-20181108/">Timed Text Markup Language 1 (TTML1) (Third Edition)</titleref>,
W3C Recommendation, 08 November 2018. (See
<xspecref href="https://www.w3.org/TR/2018/REC-ttml1-20181108/">https://www.w3.org/TR/2018/REC-ttml1-20181108/</xspecref>.)
</bibl>
<bibl id="ttpr" key="TTML Profile Registry">Glenn Adams and Mike Dolan, Eds.,
<titleref href="https://www.w3.org/TR/ttml-profile-registry/">TTML Media Type Definition and Profile Registry</titleref>,
W3C Working Group Note. (See
<xspecref href="https://www.w3.org/TR/ttml-profile-registry/">https://www.w3.org/TR/ttml-profile-registry/</xspecref>.)
</bibl>
<bibl id="uaag" key="UAAG">Ian Jacobs, Jon Gunderson, and Eric Hansen, Eds.,
<titleref href="https://www.w3.org/TR/2002/REC-UAAG10-20021217/">User
Agent Accessibility Guidelines 1.0</titleref>, W3C Recommendation, 17
December 2002. (See
<xspecref href="https://www.w3.org/TR/2002/REC-UAAG10-20021217/">https://www.w3.org/TR/2002/REC-UAAG10-20021217/</xspecref>.)
</bibl>
<bibl id="uax9" key="UAX9">M. Davis, A. Lanin, and A. Glass, <titleref
href="https://www.unicode.org/reports/tr9/tr9-37.html">Unicode Bidirectional
Algorithm</titleref>, Unicode Consortium, 14 May 2017. (See
<xspecref
href="https://www.unicode.org/reports/tr9/tr9-37.html">https://www.unicode.org/reports/tr9/tr9-37.html</xspecref>.)
</bibl>
<bibl id="uax14" key="UAX14">Asmus Freytag, <titleref
href="https://www.unicode.org/reports/tr14/tr14-17.html">Line Breaking
Properties</titleref>, Unicode Consortium, 29 August 2005. (See
<xspecref
href="https://www.unicode.org/reports/tr14/tr14-17.html">https://www.unicode.org/reports/tr14/tr14-17.html</xspecref>.)
</bibl>
<bibl id="uri" key="URI">T. Berner-Lee, R. Fielding, and L. Masinter,
<titleref
href="https://www.rfc-editor.org/rfc/rfc3986.txt">Uniform Resource Identifiers (URI): Generic Syntax</titleref>,
RFC 3986, January 2005, IETF. (See
<xspecref href="https://www.rfc-editor.org/rfc/rfc3986.txt">https://www.rfc-editor.org/rfc/rfc3986.txt</xspecref>.)
</bibl>
<bibl id="utc" key="UTC">
Recommendation TF.460-6,
<titleref
href="https://www.itu.int/">Standard-Frequency and Time-Signal
Emissions</titleref>, International
Telecommunciations Union, Radio Sector (ITU-R).
</bibl>
<bibl id="utr50" key="UTR50">K. Ishii, <titleref
href="https://www.unicode.org/reports/tr50/tr50-17.html">Unicode Vertical Text Layout</titleref>, Unicode Consortium, 23 November 2016. (See
<xspecref
href="https://www.unicode.org/reports/tr50/tr50-17.html">https://www.unicode.org/reports/tr50/tr50-17.html</xspecref>.)
</bibl>
<bibl id="wcag" key="WCAG">Ben Caldwell, et al., Eds.,
<titleref href="https://www.w3.org/TR/2008/REC-WCAG20-20081211/">Web
Content Accessibility Guidelines (WCAG) 2.0</titleref>, W3C Recommendation, 11 December 2008. (See
<xspecref href="https://www.w3.org/TR/2008/REC-WCAG20-20081211/">https://www.w3.org/TR/2008/REC-WCAG20-20081211/</xspecref>.)
</bibl>
<bibl id="xlink11" key="XLink 1.1">Steve DeRose, et al.
<titleref href="https://www.w3.org/TR/2010/REC-xlink11-20100506/">XML Linking Language (XLink) Version 1.1</titleref>,
W3C Recommendation, 06 May 2010. (See
<xspecref href="https://www.w3.org/TR/2010/REC-xlink11-20100506/">https://www.w3.org/TR/2010/REC-xlink11-20100506/</xspecref>.)
</bibl>
<bibl id="xml10" key="XML 1.0">Tim Bray, et al.
<titleref href="https://www.w3.org/TR/2008/REC-xml-20081126/">Extensible Markup Language (XML)
1.0 (Fifth Edition)</titleref>, W3C Recommendation, 26 November 2008. (See
<xspecref href="https://www.w3.org/TR/2008/REC-xml-20081126/">https://www.w3.org/TR/2008/REC-xml-20081126/</xspecref>.)
</bibl>
<bibl id="xmlbase" key="XML Base">Jonathan Marsh and Richard Tobin, Eds.,
<titleref href="https://www.w3.org/TR/2009/REC-xmlbase-20090128/">XML Base (Second Edition)</titleref>,
W3C Recommendation, 28 January 2009. (See
<xspecref href="https://www.w3.org/TR/2009/REC-xmlbase-20090128/">https://www.w3.org/TR/2009/REC-xmlbase-20090128/</xspecref>.)
</bibl>
<bibl id="xmlid" key="XML ID">Jonathan Marsh, Daniel Veillard, Norman Walsh, Eds.,
<titleref href="https://www.w3.org/TR/2005/REC-xml-id-20050909/">xml:id Version 1.0</titleref>,
W3C Recommendation, 09 September 2005. (See
<xspecref href="https://www.w3.org/TR/2005/REC-xml-id-20050909/">https://www.w3.org/TR/2005/REC-xml-id-20050909/</xspecref>.)
</bibl>
<bibl id="infoset" key="XML InfoSet">John Cowan and Richard Tobin, Eds.,
<titleref href="https://www.w3.org/TR/2004/REC-xml-infoset-20040204/">XML Information Set (Second Edition)</titleref>,
W3C Recommendation, 04 February 2004. (See
<xspecref href="https://www.w3.org/TR/2004/REC-xml-infoset-20040204/">https://www.w3.org/TR/2004/REC-xml-infoset-20040204/</xspecref>.)
</bibl>
<bibl id="xmlns10" key="XML Namespaces 1.0">Tim Bray, et al.
<titleref href="https://www.w3.org/TR/2009/REC-xml-names-20091208/">Namespaces
in XML 1.0 (Third Edition)</titleref>, W3C Recommendation, 8 December 2009. (See
<xspecref href="https://www.w3.org/TR/2009/REC-xml-names-20091208/">https://www.w3.org/TR/2009/REC-xml-names-20091208/</xspecref>.)
</bibl>
<bibl id="xsd-1" key="XML Schema Part 1">Henry S. Thompson, David Beech,
Murray Maloney, Noah Mendelsohn, Eds.,
<titleref href="https://www.w3.org/TR/2004/REC-xmlschema-1-20041028/">XML Schema Part 1: Structures</titleref>,
W3C Recommendation, 28 October 2004. (See
<xspecref href="https://www.w3.org/TR/2004/REC-xmlschema-1-20041028/">https://www.w3.org/TR/2004/REC-xmlschema-1-20041028/</xspecref>.)
</bibl>
<bibl id="xsd-2" key="XML Schema Part 2">Paul Biron and Ashok Malhotra,
<titleref href="https://www.w3.org/TR/2004/REC-xmlschema-2-20041028/">XML Schema Part 2: Datatypes</titleref>,
W3C Recommendation, 28 October 2004. (See
<xspecref href="https://www.w3.org/TR/2004/REC-xmlschema-2-20041028/">https://www.w3.org/TR/2004/REC-xmlschema-2-20041028/</xspecref>.)
</bibl>
<bibl id="xslfo11" key="XSL-FO 1.1">Anders Berglund,
<titleref href="https://www.w3.org/TR/2006/REC-xsl11-20061205/">Extensible Stylesheet Language (XSL) Version 1.1</titleref>,
W3C Recommendation, 05 December 2006. (See
<xspecref href="https://www.w3.org/TR/2006/REC-xsl11-20061205/">https://www.w3.org/TR/2006/REC-xsl11-20061205/</xspecref>.)
</bibl>
</blist>
</div1>
<inform-div1 id="other-references">
<head>Other References</head>
<blist>
<bibl id="ccreq" key="CC-DECODER-REQ"><titleref
href="https://www.gpo.gov/fdsys/pkg/CFR-2012-title47-vol4/pdf/CFR-2012-title47-vol4-sec79-101.pdf">Closed Caption Decoder
Requirements for Analog Television Receivers</titleref>,
United States Code of Federal Regulations, Title 47, Volume 1, Part 79, &sect;79.101. (See
<xspecref href="https://www.gpo.gov/fdsys/pkg/CFR-2012-title47-vol4/pdf/CFR-2012-title47-vol4-sec79-101.pdf">https://www.gpo.gov/fdsys/pkg/CFR-2012-title47-vol4/pdf/CFR-2012-title47-vol4-sec79-101.pdf</xspecref>.)
</bibl>
<bibl id="clreq" key="CLREQ">Bobby Tung et al.,
<titleref href="https://www.w3.org/TR/2017/WD-clreq-20171229/">Requirements for Chinese Text Layout</titleref>,
W3C Working Draft, 29 December 2017.
(See <xspecref href="https://www.w3.org/TR/2017/WD-clreq-20171229/">https://www.w3.org/TR/2017/WD-clreq-20171229/</xspecref>.)
</bibl>
<bibl id="css2" key="CSS2">Bert Bos et al.,
<titleref
href="https://www.w3.org/TR/2011/REC-CSS2-20110607/">Cascading
Style Sheets, Level 2 Revision 1</titleref>, W3C Recommendation, 07 June 2011.
(See <xspecref href="https://www.w3.org/TR/2011/REC-CSS2-20110607/">https://www.w3.org/TR/2011/REC-CSS2-20110607/</xspecref>.)
</bibl>
<bibl id="css3-bb" key="CSS Backgrounds and Borders">Bert Bos, Elika Etamad and Brad Kemper,
<titleref href="https://www.w3.org/TR/2017/CR-css-backgrounds-3-20171017/">CSS Backgrounds and Borders Module Level 3</titleref>,
W3C Candidate Recommendation, 17 October 2017. (See
<xspecref href="https://www.w3.org/TR/2017/CR-css-backgrounds-3-20171017/">https://www.w3.org/TR/2017/CR-css-backgrounds-3-20171017/</xspecref>.)
</bibl>
<bibl id="css3-color" key="CSS Color">Tantek &Ccedil;elik, Chris Lilley, and L. David Baron,
<titleref href="https://www.w3.org/TR/2018/REC-css-color-3-20180619/">CSS Color
Module Level 3</titleref>, W3C Recommendation, 19 June 2018. (See
<xspecref href="https://www.w3.org/TR/2018/REC-css-color-3-20180619/">https://www.w3.org/TR/2018/REC-css-color-3-20180619/</xspecref>.)
</bibl>
<bibl id="css-flex" key="CSS Flex">Tab Atkins, Elika Etemad, and Rossen Atanassov,
<titleref href="https://www.w3.org/TR/2018/CR-css-flexbox-1-20181119/">CSS Flexible Box Layout Module Level 1</titleref>,
W3C Candidate Recommendation, 19 November 2018.  (See
<xspecref href="https://www.w3.org/TR/2018/CR-css-flexbox-1-20181119/">https://www.w3.org/TR/2018/CR-css-flexbox-1-20181119/</xspecref>.)
</bibl>
<bibl id="css3-fonts" key="CSS Fonts">John Daggett, Myles Maxfield, and Chris Lilley,
<titleref href="https://www.w3.org/TR/2018/REC-css-fonts-3-20180920/">CSS Fonts Module Level 3</titleref>,
W3C Recommendation, 20 September 2018. (See
<xspecref href="https://www.w3.org/TR/2018/REC-css-fonts-3-20180920/">https://www.w3.org/TR/2018/REC-css-fonts-3-20180920/</xspecref>.)
</bibl>
<bibl id="css3-frag" key="CSS Fragmentation">Rossen Atanassov and Elika Etemad,
<titleref href="https://www.w3.org/TR/2018/CR-css-break-3-20181204/">CSS Fragmentation Module Level 3</titleref>,
W3C Candidate Recommendation, 04 December 2018.  (See
<xspecref href="https://www.w3.org/TR/2018/CR-css-break-3-20181204/">https://www.w3.org/TR/2018/CR-css-break-3-20181204/</xspecref>.)
</bibl>
<bibl id="cssruby" key="CSS Ruby">Elika Etemad and Koji Ishii,
<titleref href="https://www.w3.org/TR/2014/WD-css-ruby-1-20140805/">CSS Ruby Layout Module Level 1</titleref>,
W3C Working Draft, 05 August 2014. (See
<xspecref href="https://www.w3.org/TR/2014/WD-css-ruby-1-20140805/">https://www.w3.org/TR/2014/WD-css-ruby-1-20140805/</xspecref>.)
</bibl>
<bibl id="css3-text" key="CSS Text">Elika Etamad, Koji Ishii, and Florian Rivoal
<titleref href="https://www.w3.org/TR/2019/WD-css-text-3-20191113/">CSS Text Module Level 3</titleref>,
W3C Working Draft, 13 November 2019. (See
<xspecref href="https://www.w3.org/TR/2019/WD-css-text-3-20191113/">https://www.w3.org/TR/2019/WD-css-text-3-20191113/</xspecref>.)
</bibl>
<bibl id="css3-decoration" key="CSS Text Decoration">Elika Etamad and Koji Ishii,
<titleref href="https://www.w3.org/TR/2019/CR-css-text-decor-3-20190813/">CSS Text Decoration Module Level 3</titleref>,
W3C Candidate Recommendation, 13 August 2019. (See
<xspecref href="https://www.w3.org/TR/2019/CR-css-text-decor-3-20190813/">https://www.w3.org/TR/2019/CR-css-text-decor-3-20190813/</xspecref>.)
</bibl>
<bibl id="css-transform" key="CSS Transforms">Simon Fraser, Dean Jackson, Theresa O&apos;Connor, and Dirk Schulze,
<titleref href="https://www.w3.org/TR/2019/CR-css-transforms-1-20190214/">CSS Transforms Module Level 1</titleref>,
W3C Candidate Recommendation, 14 February 2019. (See
<xspecref href="https://www.w3.org/TR/2019/CR-css-transforms-1-20190214/">https://www.w3.org/TR/2019/CR-css-transforms-1-20190214/</xspecref>.)
</bibl>
<bibl id="css3-wm" key="CSS Writing Modes">Elika Etamad and Koji Ishii,
<titleref href="https://www.w3.org/TR/2019/REC-css-writing-modes-3-20191210/">CSS Writing Modes Level 3</titleref>,
W3C Recommendation, 10 December 2019. (See
<xspecref href="https://www.w3.org/TR/2019/REC-css-writing-modes-3-20191210/">https://www.w3.org/TR/2019/REC-css-writing-modes-3-20191210/</xspecref>.)
</bibl>
<bibl id="cta608e" key="CTA-608-E">
EIA/CTA-608-E,
<titleref href="https://www.cta.org/">Line 21 Data
Services</titleref>, EIA/CTA Standard,
Consumer Technology Association (CTA).
</bibl>
<bibl id="cta708e" key="CTA-708-E">
CTA-708-D,
<titleref href="https://www.cta.org/">Digital Television (DTV) Closed Captioning</titleref>, CTA Standard,
Consumer Technology Association (CTA).
</bibl>
<bibl id="data-scheme" key="Data Scheme">L. Masinter,
<titleref
href="https://www.rfc-editor.org/rfc/rfc2397.txt">The "data" URL Scheme</titleref>,
RFC 2397, August 1998, IETF. (See
<xspecref href="https://www.rfc-editor.org/rfc/rfc2397.txt">https://www.rfc-editor.org/rfc/rfc2397.txt</xspecref>.)
</bibl>
<bibl id="dcmes" key="DCMES 1.1">Dublin Core Metadata Initiative,
<titleref href="https://dublincore.org/documents/dces/">Dublin Core Metadata Element Set, Version 1.1: Reference Description</titleref>. (See
<xspecref href="https://dublincore.org/documents/dces/">https://dublincore.org/documents/dces/</xspecref>.)
</bibl>
<bibl id="ebuttd" key="EBU-TT-D">EBU Tech 3380,
<titleref href="https://tech.ebu.ch/publications/tech3380">EBU-TT-D Subtitling Distribution Format, Version 1.0</titleref>,
European Broadcasting Union (EBU), March 2015.
(See <xspecref href="https://tech.ebu.ch/publications/tech3380">https://tech.ebu.ch/publications/tech3380</xspecref>.)</bibl>
<bibl id="ebuttlive" key="EBU-TT-Live">EBU Tech 3370,
<titleref href="https://tech.ebu.ch/publications/tech3370">EBU-TT Part 3 Live Subtitling Applications, Version 1.0</titleref>, European Broadcasting Union (EBU), May 2017.
(See <xspecref href="https://tech.ebu.ch/publications/tech3370">https://tech.ebu.ch/publications/tech3370</xspecref>.)</bibl>
<bibl id="DVBSS" key="DVBSS">ETSI EN 300 743,
<titleref href="https://www.etsi.org/deliver/etsi_en/300700_300799/300743/01.05.01_60/en_300743v010501p.pdf">Digital Video Broadcasting (DVB); Subtitling systems, Version 1.5.1</titleref>, ETSI, January 2014.
(See <xspecref href="https://www.etsi.org/deliver/etsi_en/300700_300799/300743/01.05.01_60/en_300743v010501p.pdf">https://www.etsi.org/deliver/etsi_en/300700_300799/300743/01.05.01_60/en_300743v010501p.pdf</xspecref>.)</bibl>
<bibl id="html" key="HTML">Anne van Kesteren, Domenic Denicola, Ian Hickson, Philip J&auml;genstedt, and Simon Pieters, Eds.,
<titleref href="https://html.spec.whatwg.org/commit-snapshots/2793ee4a461c6c39896395f1a45c269ea820c47e/">HTML Standard</titleref>,
WHATWG. Commit Snapshot (use this version or later). 22 January 2020. (See
<xspecref href="https://html.spec.whatwg.org/commit-snapshots/2793ee4a461c6c39896395f1a45c269ea820c47e/">https://html.spec.whatwg.org/commit-snapshots/2793ee4a461c6c39896395f1a45c269ea820c47e/</xspecref>.)
</bibl>
<bibl id="isobmff" key="ISOBMFF TT">ISO/IEC 14496-30,
<titleref href="https://www.iso.org/">Information technology &ndash; Coding of audio-visual objects &ndash; Part 30: Timed text and other visual overlays in ISO base media file format</titleref>, 
International Organization for Standardization (ISO).</bibl>
<bibl id="bt2100_1" key="ITU BT.2100-1">Recommendation ITU-R BT.2100-1,
<titleref
href="https://www.itu.int/rec/R-REC-BT.2100">Image parameter values for high dynamic range television for use in production and international programme exchange</titleref>
</bibl>
<bibl id="dash" key="MPEG DASH">ISO/IEC 23009-1,
<titleref href="https://www.iso.org/">Information technology &ndash; Dynamic adaptive streaming over HTTP (DASH)</titleref>,
International Organization for Standardization (ISO).</bibl>
<bibl id="mpeg7-5" key="MPEG7-5">
ISO/IEC 15938-5,
<titleref
href="https://www.iso.org/">Information technology &ndash; Multimedia content description
interface &ndash; Part 5: Multimedia description schemes</titleref>,
International Organization for Standardization (ISO).
</bibl>
<bibl id="nsoriginal" key="NSOriginal">Tim Bray, et al.
<titleref href="https://www.w3.org/TR/1999/REC-xml-names-19990114/">Namespaces
in XML</titleref>, W3C Recommendation, 14 January 1999. (See
<xspecref href="https://www.w3.org/TR/1999/REC-xml-names-19990114/">https://www.w3.org/TR/1999/REC-xml-names-19990114/</xspecref>.)
</bibl>
<bibl id="nsstate" key="NSState">Norman Walsh, Ed.,
<titleref
href="https://www.w3.org/2001/tag/doc/namespaceState-2006-01-09.html">The Disposition
of Names in an XML Namespace</titleref>, TAG Finding, 9 January 2006. (See
<xspecref href="https://www.w3.org/2001/tag/doc/namespaceState-2006-01-09.html">https://www.w3.org/2001/tag/doc/namespaceState-2006-01-09</xspecref>.)
</bibl>
<bibl id="off" key="OFF">ISO/IEC 14496-22,
<titleref href="https://www.iso.org/">Information technology &ndash; Coding of audio-visual objects &ndash; Part 22: Open Font Format</titleref>, 
International Organization for Standardization (ISO).
<note role="seealso"><p>For a publicly available, free of charge version of this specification, see
<xspecref href="https://standards.iso.org/ittf/PubliclyAvailableStandards/c066391_ISO_IEC_14496-22_2015.zip">https://standards.iso.org/ittf/PubliclyAvailableStandards/c066391_ISO_IEC_14496-22_2015.zip</xspecref>. For the Microsoft version of the related OpenType Specification, see
<xspecref href="https://docs.microsoft.com/en-us/typography/opentype/spec/">https://docs.microsoft.com/en-us/typography/opentype/spec/</xspecref>.
OpenType is a registered trademark of Microsoft Corporation.</p></note>
</bibl>
<bibl id="png-hdr-pq" key="PQ PNG">Pierre-Anthony Lemieux,
<titleref
href="https://www.w3.org/TR/png-hdr-pq/">Using the ITU BT.2100 PQ EOTF with the PNG Format</titleref>,
W3C Working Group Note, 11 September 2017. (See
<xspecref href="https://www.w3.org/TR/png-hdr-pq/">https://www.w3.org/TR/png-hdr-pq/</xspecref>.)
</bibl>
<bibl id="qaf-sg" key="QAF SG">Karl Dubost, et al.,
<titleref
href="https://www.w3.org/TR/2005/REC-qaframe-spec-20050817/">QA
Framework: Specifications Guidelines</titleref>, W3C Recommendation, 17
August 2005. (See
<xspecref href="https://www.w3.org/TR/qaframe-spec/">https://www.w3.org/TR/qaframe-spec/</xspecref>.)
</bibl>
<bibl id="smiththreed" key="SMITH">Smith, Michael D.; Malia, Jason, <titleref
href="https://ieeexplore.ieee.org/document/7269419/">Controlling Miniaturization in Stereoscopic 3D Imagery</titleref>, in Motion Imaging Journal, SMPTE , vol.124, no.3, pp.50-58, April 2015 doi: 10.5594/m001513.
</bibl>
<bibl id="smpte2052-11" key="SMPTE RP 2052-11:2013">SMPTE RP 2052-11:2013,
<titleref
href="https://ieeexplore.ieee.org/document/7290363/">Conversion from CTA-708 Caption Data to SMPTE-TT</titleref>,
SMPTE Recommended Practice.
</bibl>
<bibl id="smpte170m" key="SMPTE ST 170">SMPTE ST 170:2004, 
<titleref
href="https://ieeexplore.ieee.org/document/7291416/">Television &ndash; Composite Analog Video
Signal &ndash; NTSC for Studio Applications</titleref>, SMPTE Standard.
</bibl>
<bibl id="smpte2052-1" key="SMPTE ST 2052-1">SMPTE ST 2052-1:2013,
<titleref
href="https://ieeexplore.ieee.org/document/7291854/">Timed Text Format (SMPTE-TT)</titleref>,
SMPTE Standard.
</bibl>
<bibl id="ssml" key="SSML 1.0">Daniel Burnett, et al.,
<titleref href="https://www.w3.org/TR/2004/REC-speech-synthesis-20040907/">Speech Synthesis Markup Language
(SSML) Version 1.0</titleref>,
W3C Recommendation, 7 September 2004. (See
<xspecref href="https://www.w3.org/TR/2004/REC-speech-synthesis-20040907/">https://www.w3.org/TR/2004/REC-speech-synthesis-20040907/</xspecref>.)
</bibl>
<bibl id="ttaf1-req" key="TTAF1-REQ">Glenn Adams, Ed.,
<titleref href="https://www.w3.org/TR/2006/NOTE-ttaf1-req-20060427/">Timed Text (TT) Authoring Format 1.0 Use
Cases and Requirements</titleref>,
W3C Working Group Note, 27 April 2006. (See
<xspecref
href="https://www.w3.org/TR/2006/NOTE-ttaf1-req-20060427/">https://www.w3.org/TR/2006/NOTE-ttaf1-req-20060427/</xspecref>.)
</bibl>
<bibl id="webaudio" key="WEBAUDIO">Paul Adenot, Raymond Toy, Eds.,
<titleref href="https://www.w3.org/TR/2018/CR-webaudio-20180918/">Web
Web Audio API</titleref>, W3C Candidate Recommendation, 18 September 2018. (See
<xspecref href="https://www.w3.org/TR/2018/CR-webaudio-20180918/">https://www.w3.org/TR/2018/CR-webaudio-20180918/</xspecref>.)
</bibl>
<bibl id="xhtml10" key="XHTML 1.0">Steven Pemberton, et al.,
<titleref
href="https://www.w3.org/TR/2002/REC-xhtml1-20020801/">XHTML&trade; 1.0,
The Extensible Hypertext Markup Language (Second Edition)</titleref>,
W3C Recommendation, 01
August 2002. (See
<xspecref href="https://www.w3.org/TR/2002/REC-xhtml1-20020801/">https://www.w3.org/TR/2002/REC-xhtml1-20020801/</xspecref>.)
</bibl>
<bibl id="xml-guidelines" key="XML Guidelines">Scott Hollenbeck, et al.,
<titleref href="https://www.rfc-editor.org/rfc/rfc3470.txt">Guidelines for the use of Extensible Markup Language (XML)
within IETF Protocols</titleref>,
RFC 3470, January 2003, IETF. (See <xspecref href="https://www.rfc-editor.org/rfc/rfc3470.txt">https://www.rfc-editor.org/rfc/rfc3470.txt</xspecref>.)
</bibl>
<bibl id="xml-media" key="XML Media Types">Makato Murata, Simon St. Laurent,
Kan Khon, Eds., <titleref
href="https://www.rfc-editor.org/rfc/rfc3023.txt">XML Media Types</titleref>,
RFC 3023, January 2001, IETF. (See
<xspecref
href="https://www.rfc-editor.org/rfc/rfc3023.txt">https://www.rfc-editor.org/rfc/rfc3023.txt</xspecref>.)
</bibl>
<bibl id="cie-xyz" key="XYZ">ISO 11664-1:2007,
<titleref href="https://www.iso.org/standard/52495.html">Joint ISO/CIE Standard: Colorimetry Part 1. CIE Standard Colorimetric Observers</titleref>,
International Organization for Standardization (ISO). 
(See <xspecref href="https://www.iso.org/standard/52495.html">https://www.iso.org/standard/52495.html</xspecref>.)
</bibl>
<bibl id="xproc" key="XPROC">Norman Walsh, Alex Milowski, Henry S. Thompson, Eds.,
<titleref href="https://www.w3.org/TR/xproc/">XProc: An XML Pipeline Language</titleref>,
W3C Recommendation, 11 May 2010. 
(See <xspecref href="https://www.w3.org/TR/xproc/">https://www.w3.org/TR/xproc/</xspecref>.)
</bibl>
<bibl id="xslt3" key="XSLT3">XSL Transformations (XSLT) Version 3.0,
<titleref href="https://www.w3.org/TR/xslt-30/">Michael Kay, Ed.</titleref>,
W3C Recommendation 8 June 2017. 
(See <xspecref href="https://www.w3.org/TR/xslt-30/">https://www.w3.org/TR/xslt-30/</xspecref>.)
</bibl>
<bibl id="finger" key="FINGER">Nick Doty, Ed., <titleref
href="https://www.w3.org/TR/2019/NOTE-fingerprinting-guidance-20190328/">Mitigating Browser Fingerprinting in Web Specifications</titleref>,
W3C Interest Group Note, 28 March 2019. (See
<xspecref href="https://www.w3.org/TR/2019/NOTE-fingerprinting-guidance-20190328/">https://www.w3.org/TR/2019/NOTE-fingerprinting-guidance-20190328/</xspecref>.)
</bibl>
</blist>
</inform-div1>
<inform-div1 id="requirements">
<head>Requirements</head>
<p>The Timed Text Markup Language (TTML), also known as the Distribution Format Exchange Profile (DFXP) of the Timed Text Authoring
Format (TTAF), satisfies a subset of the requirements established by
<bibref ref="ttaf1-req"/>. The following table enumerates these requirements and
indicates the extent to which they are satisfied by this specification, where
<emph>S</emph> denotes a requirement is satisfied, <emph>P</emph> denotes
a requirement is partially satisfied, and <emph>N</emph> denotes a
requirement is not satisfied.</p>
<table id="requirements-table" role="common">
<caption>Table M-1 &ndash; Requirement Satisfaction</caption>
<col css="width: 10%;"/>
<col css="width: 40%;"/>
<col css="width: 10%;"/>
<col/>
<tbody>
<tr>
<th>ID</th>
<th>Name</th>
<th>Status</th>
<th>Comments</th>
</tr>
<tr>
<td>R100</td>
<td>Specification Format</td>
<td>S</td>
<td/>
</tr>
<tr>
<td>R101</td>
<td>Specification Modularity</td>
<td>S</td>
<td/>
</tr>
<tr>
<td>R102</td>
<td>Specification Organization</td>
<td>S</td>
<td/>
</tr>
<tr>
<td>R103</td>
<td>Core and Periphery</td>
<td>S</td>
<td>TT extension namespaces</td>
</tr>
<tr>
<td>R104</td>
<td>Evolution of Core</td>
<td>S</td>
<td>TT extension namespaces</td>
</tr>
<tr>
<td>R105</td>
<td>Ownership of Core</td>
<td>S</td>
<td>TT Namespaces</td>
</tr>
<tr>
<td>R106</td>
<td>Surjection of Core</td>
<td>S</td>
<td/>
</tr>
<tr>
<td>R107</td>
<td>Evolution of Periphery</td>
<td>S</td>
<td>TT extension namespaces</td>
</tr>
<tr>
<td>R108</td>
<td>Ownership of Periphery</td>
<td>S</td>
<td>Non-TT Namespaces</td>
</tr>
<tr>
<td>R109</td>
<td>Transformation</td>
<td>S</td>
<td>Supports 3GPP, QText, RealText, SAMI</td>
</tr>
<tr>
<td>R110</td>
<td>Streamable Transformation</td>
<td>S</td>
<td>Progressive decoding</td>
</tr>
<tr>
<td>R111</td>
<td>Accessibility &ndash; Content</td>
<td>S</td>
<td>Alternative document instances</td>
</tr>
<tr>
<td>R112</td>
<td>Accessibility &ndash; Authoring System</td>
<td>S</td>
<td/>
</tr>
<tr>
<td>R200</td>
<td>Authorability</td>
<td>S</td>
<td/>
</tr>
<tr>
<td>R201</td>
<td>Multiple Natural Languages</td>
<td>S</td>
<td>Alternative document instances</td>
</tr>
<tr>
<td>R202</td>
<td>Natural Language Coverage</td>
<td>S</td>
<td>Unicode 4.0</td>
</tr>
<tr>
<td>R203</td>
<td>Natural Language Association Granularity</td>
<td>S</td>
<td>See <code>xml:lang</code></td>
</tr>
<tr>
<td>R204</td>
<td>Minimum Character Representability</td>
<td>S</td>
<td>Unicode 4.0</td>
</tr>
<tr>
<td>R205</td>
<td>Intrinsic and Extrinsic Text Content</td>
<td>P</td>
<td>Intrinsic only</td>
</tr>
<tr>
<td>R206</td>
<td>Markup Association</td>
<td>P</td>
<td>Intrinsic only</td>
</tr>
<tr>
<td>R207</td>
<td>Conditional Content</td>
<td>S</td>
<td>See <code>condition</code></td>
</tr>
<tr>
<td>R208</td>
<td>Flowed Text</td>
<td>S</td>
<td/>
</tr>
<tr>
<td>R209</td>
<td>Logical Flowed Text Vocabulary</td>
<td>S</td>
<td/>
</tr>
<tr>
<td>R210</td>
<td>Presentational Flowed Text Vocabulary</td>
<td>S</td>
<td>Implied mapping from logical flowed text.</td>
</tr>
<tr>
<td>R211</td>
<td>Flowed Text Vocabulary Relationship</td>
<td>S</td>
<td/>
</tr>
<tr>
<td>R212</td>
<td>Flowed Text Vocabulary Separation</td>
<td>N</td>
<td/>
</tr>
<tr>
<td>R213</td>
<td>Non-Flowed Text</td>
<td>N</td>
<td/>
</tr>
<tr>
<td>R214</td>
<td>Non-Flowed Text Vocabulary</td>
<td>N</td>
<td/>
</tr>
<tr>
<td>R215</td>
<td>Hybrid Flowed and Non-Flowed Text</td>
<td>N</td>
<td/>
</tr>
<tr>
<td>R216</td>
<td>Hyperlinking</td>
<td>S</td>
<td>See <code>xlink</code></td>
</tr>
<tr>
<td>R217</td>
<td>Embedded Graphics</td>
<td>P</td>
<td>See <code>image</code> and Note 1 below.</td>
</tr>
<tr>
<td>R218</td>
<td>Non-Embedded Graphics</td>
<td>S</td>
<td>See <code>image</code></td>
</tr>
<tr>
<td>R219</td>
<td>Embedded Fonts</td>
<td>S</td>
<td>See <code>font</code></td>
</tr>
<tr>
<td>R220</td>
<td>Non-Embedded Fonts</td>
<td>S</td>
<td>See <code>font</code></td>
</tr>
<tr>
<td>R221</td>
<td>Descriptive Vocabulary</td>
<td>S</td>
<td>See <code>ttm:agent</code>, <code>ttm:role</code></td>
</tr>
<tr>
<td>R222</td>
<td>Embedded Audio</td>
<td>S</td>
<td>See <code>audio</code></td>
</tr>
<tr>
<td>R223</td>
<td>Non-Embedded Audio</td>
<td>S</td>
<td>See <code>audio</code></td>
</tr>
<tr>
<td>R290</td>
<td>Markup Format</td>
<td>S</td>
<td/>
</tr>
<tr>
<td>R291</td>
<td>Markup Format and Unicode Interaction</td>
<td>S</td>
<td/>
</tr>
<tr>
<td>R292</td>
<td>Extrinsic Resource References</td>
<td>S</td>
<td>See <code>xlink</code></td>
</tr>
<tr>
<td>R293</td>
<td>Schema Validity Specification</td>
<td>S</td>
<td/>
</tr>
<tr>
<td>R300</td>
<td>Inline Styling</td>
<td>S</td>
<td/>
</tr>
<tr>
<td>R301</td>
<td>Inline Styling Form</td>
<td>P</td>
<td>Inline and referential styling</td>
</tr>
<tr>
<td>R302</td>
<td>Out-of-Line Styling</td>
<td>N</td>
<td/>
</tr>
<tr>
<td>R303</td>
<td>Out-of-Line Styling Form</td>
<td>N</td>
<td/>
</tr>
<tr>
<td>R304</td>
<td>Styling Prioritization</td>
<td>S</td>
<td/>
</tr>
<tr>
<td>R305</td>
<td>Style Parameters &ndash; Aural</td>
<td>P</td>
<td>See
<code>tta:gain</code>,
<code>tta:pan</code>,
<code>tta:pitch</code>
and
<code>tta:speak</code>.</td>
</tr>
<tr>
<td>R306</td>
<td>Style Parameters &ndash; Visual</td>
<td>P</td>
<td>Supports
absolute position,
background color,
bidirectional treatment, 
block progression dimension,
border (before,  after,  start, end),
color,
display none,
display inline block,
display alignment,
font family,
font size,
font style,
font weight,
height,
inline progression dimension, 
line height,
line wrapping option,
opacity,
origin,
overflow,
padding (before, after, start, end),
relative position,
text alignment,
text decoration,
text shadow,
visibility,
white space collapse,
white space treatment,
width,
writing mode,
z-index</td>
</tr>
<tr>
<td>R390</td>
<td>Style Parameter Symmetry</td>
<td>S</td>
<td/>
</tr>
<tr>
<td>R391</td>
<td>Style Parameter Definitions</td>
<td>S</td>
<td/>
</tr>
<tr>
<td>R392</td>
<td>Style Parameter Shorthands</td>
<td>S</td>
<td/>
</tr>
<tr>
<td>R401</td>
<td>Inline Timing</td>
<td>S</td>
<td/>
</tr>
<tr>
<td>R402</td>
<td>Out-of-Line Timing</td>
<td>N</td>
<td/>
</tr>
<tr>
<td>R403</td>
<td>Synchronization Parameters</td>
<td>P</td>
<td>Supports begin, end, dur</td>
</tr>
<tr>
<td>R404</td>
<td>Synchronization Parameter Value Spaces</td>
<td>P</td>
<td>Supports offset values, media marker values (SMPTE 12M), wall-clock values</td>
</tr>
<tr>
<td>R405</td>
<td>Time Containment Semantics</td>
<td>P</td>
<td>Supports sequential, parallel</td>
</tr>
<tr>
<td>R500</td>
<td>Animation Modes</td>
<td>S</td>
<td>See <code>animate</code>, <code>animation</code> and <code>set</code></td>
</tr>
<tr>
<td>R501</td>
<td>Scroll Animation</td>
<td>N</td>
<td/>
</tr>
<tr>
<td>R502</td>
<td>Highlight Animation</td>
<td>S</td>
<td><code>&lt;set tts:backgroundColor="..."/&gt;</code></td>
</tr>
<tr>
<td>R503</td>
<td>Fade Transition Animation</td>
<td>S</td>
<td><code>&lt;animate tts:opacity="..."/&gt;</code></td>
</tr>
<tr>
<td>R504</td>
<td>Animated Style Parameters &ndash; Aural</td>
<td>P</td>
<td>
<code>&lt;animate tta:pan="..."/&gt;</code>
, also applied to
<code>tta:gain</code>
, <code>tta:pitch</code>
and
<code>tta:speak</code></td>
</tr>
<tr>
 <td>R505</td>
<td>Animated Style Parameters &ndash; Visual</td>
<td>P</td>
<td>Supports animating
background color,
border color,
color,
display,
opacity,
origin,
visibility</td>
</tr>
<tr>
<td>N506</td>
<td>Animated Content</td>
<td>S</td>
<td/>
</tr>
<tr>
<td>R600</td>
<td>Metadata Item Association</td>
<td>S</td>
<td>See <code>metadata</code>, <loc href="#element-vocab-group-metadata"><code>Metadata.class</code></loc></td>
</tr>
<tr>
<td>R601</td>
<td>Metadata Item Constituents</td>
<td>P</td>
<td>Supports name, value</td>
</tr>
<tr>
<td>R602</td>
<td>Metadata Item Value Representation</td>
<td>P</td>
<td>See <code>metadata</code></td>
</tr>
<tr>
<td>R603</td>
<td>Metadata Item Extensibility</td>
<td>S</td>
<td>See <code>metadata</code> and <code>ttm:item</code></td>
</tr>
<tr>
<td>R604</td>
<td>Metadata Item Validation</td>
<td>S</td>
<td>See <code>metadata</code></td>
</tr>
<tr>
<td>R690</td>
<td>Dublin Core Preference</td>
<td>N</td>
<td>Uses <code>ttm:copyright</code>, <code>ttm:desc</code>, <code>ttm:title</code> and 
generic <code>ttm:item</code></td>
</tr>
</tbody>
</table>
<note>
<olist>
<item><p>R217 includes a sub-requirement as pertains to the presence of original text; however, this specification does not place restrictions
on authorial usage, so this sub-requirement has been ruled out of scope.</p></item>
</olist>
</note>
</inform-div1>
<inform-div1 id="derivation">
<head>Vocabulary Derivation</head>
<p>This appendix provides information about the derivation of TTML
vocabulary, separately describing derivation of elements and
attributes.</p>
<div2 id="element-derivation">
<head>Element Derivation</head>
<p>The first column of <specref ref="element-vocab-derivation-table"/>
specifies a TTML element vocabulary item; the second column specifies the
syntactic and (or) semantic model on which the vocabulary item is based;
the third column specifies the reference that defines
the model (if a model is indicated);
the fourth column specifies details about the derivation; the last
column refers to additional notes describing the nature of the
derivation.</p>
<p>In the fourth column, which describes details of derivation, a
notation is use to indicate the addition or removal of an attribute.
For example, in the derivation of the <el>tt:div</el> element, the
details column includes "-@class", which denotes that the
<att>class</att> attribute that is specified for use with the
<el>xhtml:div</el> model element is not specified for use with the
corresponding TTML element; in contrast, the details column includes
"+@begin", which denotes that a <att>begin</att> attribute is added
that is not specified for use with the <el>xhtml:div</el> model
element.</p>
<table id="element-vocab-derivation-table" role="common">
<caption>Table N-1 &ndash; Elements</caption>
<col css="width: 20%;"/>
<col css="width: 17%;"/>
<col css="width: 13%; text-align: center;"/>
<col css="width: 40%;"/>
<col css="width: 10%; text-align: center;"/>
<tbody>
<tr>
<td><phrase role="strong">Element</phrase></td>
<td><phrase role="strong">Model</phrase></td>
<td><phrase role="strong">Reference</phrase></td>
<td><phrase role="strong">Details</phrase></td>
<td><phrase role="strong">Notes</phrase></td>
</tr>
<tr>
<td><loc href="#animation-vocabulary-animate"><code>tt:animate</code></loc></td>
<td><code>svg:animate</code></td>
<td><bibref ref="svg11"/></td>
<td>-@* except begin, calcMode, dur, end, fill, keySplines, keyTimes, repeatCount; +style, +@tts:*, +@xml:id</td>
<td>3,6</td>
</tr>
<tr>
<td><loc href="#animation-vocabulary-animation"><code>tt:animation</code></loc></td>
<td><code>tt:styling</code></td>
<td><bibref ref="ttml1"/></td>
<td>conceptual derivation</td>
<td>4,12</td>
</tr>
<tr>
<td><loc href="#embedded-content-vocabulary-audio"><code>tt:audio</code></loc></td>
<td><code>audio</code></td>
<td><bibref ref="html"/></td>
<td>-@accesskey, -@autoplay, -@class, -@contenteditable, -@controls,
-@crossorigin, -@dir, -@draggable, -@hidden, -@id, -@lang, -@loop,
-@muted, -@preload, -@spellcheck, -@tabindex, -@title, -@translate;
+@animate, +@begin, +@clipBegin, +@clipEnd, +@condition, +@dur, +@end,
+@format, +@style, +@timeContainer, +@type, +@tta:*, +@tts:*, +@ttm:*,
+@xml:id, +@xml:lang, +@xml:space</td>
<td>2,3</td>
</tr>
<tr>
<td><loc href="#document-structure-vocabulary-body"><code>tt:body</code></loc></td>
<td><code>xhtml:body</code></td>
<td><bibref ref="xhtml10"/></td>
<td>-@class, -@dir, -@lang, -@on*, -@title; +@begin, +@dur, +@end, +@region,
+@timeContainer, +@ttm:*, +@tts:*; content model
subsetted to zero or more division (div) children, and supersetted by
optional metadata and animation children</td>
<td>1,2</td>
</tr>
<tr>
<td><loc href="#content-vocabulary-br"><code>tt:br</code></loc></td>
<td><code>xhtml:br</code></td>
<td><bibref ref="xhtml10"/></td>
<td>-@class, -@title; +@ttm:*, +@tts:*, +@xml:lang, +@xml:space;
content model supersetted by
optional metadata and animation children for congruity with other
content vocabulary</td>
<td>1,2</td>
</tr>
<tr>
<td><loc href="#embedded-content-vocabulary-chunk"><code>tt:chunk</code></loc></td>
<td><emph>none</emph></td>
<td><bibref ref="data-scheme"/>, <bibref ref="data-encodings"/></td>
<td>conceptual derivation</td>
<td>4</td>
</tr>
<tr>
<td><loc href="#embedded-content-vocabulary-data"><code>tt:data</code></loc></td>
<td><emph>none</emph></td>
<td><bibref ref="data-scheme"/>, <bibref ref="data-encodings"/></td>
<td>conceptual derivation</td>
<td>4</td>
</tr>
<tr>
<td><loc href="#content-vocabulary-div"><code>tt:div</code></loc></td>
<td><code>xhtml:div</code></td>
<td><bibref ref="xhtml10"/></td>
<td>-@class, -@dir, -@lang, -@on*, -@title; +@begin, +@dur, +@end, +@region,
+@timeContainer, +@ttm:*, +@tts:*, +@xml:space; content model
subsetted to zero or more paragraph (p) children, and supersetted by
optional metadata and animation children</td>
<td>1,2,3</td>
</tr>
<tr>
<td><loc href="#embedded-content-vocabulary-font"><code>tt:font</code></loc></td>
<td><emph>none</emph></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><loc href="#document-structure-vocabulary-head"><code>tt:head</code></loc></td>
<td><code>xhtml:head</code></td>
<td><bibref ref="xhtml10"/></td>
<td>-@dir, -@lang, -@profile; +@id, +@xml:space; content model changed to
optional metadata children, followed by optional styling child,
followed by optional layout child</td>
<td>1,3</td>
</tr>
<tr>
<td><loc href="#embedded-content-vocabulary-image"><code>tt:image</code></loc></td>
<td><code>img</code></td>
<td><bibref ref="html"/></td>
<td>-@accesskey, -@alt, -@class, -@contenteditable, -@crossorigin, -@dir,
-@draggable, -@height, -@hidden, -@id, -@ismap, -@lang, -@longdesc
-@referrerpolicy -@sizes, -@spellcheck, -@srcset, -@tabindex, -@title,
-@translate; -@usemap, -@width; +@animate, +@begin, +@condition,
+@dur, +@end, +@format, +@region, +@timeContainer, +@type, +@tta:*,
+@tts:*, +@ttm:*, +@xlink:href, +@xlink:role, +@xlink:show,
+@xlink:title, +@xml:id, +@xml:lang, +@xml:space</td>
<td>2,3</td>
</tr>
<tr>
<td><loc href="#embedded-content-vocabulary-font"><code>tt:initial</code></loc></td>
<td><emph>none</emph></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><loc href="#layout-vocabulary-layout"><code>tt:layout</code></loc></td>
<td><code>fo:simple-page-master</code></td>
<td><bibref ref="xslfo11"/></td>
<td>conceptual derivation</td>
<td>4</td>
</tr>
<tr>
<td><loc href="#metadata-vocabulary-metadata"><code>tt:metadata</code></loc></td>
<td><code>svg:metadata</code></td>
<td><bibref ref="svg11"/></td>
<td>+@ttm:*, +@xml:lang, +@xml:space; content model
is not mixed (no #PCDATA)</td>
<td>3</td>
</tr>
<tr>
<td><loc href="#content-vocabulary-p"><code>tt:p</code></loc></td>
<td><code>xhtml:p</code></td>
<td><bibref ref="xhtml10"/></td>
<td>-@class, -@dir, -@lang, -@on*, -@title; +@begin, +@dur, +@end, +@region,
+@timeContainer, +@ttm:*, +@tts:*, +@xml:space; content model
subsetted to zero or more span children, and supersetted by optional
metadata and animation children</td>
<td>1,2,3</td>
</tr>
<tr>
<td><loc href="#layout-vocabulary-region"><code>tt:region</code></loc></td>
<td><code>fo:region-*</code></td>
<td><bibref ref="xslfo11"/></td>
<td>conceptual derivation</td>
<td>4</td>
</tr>
<tr>
<td><loc href="#embedded-content-vocabulary-resources"><code>tt:resources</code></loc></td>
<td><code>svg:defs</code></td>
<td></td>
<td>conceptual derivation</td>
<td>4</td>
</tr>
<tr>
<td><loc href="#animation-vocabulary-set"><code>tt:set</code></loc></td>
<td><code>svg:set</code></td>
<td><bibref ref="svg11"/></td>
<td>-@* except begin, dur, end; +@tts:*, +@xml:lang, +@xml:space</td>
<td>3,6</td>
</tr>
<tr>
<td><loc href="#embedded-content-vocabulary-source"><code>tt:source</code></loc></td>
<td><code>source</code></td>
<td><bibref ref="html"/></td>
<td>-@media, @srcset, @sizes; +@condition, @format, @xml:space</td>
<td>3</td>
</tr>
<tr>
<td><loc href="#content-vocabulary-span"><code>tt:span</code></loc></td>
<td><code>xhtml:span</code></td>
<td><bibref ref="xhtml10"/></td>
<td>-@class, -@dir, -@lang, -@on*, -@title; +@begin, +@dur, +@end, +@region,
+@timeContainer, +@ttm:*, +@tts:*, +@xml:space; content model
subsetted to zero or more #PCDATA or break (br) children, and
supersetted by optional metadata and animation children</td>
<td>1,2,3</td>
</tr>
<tr>
<td><loc href="#styling-vocabulary-style"><code>tt:style</code></loc></td>
<td><emph>style specification</emph></td>
<td><bibref ref="css2"/></td>
<td>XML representation of identified set of pairs of style property
name and value, with optional inclusion of other styles by reference
to other style elements</td>
<td>7</td>
</tr>
<tr>
<td><loc href="#styling-vocabulary-styling"><code>tt:styling</code></loc></td>
<td><code>xhtml:style</code></td>
<td><bibref ref="xhtml10"/></td>
<td>XML representation of a set of style specifications sets, each
represented by a style child element</td>
<td>1,7</td>
</tr>
<tr>
<td><loc href="#document-structure-vocabulary-tt"><code>tt:tt</code></loc></td>
<td><code>xhtml:html</code></td>
<td><bibref ref="xhtml10"/></td>
<td>-@dir, -@lang; +@id, +@ttp:*, +@xml:space; content model subsetted by
permitting body and (or) head to be optional</td>
<td>1,8</td>
</tr>
<tr>
<td><loc href="#metadata-vocabulary-actor"><code>ttm:actor</code></loc></td>
<td><code>mpeg7:Creator</code></td>
<td><bibref ref="mpeg7-5"/></td>
<td>conceptual derivation</td>
<td>4</td>
</tr>
<tr>
<td><loc href="#metadata-vocabulary-agent"><code>ttm:agent</code></loc></td>
<td><code>mpeg7:Agent</code></td>
<td><bibref ref="mpeg7-5"/></td>
<td>conceptual derivation</td>
<td>4</td>
</tr>
<tr>
<td><loc href="#metadata-vocabulary-copyright"><code>ttm:copyright</code></loc></td>
<td><code>mpeg7:CopyrightString</code></td>
<td><bibref ref="mpeg7-5"/></td>
<td>conceptual derivation</td>
<td>4</td>
</tr>
<tr>
<td><loc href="#metadata-vocabulary-desc"><code>ttm:desc</code></loc></td>
<td><code>svg:desc</code></td>
<td><bibref ref="svg11"/></td>
<td>-@class, -@style</td>
<td>2,9</td>
</tr>
<tr>
<td><loc href="#metadata-vocabulary-item"><code>ttm:item</code></loc></td>
<td><code>meta</code></td>
<td><bibref ref="html"/></td>
<td>conceptual derivation</td>
<td>4</td>
</tr>
<tr>
<td><loc href="#metadata-vocabulary-name"><code>ttm:name</code></loc></td>
<td><code>mpeg7:Name</code></td>
<td><bibref ref="mpeg7-5"/></td>
<td>conceptual derivation</td>
<td>4</td>
</tr>
<tr>
<td><loc href="#metadata-vocabulary-title"><code>ttm:title</code></loc></td>
<td><code>svg:title</code></td>
<td><bibref ref="svg11"/></td>
<td>-@class, -@style</td>
<td>2,9</td>
</tr>
<tr>
<td><loc href="#profile-vocabulary-extension"><code>ttp:extension</code></loc></td>
<td><code>@requiredExtensions</code></td>
<td><bibref ref="svg11"/></td>
<td>conceptual derivation</td>
<td>10</td>
</tr>
<tr>
<td><loc href="#profile-vocabulary-extensions"><code>ttp:extensions</code></loc></td>
<td><code>@requiredExtensions</code></td>
<td><bibref ref="svg11"/></td>
<td>conceptual derivation</td>
<td>10</td>
</tr>
<tr>
<td><loc href="#profile-vocabulary-feature"><code>ttp:feature</code></loc></td>
<td><code>@requiredFeatures</code></td>
<td><bibref ref="svg11"/></td>
<td>conceptual derivation</td>
<td>10</td>
</tr>
<tr>
<td><loc href="#profile-vocabulary-features"><code>ttp:features</code></loc></td>
<td><code>@requiredFeatures</code></td>
<td><bibref ref="svg11"/></td>
<td>conceptual derivation</td>
<td>10</td>
</tr>
<tr>
<td><loc href="#profile-vocabulary-profile"><code>ttp:profile</code></loc></td>
<td><code>@baseProfile</code></td>
<td><bibref ref="svg11"/></td>
<td>conceptual derivation</td>
<td>11</td>
</tr>
</tbody>
</table>
<note>
<olist>
<item>
<p>Derivation is indicated with respect to the strict DTD defined
by <bibref ref="xhtml10"/>, &sect;A.1.</p>
</item>
<item>
<p>The <att>class</att> attribute is effectively replaced by the
<att>style</att>
attribute, which, instead of specifying an inline style,
refers indirectly to one or more <loc
href="#styling-vocabulary-style"><el>style</el></loc>
elements that define a set of style specification sets.</p>
</item>
<item>
<p>The <att>xml:lang</att> and <att>xml:space</att> attributes are defined for all element
types in order to support their inheritance semantics to operate in
the context of foreign namespace elements.</p>
</item>
<item>
<p>Derivation is conceptual (notional) only.</p>
</item>
<item>
<p><emph>deleted</emph></p>
</item>
<item>
<p>The <att>attributeName</att> and <att>to</att> attributes of
<el>svg:set</el> are replaced by the
direct expression of the target attribute name and value by use of a
<att>tts:*</att> attribute.</p>
</item>
<item>
<p>CSS style specification syntax is mapped to XML by use of
attributes defined in the TT Style Namespace.</p>
</item>
<item>
<p>The <att>xml:id</att> attribute is defined for use on all element types.</p>
</item>
<item>
<p>The <att>style</att> attribute is supported on the
element types enumerated in <specref ref="style-attribute-style"/>.</p>
</item>
<item>
<p>Derived from the use of <code>@requiredExtensions</code>
and <code>@requiredFeatures</code> on the <code>svg:svg</code> element,
but extended to support distinct specification of optionality.</p>
</item>
<item>
<p>Derived from the use of <code>@baseProfile</code>
and <code>@version</code> on the <code>svg:svg</code> element.</p>
</item>
<item>
<p>Conceptually derived from existing <el>tt:styling</el> element,
which is a generic container for styling specifications, but for use
in defining animation specifications.</p>
</item>
</olist>
</note>
</div2>
<div2 id="attribute-derivation">
<head>Attribute Derivation</head>
<p>The first column of <specref ref="attribute-vocab-derivation-table"/>
specifies a TTML attribute vocabulary item; the second column specifies the
syntactic and (or) semantic model on which the vocabulary item is based;
the third column specifies the reference that defines
the model (if a model is indicated);
the fourth column specifies details about the derivation; the last
column refers to additional notes describing the nature of the
derivation.</p>
<p>In the fourth column, which describes details of derivation, a
notation is use to indicate the addition or removal of an attribute
value.  For example, in the derivation of the <att>timeContainer</att>
attribute,
the details column includes "-excl", which denotes that the
<code>excl</code> value that is specified for use with the
<att>timeContainer</att> model attribute is not specified for use with the
corresponding TTML attribute; similarly, a "+<emph>value</emph>"
in the details column indicates that the attribute&apos;s values have been
extended to include <emph>value</emph>.</p>
<p>Only those attributes that are specified for use on more than one TTML
element type are listed below. Those per-element namespace attributes
that are uniquely defined for a specific TTML element type are not
listed below, but are considered to be part of the specific element
type&apos;s derivation described in <specref
ref="element-vocab-derivation-table"/>
above.</p>
<p>Style attribute derivations are listed separately below.</p>
<p></p>
<table id="attribute-vocab-derivation-table" role="common">
<caption>Table N-2 &ndash; Attributes</caption>
<col css="width: 20%;"/>
<col css="width: 17%;"/>
<col css="width: 13%; text-align: center;"/>
<col css="width: 40%;"/>
<col css="width: 10%; text-align: center;"/>
<tbody>
<tr>
<td><phrase role="strong">Attribute</phrase></td>
<td><phrase role="strong">Model</phrase></td>
<td><phrase role="strong">Reference</phrase></td>
<td><phrase role="strong">Details</phrase></td>
<td><phrase role="strong">Notes</phrase></td>
</tr>
<tr>
<td><loc href="#timing-attribute-begin"><code>begin</code></loc></td>
<td><code>begin</code></td>
<td><bibref ref="smil3"/></td>
<td>see notes</td>
<td>1,2,3</td>
</tr>
<tr>
<td><loc href="#timing-attribute-dur"><code>dur</code></loc></td>
<td><code>dur</code></td>
<td><bibref ref="smil3"/></td>
<td>see notes</td>
<td>1,2,3</td>
</tr>
<tr>
<td><loc href="#timing-attribute-end"><code>end</code></loc></td>
<td><code>end</code></td>
<td><bibref ref="smil3"/></td>
<td>see notes</td>
<td>1,2,3</td>
</tr>
<tr>
<td><loc href="#layout-attribute-region"><code>region</code></loc></td>
<td><code>master-reference</code></td>
<td><bibref ref="xslfo11"/></td>
<td>conceptual derivation</td>
<td></td>
</tr>
<tr>
<td><loc href="#style-attribute-style"><code>style</code></loc></td>
<td><code>class</code></td>
<td><bibref ref="css2"/></td>
<td>dereferences style specification(s) directly</td>
<td></td>
</tr>
<tr>
<td><loc href="#timing-attribute-timeContainer"><code>timeContainer</code></loc></td>
<td><code>timeContainer</code></td>
<td><bibref ref="smil3"/></td>
<td>
-<code>excl</code>,
-<code>none</code>;
no default attribute value
</td>
<td>4</td>
</tr>
<tr>
<td><loc href="#metadata-attribute-agent"><code>ttm:agent</code></loc></td>
<td><emph>none</emph></td>
<td></td>
<td>used to attribute agent of content</td>
<td></td>
</tr>
<tr>
<td><loc href="#metadata-attribute-role"><code>ttm:role</code></loc></td>
<td><emph>none</emph></td>
<td></td>
<td>used to attribute role of content</td>
<td></td>
</tr>
<tr>
<td><loc href="#parameter-attribute-cellResolution"><code>ttp:cellResolution</code></loc></td>
<td><emph>none</emph></td>
<td></td>
<td>expresses uniform grid resolution for cell based coordinates</td>
<td></td>
</tr>
<tr>
<td><loc href="#parameter-attribute-clockMode"><code>ttp:clockMode</code></loc></td>
<td><emph>none</emph></td>
<td></td>
<td>determines how to interpret time expressions</td>
<td></td>
</tr>
<tr>
<td><loc href="#parameter-attribute-frameRate"><code>ttp:frameRate</code></loc></td>
<td><emph>none</emph></td>
<td></td>
<td>expresses integral frame rate</td>
<td></td>
</tr>
<tr>
<td><loc href="#parameter-attribute-frameRateMultiplier"><code>ttp:frameRateMultiplier</code></loc></td>
<td><emph>none</emph></td>
<td></td>
<td>used to express non-integral, rational frame rates</td>
<td></td>
</tr>
<tr>
<td><loc href="#parameter-attribute-markerMode"><code>ttp:markerMode</code></loc></td>
<td><emph>none</emph></td>
<td></td>
<td>expresses marker continuity semantics</td>
<td></td>
</tr>
<tr>
<td><loc href="#parameter-attribute-pixelAspectRatio"><code>ttp:pixelAspectRatio</code></loc></td>
<td><emph>none</emph></td>
<td></td>
<td>expresses pixel aspect ratio of root container</td>
<td></td>
</tr>
<tr>
<td><loc href="#profile-attribute-profile"><code>ttp:profile</code></loc></td>
<td><emph>none</emph></td>
<td></td>
<td>expresses profile of TTML used by a <loc href="#terms-document-instance">document instance</loc></td>
<td></td>
</tr>
<tr>
<td><loc href="#parameter-attribute-dropMode"><code>ttp:dropMode</code></loc></td>
<td><emph>none</emph></td>
<td></td>
<td>expresses frame counting (drop) modes</td>
<td></td>
</tr>
<tr>
<td><loc href="#parameter-attribute-subFrameRate"><code>ttp:subFrameRate</code></loc></td>
<td><emph>none</emph></td>
<td></td>
<td>expresses sub-frame rate</td>
<td></td>
</tr>
<tr>
<td><loc href="#parameter-attribute-tickRate"><code>ttp:tickRate</code></loc></td>
<td><emph>none</emph></td>
<td></td>
<td>used to interpret tick based time expressions</td>
<td></td>
</tr>
<tr>
<td><loc href="#parameter-attribute-timeBase"><code>ttp:timeBase</code></loc></td>
<td><emph>none</emph></td>
<td></td>
<td>used to interpret semantics of time expressions</td>
<td></td>
</tr>
<tr>
<td><loc href="#content-attribute-xml-id"><code>xml:id</code></loc></td>
<td><code>xml:id</code></td>
<td><bibref ref="xmlid"/></td>
<td>complies with model</td>
<td></td>
</tr>
<tr>
<td><loc href="#content-attribute-xml-lang"><code>xml:lang</code></loc></td>
<td><code>xml:lang</code></td>
<td><bibref ref="xml10"/></td>
<td>complies with model</td>
<td></td>
</tr>
<tr>
<td><loc href="#content-attribute-xml-space"><code>xml:space</code></loc></td>
<td><code>xml:space</code></td>
<td><bibref ref="xml10"/></td>
<td>see notes</td>
<td>5</td>
</tr>
</tbody>
</table>
<note>
<olist>
<item>
<p>Restricted to expressing a clock value that denotes one of the
following in accordance to whether the parameter expressed by the
<att>ttp:timeBase</att> attribute is <code>media</code>, <code>smpte</code>,
or <code>clock</code>, respectively:
(1) an offset from an implicit syncbase that is linked to a media time
line, (2) an event time
that represents the occurrence of an implicit media marker, or (3) a wall-clock
time.</p>
</item>
<item>
<p>Syntactically subsets and supersets the <bibref
ref="smil3"/> <code>Clock-value</code> syntax as follows:
(1) requires non-negative <code>Full-clock-value</code> or
<code>Timecount-value</code>;
(2) if <code>Full-clock-value</code>
then <emph>hours</emph> must be two or more digits;
(3) if <code>Timecount-value</code>, then <emph>metric</emph> must be
specified;
(4) uses <code>m</code> as alias for <code>min</code> metric to denote
minutes;
(5) adds <code>f</code> and <code>t</code> metrics denoting frames and
ticks, respectively;
(6) adds alternative expression of optional <code>Fraction</code> in
<code>Full-clock-value</code> by specifying frame count or frame
count with subframe count.
</p>
</item>
<item>
<p>
Interpretation of time expression is further constrained by
parameters expressed by
<att>ttp:clockMode</att>,
<att>ttp:dropMode</att>,
<att>ttp:frameRate</att>,
<att>ttp:frameRateMultiplier</att>,
<att>ttp:markerMode</att>,
<att>ttp:subFrameRate</att>,
<att>ttp:tickRate</att>, and
<att>ttp:timeBase</att> attributes.</p>
</item>
<item>
<p>If not specified, then parallel (par) container semantics apply to
the element types specified by <specref
ref="timing-attribute-timeContainer"/>.</p>
</item>
<item>
<p>On root element, default attribute value specified as
<code>default</code>, which is defined in terms of whitespace
normalization. Semantics of preservation and default normalization are
defined in terms of presentation semantics by <specref
ref="content-attribute-xml-space"/>.</p>
</item>
</olist>
</note>
<div3 id="style-attribute-derivation">
<head>Style Attribute derivation</head>
<p>This section lists references from which each style attribute was derived or
can be considered an equivalent, with any differences relative to the referenced
source. It can be used as an informative reference for mapping TTML style attributes to
equivalent CSS properties, and where available, to XSL properties. Other mappings
are possible, for example to <bibref ref="svg11"/>.</p>
<p>The CSS equivalence assumes that each <loc href="#terms-intermediate-synchronic-document">Intermediate Synchronic Document</loc>
is mapped to an equivalent <bibref ref="html"/> DOM structure whose elements are given the stated style properties.</p>
<note>
<p>In TTML, style attribute names and values are normalized to use
<emph>lowerCamelCase</emph> naming convention.</p>
</note>
<div4 id="derivation-backgroundClip">
<head><loc href="#style-attribute-backgroundClip">tts:backgroundClip</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 80%;"/>
<tbody>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="css3-bb"/>, &sect;3.7</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>background-clip</code></td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>Values map directly.</td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>None</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-backgroundColor">
<head><loc href="#style-attribute-backgroundColor">tts:backgroundColor</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 40%;"/>
<col css="width: 40%;"/>
<tbody>
<tr>
<td/>
<td><phrase role="strong">XSL derivation</phrase></td>
<td><phrase role="strong">CSS derivation</phrase></td>
</tr>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="xslfo11"/>, &sect;7.8.2</td>
<td><bibref ref="css2"/>, &sect;14.2.1</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>background-color</code></td>
<td><code>background-color</code></td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>-<code>inherit</code></td>
<td>Values map directly</td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>Uses subset of named colors from model to which two aliases are
added as follows: <code>magenta</code> as <code>fuchsia</code>, and <code>cyan</code>
as <code>aqua</code>.</td>
<td>Uses subset of named colors from model to which two aliases are
added as follows: <code>magenta</code> as <code>fuchsia</code>, and <code>cyan</code>
as <code>aqua</code>. The named color <code>orange</code> is not supported.
</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-backgroundExtent">
<head><loc href="#style-attribute-backgroundExtent">tts:backgroundExtent</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 80%;"/>
<tbody>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="css3-bb"/>, &sect;3.9</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>background-size</code></td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>Values map directly</td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>None</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-backgroundImage">
<head><loc href="#style-attribute-backgroundImage">tts:backgroundImage</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 40%;"/>
<col css="width: 40%;"/>
<tbody>
<tr>
<td/>
<td><phrase role="strong">XSL derivation</phrase></td>
<td><phrase role="strong">CSS derivation</phrase></td>
</tr>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="xslfo11"/>, &sect;7.8.3</td>
<td><bibref ref="css2"/>, &sect;14.2.1</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>background-image</code></td>
<td><code>background-image</code></td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>-<code>inherit</code></td>
<td>-<code>inherit</code></td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>None</td>
<td>None</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-backgroundOrigin">
<head><loc href="#style-attribute-backgroundOrigin">tts:backgroundOrigin</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 80%;"/>
<tbody>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="css3-bb"/>, &sect;3.8</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>background-origin</code></td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>Values map directly</td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>None</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-backgroundPosition">
<head><loc href="#style-attribute-backgroundPosition">tts:backgroundPosition</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 80%;"/>
<tbody>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="css2"/>, &sect;14.2</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>background-position</code></td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>Values map directly</td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>None</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-backgroundRepeat">
<head><loc href="#style-attribute-backgroundRepeat">tts:backgroundRepeat</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 40%;"/>
<col css="width: 40%;"/>
<tbody>
<tr>
<td/>
<td><phrase role="strong">XSL derivation</phrase></td>
<td><phrase role="strong">CSS derivation</phrase></td>
</tr>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="xslfo11"/>, &sect;7.8.4</td>
<td><bibref ref="css2"/>, &sect;14.2.1</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>background-repeat</code></td>
<td><code>background-repeat</code></td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td><ulist>
<item><p>-<code>inherit</code>,</p></item>
<item><p><code>repeatX</code> maps to <code>repeat-x</code>,</p></item>
<item><p><code>repeatY</code> maps to <code>repeat-y</code>,</p></item>
<item><p><code>noRepeat</code> maps to <code>no-repeat</code>.</p></item>
</ulist>
</td>
<td><ulist>
<item><p>-<code>inherit</code>,</p></item>
<item><p><code>repeatX</code> maps to <code>repeat-x</code>,</p></item>
<item><p><code>repeatY</code> maps to <code>repeat-y</code>,</p></item>
<item><p><code>noRepeat</code> maps to <code>no-repeat</code>.</p></item>
</ulist> 
</td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>None</td>
<td>None</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-border">
<head><loc href="#style-attribute-border">tts:border</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 80%;"/>
<tbody>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="xslfo11"/>, &sect;7.31.3, and <bibref ref="css3-bb"/>, &sect;4 and &sect;5</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>border</code></td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>-<code>inherit</code></td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>None</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-bpd">
<head><loc href="#style-attribute-bpd">tts:bpd</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 80%;"/>
<tbody>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><att>height</att> property defined by <bibref ref="xslfo11"/>,
&sect;7.15.6 and <bibref ref="css2"/>, &sect;10.5</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td>insert model</td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>Values map directly</td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>None</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-color">
<head><loc href="#style-attribute-color">tts:color</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 40%;"/>
<col css="width: 40%;"/>
<tbody>
<tr>
<td/>
<td><phrase role="strong">XSL derivation</phrase></td>
<td><phrase role="strong">CSS derivation</phrase></td>
</tr>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="xslfo11"/>, &sect;7.18.1</td>
<td><bibref ref="css2"/>, &sect;14.1</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>color</code></td>
<td><code>color</code></td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>-<code>inherit</code></td>
<td>-<code>inherit</code></td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>Uses subset of named colors from model to which two aliases are
added as follows: <code>magenta</code> as <code>fuchsia</code>, and <code>cyan</code>
as <code>aqua</code>.</td>
<td>Uses subset of named colors from model to which two aliases are
added as follows: <code>magenta</code> as <code>fuchsia</code>, and <code>cyan</code>
as <code>aqua</code>. The named color <code>orange</code> is not supported.</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-direction">
<head><loc href="#style-attribute-direction">tts:direction</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 40%;"/>
<col css="width: 40%;"/>
<tbody>
<tr>
<td/>
<td><phrase role="strong">XSL derivation</phrase></td>
<td><phrase role="strong">CSS derivation</phrase></td>
</tr>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="xslfo11"/>, &sect;7.29.1</td>
<td><bibref ref="css3-wm"/>, &sect;2.1</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>direction</code></td>
<td><code>direction</code></td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>-<code>inherit</code>. <loc href="#style-attribute-direction-special-semantics">Special inheritance semantics</loc> apply.</td>
<td><loc href="#style-attribute-direction-special-semantics">Special inheritance semantics</loc> apply.</td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>None`</td>
<td>None`</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-disparity">
<head><loc href="#style-attribute-disparity">tts:disparity</loc></head>
<p>No derivation, i.e., introduced in this specification.</p>
<note role="elaboration"><p>The computed value of <code>tts:disparity</code> is equivalent to half the
disparity shift value defined in <bibref ref="DVBSS"/>.</p></note>
</div4>
<div4 id="derivation-display">
<head><loc href="#style-attribute-display">tts:display</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 80%;"/>
<tbody>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="css2"/>, &sect;9.2.4</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>display</code></td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>only <code>auto</code>, <code>none</code></td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>None</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-displayAlign">
<head><loc href="#style-attribute-displayAlign">tts:displayAlign</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 40%;"/>
<col css="width: 40%;"/>
<tbody>
<tr>
<td/>
<td><phrase role="strong">XSL derivation</phrase></td>
<td><phrase role="strong">CSS derivation</phrase></td>
</tr>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="xslfo11"/>, &sect;7.14.4</td>
<td><bibref ref="css-flex"/>, &sect;8.2</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>display-align</code></td>
<td><code>justify-content</code> (see Notes below)</td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>-<code>inherit</code>, +<code>justify</code></td>
<td><ulist>
<item><p><code>before</code> maps to <code>flex-start</code></p></item>
<item><p><code>center</code> maps to <code>center</code></p></item>
<item><p><code>after</code> maps to <code>flex-end</code></p></item>
<item><p><code>justify</code> maps to <code>space-between</code></p></item>
</ulist></td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>None</td>
<td>CSS offers a variety of layouts; one such layout that provides equivalent semantics to the
<code>tts:displayAlign</code> attribute is described here:
<ulist>
<item><p>Use a flex layout, setting the main axis to vertical top to bottom: 
<code>display: flex; flex-direction: column; position: absolute;</code></p></item>
<item><p>Map <code>tts:displayAlign</code> to <code>justify-content</code>.</p></item>
</ulist>
</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-extent">
<head><loc href="#style-attribute-extent">tts:extent</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 80%;"/>
<tbody>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="xslfo11"/>, &sect;7.15.6 and &sect;7.15.14</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>width</code>, <code>height</code></td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>Values map directly</td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>shorthand property</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-fontFamily">
<head><loc href="#style-attribute-fontFamily">tts:fontFamily</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 40%;"/>
<col css="width: 40%;"/>
<tbody>
<tr>
<td/>
<td><phrase role="strong">XSL derivation</phrase></td>
<td><phrase role="strong">CSS derivation</phrase></td>
</tr>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="xslfo11"/>, &sect;7.9.2</td>
<td><bibref ref="css2"/>, &sect;15.3</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>font-family</code></td>
<td><code>font-family</code></td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>-<code>inherit</code>. Subsets and extends generic family names</td>
<td>-<code>inherit</code>. Subsets and extends generic family names</td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>May include white space around list delimiters as in CSS.</td>
<td>None</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-fontKerning">
<head><loc href="#style-attribute-fontKerning">tts:fontKerning</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 80%;"/>
<tbody>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="css3-fonts"/>, &sect;6.3</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>font-kerning</code></td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>-<code>auto</code></td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>None</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-fontSelectionStrategy">
<head><loc href="#style-attribute-fontSelectionStrategy">tts:fontSelectionStrategy</loc></head>
<p></p>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 80%;"/>
<tbody>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="xslfo11"/>, &sect;7.9.3.</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>font-selection-strategy</code></td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>-<code>inherit</code>, <code>character</code> maps to <code>character-by-character</code></td>
</tr>
<tr>
<td><phrase role="strong">Selection criteria is expanded.</phrase></td>
<td>None.</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-fontShear">
<head><loc href="#style-attribute-fontShear">tts:fontShear</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 80%;"/>
<tbody>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="css-transform"/>, &sect;9.1</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>skewX()</code> and <code>skewY()</code> 2D transform functions</td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td><ulist>
<item><p><code>skewX()</code> applies when the inline progression dimension is the X axis;</p></item>
<item><p><code>skewY()</code> applies when the inline progression dimension is the Y axis;</p></item>
<item><p>Percentage values must be mapped to angles in degrees.</p></item>
</ulist></td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>Similar transformation functions are available in <bibref ref="svg11"/></td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-fontSize">
<head><loc href="#style-attribute-fontSize">tts:fontSize</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 40%;"/>
<col css="width: 40%;"/>
<tbody>
<tr>
<td/>
<td><phrase role="strong">XSL derivation</phrase></td>
<td><phrase role="strong">CSS derivation</phrase></td>
</tr>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="xslfo11"/>, &sect;7.9.4.</td>
<td><bibref ref="css2"/>, &sect;15.7.</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>font-size</code></td>
<td><code>font-size</code></td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>-<code>inherit</code>, -<code>&lt;absolute-size&gt;</code>,
-<code>&lt;relative-size&gt;</code>.</td>
<td>-<code>inherit</code>, -<code>&lt;absolute-size&gt;</code>,
-<code>&lt;relative-size&gt;</code>.
</td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>
<ulist>
<item><p><loc href="#style-attribute-fontSize-special-semantics">Special inheritance semantics</loc> apply.</p></item>
<item><p>Restricts size to length specification which can be a percentage;</p></item>
<item><p>adds optional second length (or percentage) for
specifying separate horizontal and vertical scaling of glyph&apos;s EM
square;</p></item>
<item><p>The addition of a second length <loc href="#terms-component">component</loc> to permit specifying font
width and height independently is an extension introduced by TTML.</p></item>
</ulist>
</td>
<td><ulist>
<item><p><loc href="#style-attribute-fontSize-special-semantics">Special inheritance semantics</loc> apply.</p></item>
<item><p>Restricts size to length specification which can be a percentage;</p></item>
<item><p>adds optional second length (or percentage) for
specifying separate horizontal and vertical scaling of glyph&apos;s EM
square;</p></item>
<item><p>The addition of a second length <loc href="#terms-component">component</loc> to permit specifying font
width and height independently is an extension introduced by TTML.</p></item>
</ulist>
</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-fontStyle">
<head><loc href="#style-attribute-fontStyle">tts:fontStyle</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 40%;"/>
<col css="width: 40%;"/>
<tbody>
<tr>
<td/>
<td><phrase role="strong">XSL derivation</phrase></td>
<td><phrase role="strong">CSS derivation</phrase></td>
</tr>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="xslfo11"/>, &sect;7.9.7</td>
<td><bibref ref="css2"/>, &sect;15.4</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>font-style</code></td>
<td><code>font-style</code></td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>-<code>inherit</code>, -<code>backslant</code></td>
<td>-<code>inherit</code></td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>None</td>
<td>None</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-fontVariant">
<head><loc href="#style-attribute-fontVariant">tts:fontVariant</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 80%;"/>
<tbody>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="css3-fonts"/>, &sect;6.11</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>font-variant-east-asian</code> and <code>font-variant-position</code> and <code>font-feature-settings</code></td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td><ulist>
<item><p><code>font-variant-east-asian</code>: <emph>Only</emph> <code>full-width</code>, <code>ruby</code></p></item>
<item><p><code>font-variant-position</code>: <code>normal</code>, <code>sub</code>, <code>super</code></p></item>
<item><p><code>font-feature-settings</code>: <emph>Only</emph> <code>hwid</code></p></item>
</ulist>
</td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>None</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-fontWeight">
<head><loc href="#style-attribute-fontWeight">tts:fontWeight</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 40%;"/>
<col css="width: 40%;"/>
<tbody>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="xslfo11"/>, &sect;7.9.9</td>
<td><bibref ref="css2"/>, &sect;15.6</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>font-weight</code></td>
<td><code>font-weight</code></td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>-<code>inherit</code>, -<code>bolder</code>, -<code>lighter</code>, -<code>&lt;number&gt;</code></td>
<td>-<code>inherit</code>, -<code>initial</code>, -<code>bolder</code>,
-<code>lighter</code>, -<code>&lt;number&gt;</code>, -<code>unset</code></td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>None</td>
<td>None</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-ipd">
<head><loc href="#style-attribute-ipd">tts:ipd</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 80%;"/>
<tbody>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td>The <att>width</att> property defined by <bibref ref="xslfo11"/>,
&sect;7.15.14 and <bibref ref="css2"/>, &sect;10.2</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td>insert model</td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>insert values</td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>insert notes</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-letterSpacing">
<head><loc href="#style-attribute-letterSpacing">tts:letterSpacing</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 80%;"/>
<tbody>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="css3-text"/>, &sect;8.2</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>letter-spacing</code></td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>Values map directly</td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>None</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-lineHeight">
<head><loc href="#style-attribute-lineHeight">tts:lineHeight</loc></head>
<p>The line stacking semantic is intended to match the CSS line box stacking strategy.</p>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 40%;"/>
<col css="width: 40%;"/>
<tbody>
<tr>
<td/>
<td><phrase role="strong">XSL derivation</phrase></td>
<td><phrase role="strong">CSS derivation</phrase></td>
</tr>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="xslfo11"/>, &sect;7.16.4</td>
<td><bibref ref="css2"/>, &sect;10.8</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>line-height</code></td>
<td><code>line-height</code></td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>
-<code>inherit</code>, -<code>&lt;number&gt;</code>, -<code>&lt;space&gt;</code>
</td>
<td>
-<code>inherit</code>, -<code>&lt;number&gt;</code>, -<code>&lt;space&gt;</code>,
-<code>calc</code>, -<code>initial</code>, -<code>unset</code>
</td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>It is the intention of this specification that the
allocation rectangle of a line be consistent with the <phrase role="strong">per-inline-height-rectangle</phrase>
as defined by <bibref ref="xslfo11"/>, &sect;4.5, i.e., that a CSS-style line box stacking strategy be used.</td>
<td>None</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-luminanceGain">
<head><loc href="#style-attribute-luminanceGain">tts:luminanceGain</loc></head>
<p>No derivation, i.e., introduced in this specification.</p>
</div4>
<div4 id="derivation-lineShear">
<head><loc href="#style-attribute-lineShear">tts:lineShear</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 80%;"/>
<tbody>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="css-transform"/>, &sect;9.1</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>skewX()</code> and <code>skewY()</code> 2D transform functions</td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td><ulist>
<item><p><code>skewX()</code> applies when the inline progression dimension is the X axis;</p></item>
<item><p><code>skewY()</code> applies when the inline progression dimension is the Y axis;</p></item>
<item><p>Percentage values must be mapped to angles in degrees.</p></item>
</ulist></td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>Similar transformation functions are available in <bibref ref="svg11"/></td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-opacity">
<head><loc href="#style-attribute-opacity">tts:opacity</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 80%;"/>
<tbody>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="css3-color"/>, &sect;3.2</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>opacity</code></td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>-<code>inherit</code></td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>None</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-origin">
<head><loc href="#style-attribute-origin">tts:origin</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 80%;"/>
<tbody>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="xslfo11"/></td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>top</code>, <code>left</code></td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>Values map directly</td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>shorthand property</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-overflow">
<head><loc href="#style-attribute-overflow">tts:overflow</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 40%;"/>
<col css="width: 40%;"/>
<tbody>
<tr>
<td/>
<td><phrase role="strong">XSL derivation</phrase></td>
<td><phrase role="strong">CSS derivation</phrase></td>
</tr>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="xslfo11"/>, &sect;7.21.2</td>
<td><bibref ref="css2"/>, &sect;11.1.1</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>overflow</code></td>
<td><code>overflow</code></td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>-<code>inherit</code>, -<code>auto</code>, -<code>error-if-overflow</code></td>
<td>-<code>inherit</code>, -<code>auto</code>, -<code>initial</code>,
-<code>scroll</code>, -<code>unset</code></td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>None</td>
<td>None</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-padding">
<head><loc href="#style-attribute-padding">tts:padding</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 40%;"/>
<col css="width: 40%;"/>
<tbody>
<tr>
<td/>
<td><phrase role="strong">XSL derivation</phrase></td>
<td><phrase role="strong">CSS derivation</phrase></td>
</tr>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="xslfo11"/>, &sect;7.31.15</td>
<td><bibref ref="css2"/>, &sect;8.4</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>padding</code></td>
<td><code>padding</code></td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>-<code>inherit</code>. Individual shorthand values map to 
writing mode relative padding values as defined by <bibref ref="xslfo11"/>, &sect;7.8.31,
7.8.32, 7.8.33, and 7.8.34</td>
<td>-<code>calc</code>, -<code>inherit</code>, -<code>unset</code>
</td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>Expressed in terms of writing mode relative padding properties
rather than absolute padding properties.</td>
<td>
TTML and XSL edge descriptors map to abstract flow
relative edge descriptors as defined by <bibref ref="css3-wm"/>, &sect;6.2:
<ulist>
<item><p><code>before</code> maps to <code>block-start</code></p></item>
<item><p><code>end</code> maps to <code>inline-end</code></p></item>
<item><p><code>after</code> maps to <code>block-end</code></p></item>
<item><p><code>start</code> maps to <code>inline-start</code></p></item>
</ulist>
Those abstract edge descriptors are in turn mapped to physical edges as defined in
<bibref ref="css3-wm"/> &sect;6.4.
</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-position">
<head><loc href="#style-attribute-position">tts:position</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 80%;"/>
<tbody>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="css3-bb"/>, &sect;3.6</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>background-position</code></td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>Values map directly</td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>None</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-ruby">
<head><loc href="#style-attribute-ruby">tts:ruby</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 80%;"/>
<tbody>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="ruby"/> and <bibref ref="cssruby"/>.</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>ruby-*</code></td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>See notes and specification text.</td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>See also
<bibref ref="jlreq"/>, &sect;3.3, for further information. May alternatively be mapped to
<bibref ref="html"/> ruby markup.</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-rubyAlign">
<head><loc href="#style-attribute-rubyAlign">tts:rubyAlign</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 80%;"/>
<tbody>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="cssruby"/>, &sect;4.3</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>ruby-align</code></td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>+<code>end</code>, +<code>withBase</code>. 
The semantics of this style attribute are extended by this specification.</td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>The examples and example renderings shown in the reference apply.</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-rubyPosition">
<head><loc href="#style-attribute-rubyPosition">tts:rubyPosition</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 80%;"/>
<tbody>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="cssruby"/>, &sect;4.1</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td>insert model</td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>insert values</td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>The examples and example renderings shown in the reference apply modulo the mappings
defined in this specification.</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-rubyReserve">
<head><loc href="#style-attribute-rubyReserve">tts:rubyReserve</loc></head>
<p>No derivation, i.e., introduced in this specification.</p>
</div4>
<div4 id="derivation-shear">
<head><loc href="#style-attribute-shear">tts:shear</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 80%;"/>
<tbody>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="css-transform"/>, &sect;9.1</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>skewX()</code> and <code>skewY()</code> 2D transform functions</td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td><ulist>
<item><p><code>skewX()</code> applies when the inline progression dimension is the X axis;</p></item>
<item><p><code>skewY()</code> applies when the inline progression dimension is the Y axis;</p></item>
<item><p>Percentage values must be mapped to angles in degrees.</p></item>
</ulist></td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>Similar transformation functions are available in <bibref ref="svg11"/></td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-showBackground">
<head><loc href="#style-attribute-showBackground">tts:showBackground</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 80%;"/>
<tbody>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="smil3"/>, &sect;7.4.2</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>showBackground</code></td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>-<code>inherit</code></td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>None</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-textAlign">
<head><loc href="#style-attribute-textAlign">tts:textAlign</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 40%;"/>
<col css="width: 40%;"/>
<tbody>
<tr>
<td/>
<td><phrase role="strong">XSL derivation</phrase></td>
<td><phrase role="strong">CSS derivation</phrase></td>
</tr>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="xslfo11"/>, &sect;7.16.9</td>
<td><bibref ref="css2"/>, &sect;16.2</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>text-align</code></td>
<td><code>text-align</code></td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>-<code>inherit</code></td>
<td>-<code>inherit</code>, +<code>start</code>, +<code>end</code></td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td><code>text-align-last</code> must be set to "relative"</td>
<td>TTML adds the writing mode dependent values <code>start</code> and <code>end</code>
which may be considered as abstract flow-relative directions and mapped to physical directions
according to <bibref ref="css3-wm"/> &sect;6.4. See 
<loc href="#derivation-padding">tts:padding CSS derivation</loc> for further
details.</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-textCombine">
<head><loc href="#style-attribute-textCombine">tts:textCombine</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 80%;"/>
<tbody>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="css3-wm"/>, &sect;9.1</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>text-combine-upright</code></td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>Values map directly</td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>None</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-textDecoration">
<head><loc href="#style-attribute-textDecoration">tts:textDecoration</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 40%;"/>
<col css="width: 40%;"/>
<tbody>
<tr>
<td/>
<td><phrase role="strong">XSL derivation</phrase></td>
<td><phrase role="strong">CSS derivation</phrase></td>
</tr>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="xslfo11"/>, &sect;7.17.4</td>
<td><bibref ref="css2"/>, &sect;16.3.1</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>text-decoration</code></td>
<td><code>text-decoration</code></td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>-<code>blink</code>, -<code>inherit</code> (keyword), -<code>no-blink</code>
</td>
<td>-<code>blink</code>, -<code>inherit</code> (keyword), 
+<code>noUnderline</code>, +<code>noLineThrough</code>, +<code>noOverline</code>.
<code>lineThrough</code> maps to <code>line-through</code>.
</td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>Defined to be inheritable with 
<loc href="#style-attribute-textDecoration-special-semantics">Special inheritance semantics</loc>.</td>
<td>Defined to be inheritable with
<loc href="#style-attribute-textDecoration-special-semantics">Special inheritance semantics</loc>,
where the XSL semantics for determining the position of underlines apply. Moreover, the semantics of
the value <code>none</code> is distinct from the same named value in CSS since in TTML it is defined to
be equivalent to <code>noUnderline</code>, <code>noLineThrough</code>, and <code>noOverline</code>, none
of which are defined in CSS, and all of which have semantics that cause the removal of inherited decorations
in TTML, a capability is not (directly) supported by CSS.</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-textEmphasis">
<head><loc href="#style-attribute-textEmphasis">tts:textEmphasis</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 80%;"/>
<tbody>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="css3-decoration"/>, &sect;3</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><ulist>
<item>
<p><loc href="#style-value-emphasis-style">emphasis-style</loc> maps to <code>text-emphasis-style</code>;
</p></item>
<item><p><loc href="#style-value-emphasis-color">emphasis-color</loc> maps to <code>text-emphasis-color</code>;
</p></item>
<item><p><loc href="#style-value-emphasis-position">emphasis-position</loc> maps to <code>text-emphasis-position</code>
</p></item>
</ulist>
</td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>Except for <code>auto</code>, values map directly. The semantics of <code>auto</code> are writing mode dependent.</td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>None</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-textOrientation">
<head><loc href="#style-attribute-textOrientation">tts:textOrientation</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 80%;"/>
<tbody>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="utr50"/> and <bibref ref="css3-wm"/>, &sect;5.1</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>text-orientation</code></td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>
-<code>inherit</code>,
-<code>sideways-left</code>,
-<code>sideways-right</code>,
-<code>use-glyph-orientation</code>
</td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>None</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-textOutline">
<head><loc href="#style-attribute-textOutline">tts:textOutline</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 80%;"/>
<tbody>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="xslfo11"/></td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>text-shadow</code></td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>-<code>inherit</code> (keyword), defined to be inheritable</td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>Uses only one length specification instead of two, where one length
defines distance of outline effect from nominal edge of glyph contour
outline perpendicular to point of glyph contour. Percentage lengths
are also added to express outline effect in relative to font size.
Outline effects are intended to be drawn both outside of outer closed
contours and inside of inner closed contours.</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-textShadow">
<head><loc href="#style-attribute-textShadow">tts:textShadow</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 80%;"/>
<tbody>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="css3-decoration"/>, &sect;4</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>text-shadow</code></td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>Values map directly</td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>None</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-unicodeBidi">
<head><loc href="#style-attribute-unicodeBidi">tts:unicodeBidi</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 80%;"/>
<tbody>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="xslfo11"/>, &sect;7.29.6 and <bibref ref="css3-wm"/>, &sect;2.2</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>unicode-bidi</code></td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>-<code>inherit</code>,+<code>isolate</code></td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>Adds <code>isolate</code> from <bibref ref="css3-wm"/></td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-visibility">
<head><loc href="#style-attribute-visibility">tts:visibility</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 40%;"/>
<col css="width: 40%;"/>
<tbody>
<tr>
<td/>
<td><phrase role="strong">XSL derivation</phrase></td>
<td><phrase role="strong">CSS derivation</phrase></td>
</tr>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="xslfo11"/>, &sect;7.30.17</td>
<td><bibref ref="css2"/>, &sect;11.2</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>visibility</code></td>
<td><code>visibility</code></td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>-<code>inherit</code>, -<code>collapse</code></td>
<td>-<code>inherit</code>, -<code>collapse</code></td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>None</td>
<td>None</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-wrapOption">
<head><loc href="#style-attribute-wrapOption">tts:wrapOption</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 80%;"/>
<tbody>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="xslfo11"/>, &sect;7.16.13</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>wrap-option</code></td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>-<code>inherit</code></td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>None</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-writingMode">
<head><loc href="#style-attribute-writingMode">tts:writingMode</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 80%;"/>
<tbody>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="xslfo11"/>, &sect;7.29.7</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>writing-mode</code></td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>
-<code>inherit</code>,
-<code>bt-lr</code>,
-<code>bt-rl</code>,
-<code>lr-bt</code>,
-<code>rl-bt</code>,
-<code>lr-alternating-rl-bt</code>,
-<code>lr-alternating-rl-tb</code>,
-<code>lr-inverting-rl-bt</code>,
-<code>lr-inverting-rl-tb</code>,
-<code>tb-lr-in-lr-pairs</code>
</td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>None</td>
</tr>
</tbody>
</table>
</div4>
<div4 id="derivation-zIndex">
<head><loc href="#style-attribute-zIndex">tts:zIndex</loc></head>
<table role="common">
<col css="width: 20%;"/>
<col css="width: 40%;"/>
<col css="width: 40%;"/>
<tbody>
<tr>
<td/>
<td><phrase role="strong">XSL derivation</phrase></td>
<td><phrase role="strong">CSS derivation</phrase></td>
</tr>
<tr>
<td><phrase role="strong">Reference</phrase></td>
<td><bibref ref="xslfo11"/>, &sect;7.30.18</td>
<td><bibref ref="css2"/>, &sect;9.9.1</td>
</tr>
<tr>
<td><phrase role="strong">Model</phrase></td>
<td><code>z-index</code></td>
<td><code>z-index</code></td>
</tr>
<tr>
<td><phrase role="strong">Values</phrase></td>
<td>-<code>inherit</code></td>
<td>-<code>inherit</code></td>
</tr>
<tr>
<td><phrase role="strong">Notes</phrase></td>
<td>None</td>
<td>None</td>
</tr>
</tbody>
</table>
</div4>
</div3>
</div2>
</inform-div1>
<inform-div1 id="qa">
<head>QA Framework Compliance</head>
<p>This appendix specifies the compliance of this specification with the
requirements and guidelines defined by <xspecref
href="https://www.w3.org/TR/2005/REC-qaframe-spec-20050817/">QA
Framework Specifications Guidelines</xspecref>, <bibref
ref="qaf-sg"/>.</p>
<div2>
<head>Requirements</head>
<table id="qa-framework-requirements-table" role="common">
<caption>Table O-1 &ndash; QA Framework Requirements Checklist</caption>
<col css="width: 76%;"/>
<col css="width: 6%; text-align: center;"/>
<col css="width: 6%; text-align: center;"/>
<col css="width: 6%; text-align: center;"/>
<col css="width: 6%; text-align: center;"/>
<tbody>
<tr>
<td><phrase role="strong">Requirement</phrase></td>
<td><phrase role="strong">YES</phrase></td>
<td><phrase role="strong">NO</phrase></td>
<td><phrase role="strong">N/A</phrase></td>
<td><phrase role="strong">Notes</phrase></td>
</tr>
<tr>
<td><xspecref href="https://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#include-conformance-clause-principle">Requirement 01: Include a conformance
clause</xspecref></td>
<td><loc href="#conformance">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="https://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#define-scope-principle">Requirement 02: Define the scope.</xspecref></td>
<td><loc href="#intro">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="https://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#implement-principle">Requirement 03: Identify who or what will implement the specification.</xspecref></td>
<td><loc href="#conformance">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="https://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#ref-norm-principle">Requirement 04: Make a list of normative references.</xspecref></td>
<td><loc href="#references">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="https://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#define-terms-principle">Requirement 05: Define the terms used in the normative parts of the specification.</xspecref></td>
<td><loc href="#definitions">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="https://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#conf-label-principle">Requirement 06: Create conformance labels for each part of the conformance model.</xspecref></td>
<td><loc href="#conformance">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="https://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#consistent-style-principle">Requirement 07: Use a consistent style for conformance requirements and explain how to distinguish them.</xspecref></td>
<td><loc href="#conventions">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="https://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#req-opt-conf-principle">Requirement 08: Indicate which conformance requirements are mandatory, which are recommended, and which are optional.</xspecref></td>
<td><loc href="#conventions">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="https://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#subdivide-mandatory-principle">Requirement 09: If the technology is subdivided, then indicate which subdivisions are mandatory for conformance.</xspecref></td>
<td><loc href="#conformance">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="https://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#subdiv-constraints-principle">Requirement 10: If the technology is subdivided, then address subdivision constraints.</xspecref></td>
<td><loc href="#conformance">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="https://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#likehood-extension-principle">Requirement 11: Address Extensibility.</xspecref></td>
<td><loc href="#doctypes">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="https://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#deprecated-feature-principle">Requirement 12: Identify deprecated features.</xspecref></td>
<td><loc href="#conventions">YES</loc></td>
<td/>
<td/>
<td></td>
</tr>
<tr>
<td><xspecref href="https://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#degree-support-principle">Requirement 13: Define how each class of product handles each deprecated feature.</xspecref></td>
<td><loc href="#conventions">YES</loc></td>
<td/>
<td/>
<td></td>
</tr>
</tbody>
</table>
</div2>
<div2>
<head>Guidelines</head>
<table id="qa-framework-guidelines-table" role="common">
<caption>Table O-2 &ndash; QA Framework Guidelines Checklist</caption>
<col css="width: 76%;"/>
<col css="width: 6%; text-align: center;"/>
<col css="width: 6%; text-align: center;"/>
<col css="width: 6%; text-align: center;"/>
<col css="width: 6%; text-align: center;"/>
<tbody>
<tr>
<td><phrase role="strong">Guideline</phrase></td>
<td><phrase role="strong">YES</phrase></td>
<td><phrase role="strong">NO</phrase></td>
<td><phrase role="strong">N/A</phrase></td>
<td><phrase role="strong">Notes</phrase></td>
</tr>
<tr>
<td><xspecref href="https://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#conformance-model-gp">Good Practice 01: Define the specification&apos;s conformance model in the conformance clause.</xspecref></td>
<td><loc href="#conformance">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="https://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#norm-informative-gp">Good Practice 02: Specify in the conformance clause how to distinguish normative from informative content.</xspecref></td>
<td><loc href="#conventions">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="https://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#conformance-claim-gp">Good Practice 03: Provide the wording for conformance claims.</xspecref></td>
<td><loc href="#claims">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="https://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#ics-gp">Good Practice 04: Provide an Implementation Conformance Statement Pro Forma.</xspecref></td>
<td/>
<td>NO</td>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="https://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#ics-claim-gp">Good Practice 05: Require an Implementation Conformance Statement as part of valid conformance claims.</xspecref></td>
<td><loc href="#claims">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="https://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#use-example-gp">Good Practice 06: Provide examples, use cases, and graphics.</xspecref></td>
<td><loc href="#examples">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="https://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#write-sample-gp">Good Practice 07: Write sample code or tests.</xspecref></td>
<td>YES</td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="https://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#ref-define-practice">Good Practice 08: When imposing requirements by normative references, address conformance dependencies.</xspecref></td>
<td><loc href="#references">YES</loc></td>
<td/>
<td/>
<td>1</td>
</tr>
<tr>
<td><xspecref href="https://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#define-terms-inline-gp">Good Practice 09: Define unfamiliar terms in-line and consolidate the definitions in a glossary section.</xspecref></td>
<td><loc href="#definitions">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="https://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#reuse-terms-gp">Good Practice 10: Use terms already defined without changing their definition.</xspecref></td>
<td><loc href="#definitions">YES</loc></td>
<td/>
<td/>
<td>2</td>
</tr>
<tr>
<td><xspecref href="https://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#formal-language-gp">Good Practice 11: Use formal languages when possible.</xspecref></td>
<td><loc href="#schemas">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="https://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#write-assertion-gp">Good Practice 12: Write Test Assertions.</xspecref></td>
<td/>
<td>NO</td>
<td/>
<td>3</td>
</tr>
<tr>
<td><xspecref href="https://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#subdivide-foster-gp">Good Practice 13: Create subdivisions of the technology when warranted.</xspecref></td>
<td><loc href="#conformance">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="https://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#rules-profiles-gp">Good Practice 14: If the technology is profiled, define rules for creating new profiles.</xspecref></td>
<td><loc href="#vocabulary-profiling">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="https://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#need-option-gp">Good Practice 15:Use optional features as warranted.</xspecref></td>
<td>YES</td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="https://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#label-options-gp">Good Practice 16: Clearly identify optional features.</xspecref></td>
<td>YES</td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="https://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#constraints-gp">Good Practice 17: Indicate any limitations or constraints on optional features.</xspecref></td>
<td>YES</td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="https://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#extensions-prohibited-gp">Good Practice 18: If extensibility is allowed, define an extension mechanism.</xspecref></td>
<td><loc href="#extension-vocabulary-overview">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="https://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#breaking-conformance-gp">Good Practice 19: Warn extension creators to create extensions that do not interfere with conformance.</xspecref></td>
<td><loc href="#extension-vocabulary-overview">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
<tr>
<td><xspecref href="https://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#define-error-gp">Good Practice 20: Define error-handling for unknown extensions.</xspecref></td>
<td><loc href="#conformance-processor">YES</loc></td>
<td/>
<td/>
<td>4</td>
</tr>
<tr>
<td><xspecref href="https://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#workaround-gp">Good Practice 21: Explain how to avoid using a deprecated feature.</xspecref></td>
<td>YES</td>
<td/>
<td/>
<td></td>
</tr>
<tr>
<td><xspecref href="https://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#obsolete-gp">Good Practice 22: Identify obsolete features.</xspecref></td>
<td/>
<td/>
<td>N/A</td>
<td>5</td>
</tr>
<tr>
<td><xspecref href="https://www.w3.org/TR/2005/REC-qaframe-spec-20050817/#error-handling-gp">Good Practice 23: Define an error handling mechanism.</xspecref></td>
<td><loc href="#reduced-infoset">YES</loc></td>
<td/>
<td/>
<td/>
</tr>
</tbody>
</table>
<note>
<olist>
<item>
<p>When making normative references to external specifications,
specific clauses or sections are cited.</p>
</item>
<item>
<p>See also <specref ref="derivation"/>.</p>
</item>
<item>
<p>Test assertions and test suites will be provided prior to entering
Proposed Recommendation (PR) phase.</p>
</item>
<item>
<p>See criterion #3 in <specref
ref="conformance-processor"/> and definition of
TTML <loc href="#doctypes">Abstract Document Instance</loc>.</p>
</item>
<item>
<p>No feature is obsoleted by this version of TTML.</p>
</item>
</olist>
</note>
</div2>
</inform-div1>
<inform-div1 id="security-and-privacy">
<head>Security and Privacy Considerations</head>
<div2>
<head>Use of XML as Concrete Encoding</head>
<p>When <bibref ref="xml10"/> is used as the concrete encoding of a
<loc href="#terms-timed-text-document-instance">timed text document instance</loc>, the security
considerations specified by <bibref ref="xml-media"/> and <bibref ref="xml-guidelines"/> apply.</p>
<note role="elaboration">
<p>XML entities are not included in the <loc href="#terms-reduced-xml-infoset">reduced xml infoset</loc>
of a <loc href="#terms-timed-text-document-instance">timed text document instance</loc>; nevertheless,
implementations are encouraged to provide protection against recursive entity expansion or
prevent entity expansion altogether in a TTML processor.</p>
</note>
</div2>
<div2>
<head>Document Processing</head>
<p>A <loc href="#terms-timed-text-document-instance">timed text document instance</loc> is intended to
be processed in some manner by a <loc href="#terms-content-processor">content processor</loc>.
Although this specification defines the meaning of conformant processing of a
<loc href="#terms-timed-text-document-instance">timed text document instance</loc> by such a processor,
the actual implementation of that processor is outside the scope of this specification.</p>
</div2>
<div2>
<head>Resource Fetching</head>
<p>This specification defines mechanism that allow a <loc href="#terms-timed-text-document-instance">timed text document instance</loc>
to make reference to external resources, including audio, font, image, and untyped (generic) data resources.
The fetching of such resources as well as fetching the concrete representation of a
<loc href="#terms-timed-text-document-instance">timed text document instance</loc>
is under full control of the <loc href="#terms-content-processor">content processor</loc>. As such,
any controls designed to allow or restrict access to such resources are also outside the scope of this specification.</p>
<p> When fetching external resources, content processors should determine if performing
<phrase role="strong">create a potential-CORS request</phrase> as defined 
in <bibref ref="html"/> &sect;2.6, <emph>Fetching resources</emph>, is needed.</p>
<p>If the fetching of such resources is prevented by the <loc href="#terms-content-processor">content processor</loc>,
then the entire document or portions of the document may not be processed as intended, and, therefore, some or all of a document&apos;s
content may not be available for presentation processing.</p>
<p>A <loc href="#terms-content-processor">content processor</loc> that downloads external resources during media playback
indicates to the origin server of the resource the progress of the user&apos;s 
media consumption.
In many cases such media progress information is available to the origin server of the media via other mechanisms,
for example by scripting or by monitoring streaming media requests.
The time when such requests are made can also increase the fingerprinting surface.
For example, if the <loc href="#parameter-attribute-timeBase"><att>ttp:timeBase</att></loc> is set to <code>clock</code>,
any skew in the user's local clock could be observable by the origin server.
Additionally, if the <loc href="#parameter-attribute-clockMode"><att>clockMode</att></loc> is set to <code>local</code>,
the user's local time zone could be revealed.</p>
<p><loc href="#terms-content-processor">Content processors</loc> that do not enforce cross origin policies when downloading external resources expose such media progress information and potentially 
other user tracking information to other origins without the consent of the web site serving the media and without the consent of the user. This 
specification defines no APIs and makes no statement on how implementations are expected to obtain referenced resources.</p>
</div2>
<div2>
<head>Caching of Resources or Processing State</head>
<p>The processing of a <loc href="#terms-timed-text-document-instance">timed text document instance</loc> defined herein
does not specify or depend in any manner on the <loc href="#terms-content-processor">content processor</loc>
caching or storing any resource or processing state.</p>
</div2>
<div2>
<head>No Script Language</head>
<p>This specification does not include or make reference to the processing of any script language or executable code.</p>
</div2>
<div2>
<head>No External Style Sheets</head>
<p>This specification does not include or make reference to the processing of any external style sheet or style specification; rather,
all style information is directly integrated into the TTML document syntax, and is processed in terms of
the <loc href="#terms-reduced-xml-infoset">reduced xml infoset</loc> respresentation of this syntax.</p>
</div2>
<div2>
<head>Access to Processing State</head>
<p>A mechanism is defined herein to allow the conditional processing of content where conditional expressions
may take into account certain processing state, including a user language preference, a related media language,
whether forced captions are enabled or not, and whether a media query expression is satisfied or not.
However, direct access to this state is not provided to TTML content; rather the <loc href="#terms-content-processor">content processor</loc>
accesses this state and make a binary (yes or no) determination of whether a condition is satisfied or not.</p>
<p>If use of the <loc href="#content-attribute-condition">condition</loc> mechanism controls the selection
of external resources, and the conditions depend on user preferences or device attributes,
the origin could observe which resources are requested,
and deduce those user preferences or device attributes,
thereby increasing the fingerprinting surface .</p>
<p>The media queries supported in this specification are defined by reference to <bibref ref="media-queries"/>.
If additional media queries are added to a future version of that specification,
and are implemented in a <loc href="#terms-content-processor">content processor</loc>,
then any additional fingerprinting surface exposed by such additional queries should be noted
by content providers and implementers.</p>
</div2>
<div2>
<head>Hyperlinking Mechanisms</head>
<p>A mechanism is defined herein, based on <bibref ref="xlink11"/>, that permits an author to associate content with
external documents. Whether or not semantic support is provided for this mechanism by the
<loc href="#terms-content-processor">content processor</loc> is a determination made outside the scope of this specification.
Furthermore, the semantics of link activation, if supported, is similarly outside the scope of this specification.</p>
</div2>
<div2>
<head>Privacy of Preference</head>
<p>A <loc href="#terms-content-processor">content processor</loc> that selects and causes to download or interpret a
<loc href="#terms-timed-text-document-instance">timed text document instance</loc> might indicate to the origin server that the user
has a need for captions or subtitles, and, therefore, may indicate the language preference of the user for fetching captions or subtitles.
This language preference constitutes 
information about the user. However, the offering of a <loc href="#terms-timed-text-document-instance">timed text document instance</loc>
and the choice whether to retrieve and process it are characteristics of the application that makes the offer (e.g. a web
application based on <bibref ref="html"/>), rather than of the Document Instance itself.</p>
</div2>
<div2>
<head>Font Detection</head>
<p>By conditionally dereferencing (downloading) <loc href="#terms-font-resource">font resources</loc> based on the existence of
locally-installed <loc href="#terms-font-resource">font resources</loc>, a <loc href="#terms-content-processor">content processor</loc>
introduces a potential fingerprinting vulnerability as defined in <bibref ref="finger"/>. Existence and mitigation of such vulnerability depends on the 
<loc href="#terms-content-processor">content processor</loc> implementation and overall system architecture.</p>
<note role="example">
<p>As an example, a mitigation strategy can involve ignoring user-installed <loc href="#terms-font-resource">font resources</loc>
when choosing whether to dereference (download) <loc href="#terms-font-resource">font resources</loc>.</p>
</note>
<p>Implementations of a <loc href="#terms-content-processor">content processor</loc> in the context of a <emph>general purpose browser</emph>,
as that term is used by <bibref ref="finger"/>, should consider not dereferencing external font resources conditionally in the presence
of user-installed fonts where that dereferencing could reveal information about the user&apos;s system or fingerprint the user.</p>
</div2>
</inform-div1>
<inform-div1 id="hdr-compositing">
<head>High Dynamic Range Compositing</head>
<p>This appendix illustrates how <bibref ref="srgb"/> pixels can be composited onto high dynamic range (HDR) pixels.</p>
<div2 id="pq-hdr">
<head>Perceptual Quantizer</head>
<p>
The following illustrates the use of <loc href="#style-attribute-luminanceGain"><att>tts:luminanceGain</att></loc> to composite <bibref ref="srgb"/> pixels onto HDR pixels
that conform to the system colorimetry specified in <bibref ref="bt2100_1"/> using perceptual quantizer (PQ) EOTF and full-range quantization.
</p>
<note role="elaboration">
<p>The following example is not intended to provide generic color management and be applicable to all situations, e.g. it assumes the target compositing 
surface is 10-bit and uses full-range quantization.</p>
</note>
<olist>
<item>
<p>
Let <code>(r, g, b)</code> be a full-range 8-bit <bibref ref="srgb"/> pixel with opacity between 0 and 1.
</p>
</item>
<item>
<p>
Let <code>(R, G, B)</code> and <code>(R<sub>c</sub>, G<sub>c</sub>, B<sub>c</sub>)</code> be full-range 10-bit pixels in the system colorimetry specified in <bibref ref="bt2100_1"/> using PQ EOTF and full-range quantization, with opacity <code>A</code> and <code>A<sub>c</sub></code> between 0 and 1.
</p>
</item>
<item>
<p>
Invert the 8-bit full-range quantization:
</p><p>
<code>(r, g, b) / 255  (r, g, b)</code>
</p>
</item>
<item>
<p>
Linearize using the <bibref ref="srgb"/> reference display EOTF:
</p><p>
<code>(r<sup>2.2</sup>, g<sup>2.2</sup>, b<sup>2.2</sup>)  (r, g, b)</code>
</p>
</item>
<item>
<p>
Compute HDR absolute luminance using the <att>tts:luminanceGain</att> attribute and the <bibref ref="srgb"/> illuminant:
</p><p>
<code>80  </code><att>tts:luminanceGain</att><code>  (r, g, b)  (r, g, b)</code>
</p>
</item>
<item>
<p>
Convert from <bibref ref="srgb"/> color space to <bibref ref="bt2100_1"/> color space:
</p><p>
<code> [(0.62740389593470, 0.32928303837789, 0.04331306568741),
 (0.06909728935823, 0.91954039507545, 0.01136231556630),
 (0.01639143887515, 0.08801330787723, 0.89559525324763)]  (r, g, b)  (r, g, b)</code>
</p>
</item>
<item>
<p>
Normalize to 10,000 cdm<sup>-2</sup>:
</p><p>
<code>(r, g, b) / 10000  (r, g, b)</code>
</p>
</item>
<item>
<p>
Apply inverse PQ EOTF specified in <bibref ref="bt2100_1"/>:
</p><p>
<code>(PQ(r), PQ(g), PQ(b))  (r, g, b)</code>
</p><p>
with <code>PQ(L) = [(c1 + c2  L<sup>m1</sup>) / (1 + c3  L<sup>m1</sup>)]<sup>m2</sup></code> and <code>m1 = 0.1593017578125</code>, <code>m2 = 78.84375</code>, <code>c1 = 0.8359375</code>, <code>c2 = 18.8515625</code>, and <code>c3 = 18.6875</code>.
</p>
</item>
<item>
<p>
Apply opacity:
</p><p>
<code>(1-a)  (r, g, b)  (r, g, b)</code>
</p>
</item>
<item>
<p>
Apply 10-bit full-range quantization:
</p><p>
<code>(Q(r), Q(g), Q(b))  (r, g, b)</code>
</p><p>
where <code>Q(N) = floor(1023  N + 0.5)</code>
</p>
</item>
<item>
<p>
Apply composition to yield <code>(R<sub>c</sub>, G<sub>c</sub>, B<sub>c</sub>)</code>:
</p><p>
<code>(clamp(r + R), clamp(g + G), clamp(b + B))  (R<sub>c</sub>, G<sub>c</sub>, B<sub>c</sub>)</code>
</p><p>
<code>1 + (1 - a)  (A - 1)  A<sub>c</sub></code>
</p>
<p>where</p>
<p><code>clamp(x) = 0</code> for <code>x &lt; 0</code></p>
<p>and</p>
<p><code>clamp(x) = x</code> for <code>0  x  1023</code></p>
<p>and</p>
<p><code>clamp(x) = 1023</code> for <code>x &gt; 1023</code></p>
</item>
</olist>
</div2>
<div2 id="hlg-hdr">
<head>Hybrid Log-Gamma HDR</head>
<p>The following illustrates compositing of <bibref ref="srgb"/> pixels onto Hybrid Log-Gamma (HLG) HDR pixels.
</p>
<olist>
<item><p>Let <code>(r, g, b)</code> be a full-range 8-bit <bibref ref="srgb"/> pixel with opacity of A between 0 and 255.</p></item>
<item><p>Let <code>(R,G,B)</code> and <code>(R<sub>c</sub>,G<sub>c</sub>,B<sub>c</sub>)</code> be narrow-range 10-bit pixels in the system colorimetry specified in <bibref ref="bt2100_1"/> using HLG EOTF and narrow-range quantization. Subscript <sub>c</sub> denoting the video signal post-compositing.</p></item>
<item><p>Let <code>(X,Y,Z)</code> be pixels in the system colorimetry specified in the CIE 1931 XYZ colour space <bibref ref="cie-xyz"/> .</p></item>
<item><p>Invert the 8-bit full-range quantization:</p>
<p><code>(r, g, b)/255  (r, g, b)</code></p>
<p><code>A/255  A</code></p></item>
<item><p>Linearize using the <bibref ref="srgb"/> EOTF:</p>
<p><code>(r<sup>2.0</sup>,g<sup>2.0</sup>,b<sup>2.0</sup>)  (r,g,b)</code></p></item>
<item><p>Convert from <bibref ref="srgb"/> color space to <bibref ref="bt2100_1"/> color space:</p>
<p><code>[(0.4124, 0.3576, 0.1805),
(0.2126, 0.7152, 0.0722), (0.0193,0.1192,0.9505)](r,g,b)(X,Y,Z)</code></p>
<p><code>[(1.7167, 0.3557, 0.2534),
(0.6667, 1.6165, 0.0158), (0.0176,0.04277,0.9421)](X,Y,Z)(r,g,b)</code></p></item>
<item><p>Apply simplified inverse HLG OOTF:</p>
<p><code>((0.265r),(0.265g),(0.265b))  (r,g,b)</code></p></item>
<item><p>Apply HLG OETF specified in <bibref ref="bt2100_1"/>:</p>
<p><code>(HLG(r),HLG(g),HLG(b))  (r,g,b)</code></p>
<p>where</p><p><code>HLG(x) = (3x)<sup>0.5</sup></code> for <code>0  x  1/12</code></p><p>and</p>
<p><code>HLG(x) = aln(12xb)+c</code> for <code>x > 1/12</code>,</p>
<p>and <code>a = 0.17883277</code> and <code>b = 14a</code> and <code>c = 0.5aln(4a)</code></p></item>
<item><p>Apply 10-bit narrow-range quantization:</p>
<p><code>(Q(r),Q(g),Q(b))  (r,g,b)</code></p>
<p>where <code>Q(x) = floor((940  64)  x + 64.5)</code></p></item>
<item><p>Composite foreground graphic (r,g,b) over background video <code>(R,G,B)</code> with opacity <code>A</code> to yield <code>(R<sub>c</sub>,G<sub>c</sub>,B<sub>c</sub>)</code>:</p>
<p><code>((Ar+(1A)R),(Ag+(1A)G),(Ab+(1A)B))  (R<sub>c</sub>,G<sub>c</sub>,B<sub>c</sub>)</code></p></item>
<item><p>Clamp output to 10-bit signal range:</p>
<p><code>(clamp(R<sub>c</sub>),clamp(G<sub>c</sub>),clamp(B<sub>c</sub>))  (R<sub>c</sub>,G<sub>c</sub>,B<sub>c</sub>)</code></p>
<p>where</p>
<p><code>clamp(x) = 0</code> for <code>x &lt; 0</code></p>
<p>and</p>
<p><code>clamp(x) = x</code> for <code>0  x  1023</code></p>
<p>and</p>
<p><code>clamp(x) = 1023</code> for <code>x &gt; 1023</code></p>
</item>
</olist>
<note><p>The above algorithm does not use the <loc href="#style-attribute-luminanceGain">
<att>tts:luminanceGain</att></loc> attribute since no absolute gain level is needed for HLG HDR. Rather, 
this algorithm maps peak <bibref ref="srgb"/> white to "graphics white" in HLG which is defined as 75% of the narrow range
signal defined in <bibref ref="bt2100_1"/>.</p></note>
<note><p>The gamma index 2.0 is intentionally different from gamma 2.2 specified in <bibref ref="srgb"/>. 
The value 2.2 from that specification is specific to the viewing environment specified therein, and includes 
a psychovisual rendering adjustment for those conditions. This adjustment is not required for an HLG signal,
which excludes display rendering.</p></note>
</div2>
</inform-div1>
<inform-div1 id="streaming">
<head>Streaming TTML Content</head>
<p>TTML Content can be authored to meet the following characteristics that may be useful in
streaming scenarios:</p>
<ulist>
<item>
<p>can be progressively encoded (i.e., does not require computing
subsequent data prior to sending current data);</p>
</item>
<item>
<p>can be progressively decoded (if it does not require forward
references, but uses only reverse references when necessary);</p>
</item>
<item>
<p>does not require dereferencing (and subsequent loading) of any
resource that is not contained in the same segment or access unit (or equivalent);</p>
</item>
<item>
<p>has timing structure compiled into inline format that makes
possible a temporal ordering of content that follows temporal
presentation order;</p>
</item>
</ulist>
<div2 id="root-fragmentation">
<head>Root and Branch Fragmentation</head>
<p>One possible means by which TTML Content may be streamed is to
partition a <loc href="#terms-document-instance">document instance</loc>&apos;s information set into
non-overlapping fragments, where one particular fragment, call it the
<emph>root fragment</emph>, represents the front matter (head) of the
<loc href="#terms-document-instance">document instance</loc> as well as its top level structural elements, and
other fragments represent content whose time intervals are expected to
be active in parallel.</p>
<p>In applications that require arbitrary (random) entry into a
stream, i.e., the property of being able to start reading data at an
arbitrary data access unit, the root fragment will be repetitively
transmitted (inserted) into the stream in order to permit a decoder to
resynchronize and acquire sufficient structural information in the
information set in order to interpret subsequent content
fragments.</p>
<p>An example of such a fragmentation of a <loc href="#terms-document-instance">document instance</loc> is
shown in <specref ref="fragment-streaming-graphic"/>.</p>
<table id="fragment-streaming-graphic" role="example-images">
<caption>Figure 2 &ndash; Fragment Streaming</caption>
<col/>
<tbody>
<tr>
<td><graphic id="graphic-fragment-streaming" source="images/streaming.png" alt="Fragment Streaming"/></td>
</tr>
</tbody>
</table>
<note>
<p>This specification does not define a transport buffer model or a decoder
capabilities model.</p>
</note>
</div2>
<div2 id="temporal-fragmentation">
<head>Temporal Fragmentation</head>
<p>Another means by which TTML Content may be streamed is to
partition a <loc href="#terms-document-instance">document instance</loc>&apos;s information set into
temporally bound fragments, each of which is itself a document instance that contains all the
front matter (head) and content required to present it, where the temporal interval for each
fragment is constrained, either by the <loc href="#terms-document-interchange-context">document
interchange context</loc> or by the <loc href="#terms-document-processing-context">
document processing context</loc> or by both, such that temporal overlaps with other fragments are
resolved.</p>
<p>For example, some document processing contexts resolve temporal overlap by specifying that a
maximum of one document instance can be active at any moment in the timeline, and additionally
specify precedence rules to establish which document instance that is, in case there are multiple
candidates.</p>
<p>In order to ensure that all the content is correctly displayed, any content that falls into an
<loc href="#terms-intermediate-synchronic-document">ISD</loc> whose interval overlaps with more
than one fragmentation interval might need to be duplicated within each fragment that is required to
generate that ISD. It is possible for implementations to identify adjacent ISDs that are identical
except in their intervals and replace them with a single ISD covering the combined interval.</p>
<p>The intent of this approach is that presentation processors are able to generate an equivalent
sequence of ISDs to that which would be generated by a non-streamed version of the document
instance, while taking advantage of the ability to avoid duplicating some controllable amount of
front matter, by varying the segment duration. Reconstruction of the original source is not
guaranteed to result in an identical document instance.</p>
<note role="example">
<p>This technique is used for example in <bibref ref="isobmff"/> and in <bibref ref="ebuttlive"/>.</p>
</note>
<p>An example of such a fragmentation of a <loc href="#terms-document-instance">document instance</loc> is
shown in <specref ref="temporal-fragmentation-graphic"/>.</p>
<table id="temporal-fragmentation-graphic" role="example-images">
<caption>Figure 3 &ndash; Temporal Fragmentation</caption>
<col/>
<tbody>
<tr>
<td><graphic id="graphic-temporal-fragmentation" source="images/temporal-fragmentation.png" alt="Temporal Fragmentation"/></td>
</tr>
</tbody>
</table>
<note role="explanation">
<p>In the above example, a single document instance has content visible during intervals
T<sub>1</sub> through T<sub>6</sub> and is fragmented into two document instances (segments),
the first including all content and referenced styles and regions required during T<sub>1</sub>
through T<sub>3</sub>, the second including all content and referenced styles and regions required
during T<sub>4</sub> through T<sub>6</sub>. 
</p>
</note></div2>
<div2 id="isd-streaming">
<head>ISD Streaming</head>
<p>It is possible to transform a <loc href="#terms-document-instance">document instance</loc> into
a sequence of <loc href="#terms-timed-text-intermediate-document-instance">timed text
intermediate document instances</loc> and to stream them as discrete entities.</p>
<p>This technique minimises client processing requirements while requiring all relevant front
matter to be duplicated in every ISD in which it applies. Reconstruction of the original source is
not guaranteed to result in an identical document instance.</p>
</div2>
</inform-div1>
<inform-div1 id="common-styling">
<head>Common Caption Style Examples</head>
<p>This section provides examples of the following common caption styles using TTML Content
to obtain the desired behavior:</p>
<ulist>
<item><p>Pop-On Captions</p></item>
<item><p>Roll-Up Captions</p></item>
<item><p>Paint-On Captions</p></item>
</ulist>
<div2 id="pop-on-example">
<head>Pop-On Caption Example</head>
<p>An example of paint-on captions. In this example, two regions are targeted with alternating, paint-on content, where content is timed
using explicit sequential time containment rules. Each paragraph is non-overlapping in time and appears in the same single row
of its targeted region.</p>
<table id="pop-on-example-1-s" role="example">
<caption>Example &ndash; Pop-On Captions</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">&ttml-ex2-pop-on;</eg>
</td>
</tr>
</tbody>
</table>
</div2>
<div2 id="roll-up-example">
<head>Roll-Up Caption Example</head>
<p>An example of roll-up captions. Roll-up effects are achieved by using overlapped time intervals, where zero, one, or two paragraphs appear in the region
at a given time. Each paragraph consumes a single row (line) of the region since no wrapping occurs. Depending on whether a <loc href="#terms-presentation-processor">presentation processor</loc> supports
<loc href="#semantics-smooth-scrolling-recommendation">smooth scrolling between adjacent synchronic intermediate document instances</loc>, the transitions, i.e., moving an
old paragraph (line) out and a new paragraph (line) in, will be either smooth or discrete.</p>
<table id="roll-up-example-1-s" role="example">
<caption>Example &ndash; Roll-Up Captions</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">&ttml-ex2-roll-up;</eg>
</td>
</tr>
</tbody>
</table>
</div2>
<div2 id="paint-on-example">
<head>Paint-On Caption Example</head>
<p>An example of paint-on captions. Paint-on effects are achieved by using timed <el>span</el> elements in order to expose (paint) inline text units, e.g., words,
over some time interval. Here, five paragraphs have their individual words sequentially timed in order to paint one new word every second. The end of the active duration of
each inline element coincides with the end of the <el>div</el> element&apos;s parallel time container, so that once a word is painted, it remains in the region (on its rendered line) until the <el>div</el> element&apos;s active time interval lapses.</p>
<table id="paint-on-example-1-s" role="example">
<caption>Example &ndash; Paint-On Captions</caption>
<tbody>
<tr>
<td>
<eg xml:space="preserve">&ttml-ex2-paint-on;</eg>
</td>
</tr>
</tbody>
</table>
</div2>
</inform-div1>
<inform-div1 id="customisation-options">
<head>Options for Presentation Customisation</head>
<p>This section provides a high level summary of the options available to document authors and to
implementers to customise the presentation of any given document instance.</p>
<p>Note that customisation in this context is the modification of specified presentation
behaviour. This section does not attempt to enumerate the ways in which unspecified presentation
behaviour can be implemented, such as font rasterisation algorithms.</p>
<div2 id="customisation-using-condition">
<head>Customisation Using Condition</head>
<p>
The <loc href="#content-attribute-condition">condition</loc> attribute allows the document author
to modify the intended presentation based on
input parameters known at authoring time. For example in a closed system there may be pre-defined
enumerated values for a <code>text-size</code> parameter which can be used to modify the styling
that applies to content. Or a <loc href="#content-value-media-function">media function</loc>
can be used to modify the position and extent of applicable regions based on a media query - see
<bibref ref="media-queries"/>.</p>
</div2>
<div2 id="customisation-using-preprocessor">
<head>Customisation Using Pre-processor</head>
<p>
It is possible to apply pre-processing techniques to modify a document instance prior to
presentation, for example using <bibref ref="xslt3"/> perhaps in the context of an
<bibref ref="xproc"/> pipeline, to modify the initial values of style attributes, or the root
element style attributes that are inherited. Such pre-processing is out of scope of this
specification, except insofar as that such a pre-processor is considered an instance of a
<loc href="#terms-transformation-processor">transformation processor</loc>.
</p>
</div2>
<div2 id="customisation-through-non-conformance">
<head>Customisation by Breaking Presentation Conformance</head>
<p>
Whilst this specification attempts to define
<loc href="#terms-presentation-processor">presentation processor</loc> conformance
requirements to the
extent that it is possible, this does not preclude any implementation from diverging deliberately
from such conformance where it is deemed appropriate. For example a presentation processor might
identify positional clashes between presented text and other visual indicators such as video
playback controls, and resolve those by moving the affected TTML region temporarily. Or a
presentation processor might offer the user options to reduce the presented font size
whilst not introducing unexpected line breaks.</p>
<p>By definition, any such non-conformance is out of scope of this specification.</p>
</div2>
</inform-div1>
<inform-div1 id="changes-from-ttml1-vocabulary">
<head>Changes to Vocabulary from TTML1</head>
<p>This section provides a high level summary of vocabulary changes between Timed Text Markup Language (TTML) Version 1 (TTML1)
and Version 2 (TTML2). It is not the intent of this summary to be exhaustive.</p>
<div2>
<head>New Element Vocabulary</head>
<p>New element vocabulary was added in the following sections of this specification as further described below:</p>
<ulist>
<item><p><loc href="#animation">Animation</loc></p></item>
<item><p><loc href="#embedded-content">Embedded Content</loc></p></item>
<item><p><loc href="#metadata">Metadata</loc></p></item>
<item><p><loc href="#styling">Styling</loc></p></item>
</ulist>
<div3>
<head>Animation Vocabulary</head>
<p>The following elements were added in order to enhance support for animation functionality:</p>
<glist>
<gitem role="vocabulary-new">
  <label><loc href="#animation-vocabulary-animate"><el>tt:animate</el></loc></label>
  <def><p>Support continuous animation within and across one or more temporally contiguous active time intervals.</p></def>
</gitem>
<gitem>
  <label><loc href="#animation-vocabulary-animation"><el>tt:animation</el></loc></label>
  <def><p>Support grouping of out-of-line animation directives in header matter.</p></def>
</gitem>
</glist>
</div3>
<div3>
<head>Embedded Content Vocabulary</head>
<p>The following elements were added in order to support embedded content and content references:</p>
<glist>
<gitem>
  <label><loc href="#embedded-content-vocabulary-audio"><el>tt:audio</el></loc></label>
  <def><p>Support use of built-in, embedded, and external audio resources.</p></def>
</gitem>
<gitem>
<label><loc href="#embedded-content-vocabulary-chunk"><el>tt:chunk</el></loc></label>
<def><p>Support use of chunking when embedding audio, data, font, and image resources,
where <emph>chunking</emph> refers to the subdivision of resource content into contiguous data segments (chunks).</p></def>
</gitem>
<gitem>
<label><loc href="#embedded-content-vocabulary-data"><el>tt:data</el></loc></label>
  <def><p>Support use of built-in, embedded, and external data resources.</p></def>
</gitem>
<gitem>
<label><loc href="#embedded-content-vocabulary-font"><el>tt:font</el></loc></label>
  <def><p>Support use of built-in, embedded, and external font resources.</p></def>
</gitem>
<gitem>
<label><loc href="#embedded-content-vocabulary-image"><el>tt:image</el></loc></label>
  <def><p>Support use of built-in, embedded, and external image resources.</p></def>
</gitem>
<gitem>
<label><loc href="#embedded-content-vocabulary-resources"><el>tt:resources</el></loc></label>
  <def><p>Support grouping of sharable embedded content and content references in header matter.</p></def>
</gitem>
<gitem>
<label><loc href="#embedded-content-vocabulary-source"><el>tt:source</el></loc></label>
  <def><p>Support alternative sources of embedded content and content references.</p></def>
</gitem>
</glist>
</div3>
<div3>
<head>Metadata Vocabulary</head>
<p>The following element was added in order to expand metadata functionality:</p>
<glist>
<gitem>
  <label><loc href="#metadata-vocabulary-item"><el>ttm:item</el></loc></label>
  <def>
    <p>Support extensible collection of named metadata items.</p>
    <note role="motivation">
      <p>This feature is motivated by the desire to avoid defining additional new vocabulary for metadata items that
      consist of a name and a value, where a generic, named metadata item element can serve future needs for defining
      an unbounded collection of such items.</p>
    </note>
  </def>
</gitem>
</glist>
</div3>
<div3>
<head>Styling Vocabulary</head>
<p>The following element was added in order to expand styling functionality:</p>
<glist>
<gitem>
  <label><loc href="#styling-vocabulary-initial"><el>tt:initial</el></loc></label>
  <def>
    <p>Support author specified initial values for style properties.</p>
    <note role="motivation">
      <p>This feature is motivated by multiple requirements, including
      (1) that it is desirable to be able to specify a fixed, determinate value for certain
      initial values for inherited style properties that this specification defines as implementation dependent, e.g.,
      the initial value of <loc href="#style-attribute-color"><att>tts:color</att></loc>, and
      (2) that it is desirable to be able to override the initial value for certain non-inherited style
      properties rather than be forced to explicitly specify a style value in each case, e.g., an initial value for
      <loc href="#style-attribute-showBackground"><att>tts:showBackground</att></loc>
      of <code>whenActive</code> may be preferred instead of the default initial value of <code>always</code>.</p>
    </note>
  </def>
</gitem>
</glist>
</div3>
</div2>
<div2>
<head>New Attribute Vocabulary</head>
<p>New attribute vocabulary was added in the following sections of this specification as further described below:</p>
<ulist>
<item><p><loc href="#animation-attribute-vocabulary">Animation Attributes</loc></p></item>
<item><p><loc href="#content-attribute-vocabulary">Content Attributes</loc></p></item>
<item><p><loc href="#parameter-attribute-vocabulary">Parameter Attributes</loc></p></item>
<item><p><loc href="#profile-attribute-vocabulary">Profile Attributes</loc></p></item>
<item><p><loc href="#styling-attribute-vocabulary">Styling Attributes</loc></p></item>
</ulist>
<div3>
<head>Animation Attributes</head>
<p>The following attribute was added in order to expand animation functionality:</p>
<ulist>
<item><p><loc href="#animation-attribute-animate">@<att>animate</att></loc></p></item>
</ulist>
</div3>
<div3>
<head>Content Attributes</head>
<p>The following attributes were added in order to expand content functionality:</p>
<ulist>
<item><p><loc href="#content-attribute-condition"><att>condition</att></loc></p></item>
<item><p><loc href="#content-attribute-xlink-arcrole"><att>xlink:arcrole</att></loc></p></item>
<item><p><loc href="#content-attribute-xlink-href"><att>xlink:href</att></loc></p></item>
<item><p><loc href="#content-attribute-xlink-role"><att>xlink:role</att></loc></p></item>
<item><p><loc href="#content-attribute-xlink-show"><att>xlink:show</att></loc></p></item>
<item><p><loc href="#content-attribute-xlink-title"><att>xlink:title</att></loc></p></item>
</ulist>
</div3>
<div3>
<head>Parameter Attributes</head>
<p>The following attributes were added in order to expand parameter functionality:</p>
<ulist>
<item><p><loc href="#parameter-attribute-displayAspectRatio"><att>ttp:displayAspectRatio</att></loc></p></item>
</ulist>
</div3>
<div3>
<head>Profile Attributes</head>
<p>The following attributes were added in order to expand profiling functionality:</p>
<ulist>
<item><p><loc href="#profile-attribute-contentProfiles"><att>ttp:contentProfiles</att></loc></p></item>
<item><p><loc href="#profile-attribute-contentProfileCombination"><att>ttp:contentProfileCombination</att></loc></p></item>
<item><p><loc href="#profile-attribute-inferProcessorProfileMethod"><att>ttp:inferProcessorProfileMethod</att></loc></p></item>
<item><p><loc href="#profile-attribute-inferProcessorProfileSource"><att>ttp:inferProcessorProfileSource</att></loc></p></item>
<item><p><loc href="#profile-attribute-permitFeatureNarrowing"><att>ttp:permitFeatureNarrowing</att></loc></p></item>
<item><p><loc href="#profile-attribute-permitFeatureWidening"><att>ttp:permitFeatureWidening</att></loc></p></item>
<item><p><loc href="#profile-attribute-processorProfiles"><att>ttp:processorProfiles</att></loc></p></item>
<item><p><loc href="#profile-attribute-processorProfileCombination"><att>ttp:processorProfileCombination</att></loc></p></item>
<item><p><loc href="#profile-attribute-validation"><att>ttp:validation</att></loc></p></item>
<item><p><loc href="#profile-attribute-validationAction"><att>ttp:validationAction</att></loc></p></item>
</ulist>
</div3>
<div3>
<head>Styling Attributes</head>
<p>The following attributes were added in order to expand styling functionality:</p>
<ulist>
<item><p><loc href="#style-attribute-backgroundClip"><att>tts:backgroundClip</att></loc></p></item>
<item><p><loc href="#style-attribute-backgroundExtent"><att>tts:backgroundExtent</att></loc></p></item>
<item><p><loc href="#style-attribute-backgroundImage"><att>tts:backgroundImage</att></loc></p></item>
<item><p><loc href="#style-attribute-backgroundOrigin"><att>tts:backgroundOrigin</att></loc></p></item>
<item><p><loc href="#style-attribute-backgroundPosition"><att>tts:backgroundPosition</att></loc></p></item>
<item><p><loc href="#style-attribute-backgroundRepeat"><att>tts:backgroundRepeat</att></loc></p></item>
<item><p><loc href="#style-attribute-border"><att>tts:border</att></loc></p></item>
<item><p><loc href="#style-attribute-bpd"><att>tts:bpd</att></loc></p></item>
<item><p><loc href="#style-attribute-disparity"><att>tts:disparity</att></loc></p></item>
<item><p><loc href="#style-attribute-fontKerning"><att>tts:fontKerning</att></loc></p></item>
<item><p><loc href="#style-attribute-fontSelectionStrategy"><att>tts:fontSelectionStrategy</att></loc></p></item>
<item><p><loc href="#style-attribute-fontShear"><att>tts:fontShear</att></loc></p></item>
<item><p><loc href="#style-attribute-fontVariant"><att>tts:fontVariant</att></loc></p></item>
<item><p><loc href="#style-attribute-ipd"><att>tts:ipd</att></loc></p></item>
<item><p><loc href="#style-attribute-letterSpacing"><att>tts:letterSpacing</att></loc></p></item>
<item><p><loc href="#style-attribute-lineShear"><att>tts:lineShear</att></loc></p></item>
<item><p><loc href="#style-attribute-luminanceGain"><att>tts:luminanceGain</att></loc></p></item>
<item><p><loc href="#style-attribute-position"><att>tts:position</att></loc></p></item>
<item><p><loc href="#style-attribute-ruby"><att>tts:ruby</att></loc></p></item>
<item><p><loc href="#style-attribute-rubyAlign"><att>tts:rubyAlign</att></loc></p></item>
<item><p><loc href="#style-attribute-rubyPosition"><att>tts:rubyPosition</att></loc></p></item>
<item><p><loc href="#style-attribute-rubyReserve"><att>tts:rubyReserve</att></loc></p></item>
<item><p><loc href="#style-attribute-shear"><att>tts:shear</att></loc></p></item>
<item><p><loc href="#style-attribute-textCombine"><att>tts:textCombine</att></loc></p></item>
<item><p><loc href="#style-attribute-textEmphasis"><att>tts:textEmphasis</att></loc></p></item>
<item><p><loc href="#style-attribute-textOrientation"><att>tts:textOrientation</att></loc></p></item>
<item><p><loc href="#style-attribute-textShadow"><att>tts:textShadow</att></loc></p></item>
</ulist>
</div3>
<div3>
<head>Styling Attributes for Audio</head>
<p>The following attributes were added in order to expand audio styling functionality:</p>
<ulist>
<item><p><loc href="#audio-style-attribute-gain"><att>tta:gain</att></loc></p></item>
<item><p><loc href="#audio-style-attribute-pan"><att>tta:pan</att></loc></p></item>
<item><p><loc href="#audio-style-attribute-pitch"><att>tta:pitch</att></loc></p></item>
<item><p><loc href="#audio-style-attribute-speak"><att>tta:speak</att></loc></p></item>
</ulist>
</div3>
</div2>
</inform-div1>
&acknowledgements;
</back>
</spec>
